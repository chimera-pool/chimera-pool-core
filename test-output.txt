=== RUN   TestSetup
    main_test.go:9: Γ£à Go testing framework is working
--- PASS: TestSetup (0.00s)
=== RUN   TestComponentExample
    main_test.go:22: Γ£à Component-first TDD approach validated
--- PASS: TestComponentExample (0.00s)
PASS
ok  	github.com/chimera-pool/chimera-pool-core	(cached)
go : # github.com/chimera-pool/chimera-pool-core/internal/geoip [github.com/chimera-pool/chimera-pool-core/internal/geoip.test]
At line:1 char:1
+ go test -v -short ./... 2>&1 | Out-File -FilePath test-output.txt -En ...
+ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : NotSpecified: (# github.com/ch...nal/geoip.test]:String) [], RemoteException
    + FullyQualifiedErrorId : NativeCommandError
 
internal\geoip\geoip_test.go:35:26: cannot use ip (variable of type interface{IsLinkLocalUnicast() bool; IsLoopback() bool; IsPrivate() bool}) as net.IP value in argument 
to isPrivateIP: need type assertion
=== RUN   TestAdminListUsers
    admin_test.go:19: Skipping integration test - set INTEGRATION_TEST=true to run
--- SKIP: TestAdminListUsers (0.00s)
=== RUN   TestAdminGetUser
    admin_test.go:19: Skipping integration test - set INTEGRATION_TEST=true to run
--- SKIP: TestAdminGetUser (0.00s)
=== RUN   TestAdminUpdateUser
    admin_test.go:19: Skipping integration test - set INTEGRATION_TEST=true to run
--- SKIP: TestAdminUpdateUser (0.00s)
=== RUN   TestAdminUserEarnings
    admin_test.go:19: Skipping integration test - set INTEGRATION_TEST=true to run
--- SKIP: TestAdminUserEarnings (0.00s)
=== RUN   TestAdminRequiresAuth
    admin_test.go:19: Skipping integration test - set INTEGRATION_TEST=true to run
--- SKIP: TestAdminRequiresAuth (0.00s)
PASS
ok  	github.com/chimera-pool/chimera-pool-core/cmd/api	(cached)
=== RUN   TestMinerStructHasUserTracking
--- PASS: TestMinerStructHasUserTracking (0.00s)
=== RUN   TestAuthorizeUserLookup
=== RUN   TestAuthorizeUserLookup/user_exists
2025/12/26 06:02:52 Miner test-miner-1 authorized as picaxe (user_id: 34, login: picaxe)
--- PASS: TestAuthorizeUserLookup (0.00s)
    --- PASS: TestAuthorizeUserLookup/user_exists (0.00s)
=== RUN   TestAuthorizeUserNotFound
2025/12/26 06:02:52 Authorization failed for test-miner-1: user 'unknown_user' not found (checked username and email)
--- PASS: TestAuthorizeUserNotFound (0.00s)
=== RUN   TestShareAttributionRequiresUserID
2025/12/26 06:02:52 Share rejected from test-miner-1: no user_id set
--- PASS: TestShareAttributionRequiresUserID (0.00s)
=== RUN   TestShareAttributionWithValidUser
--- PASS: TestShareAttributionWithValidUser (0.00s)
=== RUN   TestMinerUserIDPreservation
--- PASS: TestMinerUserIDPreservation (0.00s)
PASS
ok  	github.com/chimera-pool/chimera-pool-core/cmd/stratum	(cached)
=== RUN   TestAdminUserWalletVisibility
=== RUN   TestAdminUserWalletVisibility/Admin_can_see_user_wallets_in_user_detail_response
=== RUN   TestAdminUserWalletVisibility/Wallet_summary_shows_allocation_percentage_totals
=== RUN   TestAdminUserWalletVisibility/Single_wallet_user_shows_100%_allocation
=== RUN   TestAdminUserWalletVisibility/Multiple_wallets_show_split_percentages
--- PASS: TestAdminUserWalletVisibility (0.00s)
    --- PASS: TestAdminUserWalletVisibility/Admin_can_see_user_wallets_in_user_detail_response (0.00s)
    --- PASS: TestAdminUserWalletVisibility/Wallet_summary_shows_allocation_percentage_totals (0.00s)
    --- PASS: TestAdminUserWalletVisibility/Single_wallet_user_shows_100%_allocation (0.00s)
    --- PASS: TestAdminUserWalletVisibility/Multiple_wallets_show_split_percentages (0.00s)
=== RUN   TestAdminUserListWalletInfo
=== RUN   TestAdminUserListWalletInfo/User_list_includes_wallet_count_and_primary_address
--- PASS: TestAdminUserListWalletInfo (0.00s)
    --- PASS: TestAdminUserListWalletInfo/User_list_includes_wallet_count_and_primary_address (0.00s)
=== RUN   TestAuthHandlers_Register
=== RUN   TestAuthHandlers_Register/successful_registration
=== RUN   TestAuthHandlers_Register/registration_with_invalid_email
=== RUN   TestAuthHandlers_Register/registration_with_weak_password
=== RUN   TestAuthHandlers_Register/registration_with_duplicate_email
=== RUN   TestAuthHandlers_Register/registration_with_missing_username
--- PASS: TestAuthHandlers_Register (0.00s)
    --- PASS: TestAuthHandlers_Register/successful_registration (0.00s)
    --- PASS: TestAuthHandlers_Register/registration_with_invalid_email (0.00s)
    --- PASS: TestAuthHandlers_Register/registration_with_weak_password (0.00s)
    --- PASS: TestAuthHandlers_Register/registration_with_duplicate_email (0.00s)
    --- PASS: TestAuthHandlers_Register/registration_with_missing_username (0.00s)
=== RUN   TestAuthHandlers_Login
=== RUN   TestAuthHandlers_Login/successful_login
=== RUN   TestAuthHandlers_Login/login_with_invalid_credentials
=== RUN   TestAuthHandlers_Login/login_with_missing_email
=== RUN   TestAuthHandlers_Login/login_with_token_generation_failure
--- PASS: TestAuthHandlers_Login (0.00s)
    --- PASS: TestAuthHandlers_Login/successful_login (0.00s)
    --- PASS: TestAuthHandlers_Login/login_with_invalid_credentials (0.00s)
    --- PASS: TestAuthHandlers_Login/login_with_missing_email (0.00s)
    --- PASS: TestAuthHandlers_Login/login_with_token_generation_failure (0.00s)
=== RUN   TestAuthHandlers_ForgotPassword
=== RUN   TestAuthHandlers_ForgotPassword/successful_forgot_password_request
=== RUN   TestAuthHandlers_ForgotPassword/forgot_password_with_non-existent_email_returns_success
=== RUN   TestAuthHandlers_ForgotPassword/forgot_password_with_invalid_email_format
--- PASS: TestAuthHandlers_ForgotPassword (0.00s)
    --- PASS: TestAuthHandlers_ForgotPassword/successful_forgot_password_request (0.00s)
    --- PASS: TestAuthHandlers_ForgotPassword/forgot_password_with_non-existent_email_returns_success (0.00s)
    --- PASS: TestAuthHandlers_ForgotPassword/forgot_password_with_invalid_email_format (0.00s)
=== RUN   TestAuthHandlers_ResetPassword
=== RUN   TestAuthHandlers_ResetPassword/successful_password_reset
=== RUN   TestAuthHandlers_ResetPassword/reset_password_with_invalid_token
=== RUN   TestAuthHandlers_ResetPassword/reset_password_with_expired_token
=== RUN   TestAuthHandlers_ResetPassword/reset_password_with_weak_new_password
--- PASS: TestAuthHandlers_ResetPassword (0.00s)
    --- PASS: TestAuthHandlers_ResetPassword/successful_password_reset (0.00s)
    --- PASS: TestAuthHandlers_ResetPassword/reset_password_with_invalid_token (0.00s)
    --- PASS: TestAuthHandlers_ResetPassword/reset_password_with_expired_token (0.00s)
    --- PASS: TestAuthHandlers_ResetPassword/reset_password_with_weak_new_password (0.00s)
=== RUN   TestAuthMiddleware
=== RUN   TestAuthMiddleware/valid_token_allows_request
=== RUN   TestAuthMiddleware/missing_authorization_header
=== RUN   TestAuthMiddleware/invalid_token
=== RUN   TestAuthMiddleware/token_without_Bearer_prefix
--- PASS: TestAuthMiddleware (0.00s)
    --- PASS: TestAuthMiddleware/valid_token_allows_request (0.00s)
    --- PASS: TestAuthMiddleware/missing_authorization_header (0.00s)
    --- PASS: TestAuthMiddleware/invalid_token (0.00s)
    --- PASS: TestAuthMiddleware/token_without_Bearer_prefix (0.00s)
=== RUN   TestISP_InterfaceSegregation
=== RUN   TestISP_InterfaceSegregation/PasswordHasher_has_single_responsibility
=== RUN   TestISP_InterfaceSegregation/TokenGenerator_has_single_responsibility
=== RUN   TestISP_InterfaceSegregation/TokenValidator_has_single_responsibility
=== RUN   TestISP_InterfaceSegregation/handlers_can_work_with_minimal_dependencies
--- PASS: TestISP_InterfaceSegregation (0.00s)
    --- PASS: TestISP_InterfaceSegregation/PasswordHasher_has_single_responsibility (0.00s)
    --- PASS: TestISP_InterfaceSegregation/TokenGenerator_has_single_responsibility (0.00s)
    --- PASS: TestISP_InterfaceSegregation/TokenValidator_has_single_responsibility (0.00s)
    --- PASS: TestISP_InterfaceSegregation/handlers_can_work_with_minimal_dependencies (0.00s)
=== RUN   TestBcryptHasher_Hash
--- PASS: TestBcryptHasher_Hash (0.06s)
=== RUN   TestBcryptHasher_Verify
=== RUN   TestBcryptHasher_Verify/correct_password
=== RUN   TestBcryptHasher_Verify/wrong_password
=== RUN   TestBcryptHasher_Verify/empty_password
--- PASS: TestBcryptHasher_Verify (0.21s)
    --- PASS: TestBcryptHasher_Verify/correct_password (0.05s)
    --- PASS: TestBcryptHasher_Verify/wrong_password (0.05s)
    --- PASS: TestBcryptHasher_Verify/empty_password (0.05s)
=== RUN   TestJWTTokenGenerator_Generate
--- PASS: TestJWTTokenGenerator_Generate (0.00s)
=== RUN   TestJWTTokenValidator_Validate
--- PASS: TestJWTTokenValidator_Validate (0.00s)
=== RUN   TestJWTTokenValidator_Validate_InvalidToken
=== RUN   TestJWTTokenValidator_Validate_InvalidToken/empty_token
=== RUN   TestJWTTokenValidator_Validate_InvalidToken/random_string
=== RUN   TestJWTTokenValidator_Validate_InvalidToken/malformed_jwt
=== RUN   TestJWTTokenValidator_Validate_InvalidToken/wrong_signature
--- PASS: TestJWTTokenValidator_Validate_InvalidToken (0.00s)
    --- PASS: TestJWTTokenValidator_Validate_InvalidToken/empty_token (0.00s)
    --- PASS: TestJWTTokenValidator_Validate_InvalidToken/random_string (0.00s)
    --- PASS: TestJWTTokenValidator_Validate_InvalidToken/malformed_jwt (0.00s)
    --- PASS: TestJWTTokenValidator_Validate_InvalidToken/wrong_signature (0.00s)
=== RUN   TestJWTTokenValidator_Validate_WrongSecret
--- PASS: TestJWTTokenValidator_Validate_WrongSecret (0.00s)
=== RUN   TestAuthServices_Factory
--- PASS: TestAuthServices_Factory (0.00s)
=== RUN   TestJWTClaims_Initialization
--- PASS: TestJWTClaims_Initialization (0.00s)
=== RUN   TestErrorResponse_Initialization
--- PASS: TestErrorResponse_Initialization (0.00s)
=== RUN   TestPoolStats_Initialization
--- PASS: TestPoolStats_Initialization (0.00s)
=== RUN   TestPoolStatsResponse_Initialization
--- PASS: TestPoolStatsResponse_Initialization (0.00s)
=== RUN   TestUserProfile_Initialization
--- PASS: TestUserProfile_Initialization (0.00s)
=== RUN   TestUserStats_Initialization
--- PASS: TestUserStats_Initialization (0.00s)
=== RUN   TestMinerStats_Initialization
--- PASS: TestMinerStats_Initialization (0.00s)
=== RUN   TestMinerInfo_Initialization
--- PASS: TestMinerInfo_Initialization (0.00s)
=== RUN   TestUserMinersResponse_Initialization
--- PASS: TestUserMinersResponse_Initialization (0.00s)
=== RUN   TestRealTimeStats_Initialization
--- PASS: TestRealTimeStats_Initialization (0.00s)
=== RUN   TestBlockMetrics_Initialization
--- PASS: TestBlockMetrics_Initialization (0.00s)
=== RUN   TestMFASetupResponse_Initialization
--- PASS: TestMFASetupResponse_Initialization (0.00s)
=== RUN   TestVerifyMFARequest_Initialization
--- PASS: TestVerifyMFARequest_Initialization (0.00s)
=== RUN   TestAuthMiddlewareStandalone_NoAuthHeader
--- PASS: TestAuthMiddlewareStandalone_NoAuthHeader (0.00s)
=== RUN   TestAuthMiddlewareStandalone_NoBearerPrefix
--- PASS: TestAuthMiddlewareStandalone_NoBearerPrefix (0.00s)
=== RUN   TestAuthMiddlewareStandalone_InvalidToken
--- PASS: TestAuthMiddlewareStandalone_InvalidToken (0.00s)
=== RUN   TestAuthMiddlewareStandalone_ValidToken
--- PASS: TestAuthMiddlewareStandalone_ValidToken (0.00s)
=== RUN   TestAuthMiddlewareStandalone_TokenWithoutUserID
--- PASS: TestAuthMiddlewareStandalone_TokenWithoutUserID (0.00s)
=== RUN   TestAuthMiddlewareStandalone_ExpiredToken
--- PASS: TestAuthMiddlewareStandalone_ExpiredToken (0.00s)
=== RUN   TestAuthMiddlewareStandalone_WrongSigningMethod
--- PASS: TestAuthMiddlewareStandalone_WrongSigningMethod (0.00s)
=== RUN   TestModels_ZeroValues
=== RUN   TestModels_ZeroValues/JWTClaims_ZeroValue
=== RUN   TestModels_ZeroValues/ErrorResponse_ZeroValue
=== RUN   TestModels_ZeroValues/PoolStats_ZeroValue
=== RUN   TestModels_ZeroValues/UserProfile_ZeroValue
=== RUN   TestModels_ZeroValues/MinerInfo_ZeroValue
=== RUN   TestModels_ZeroValues/BlockMetrics_ZeroValue
--- PASS: TestModels_ZeroValues (0.00s)
    --- PASS: TestModels_ZeroValues/JWTClaims_ZeroValue (0.00s)
    --- PASS: TestModels_ZeroValues/ErrorResponse_ZeroValue (0.00s)
    --- PASS: TestModels_ZeroValues/PoolStats_ZeroValue (0.00s)
    --- PASS: TestModels_ZeroValues/UserProfile_ZeroValue (0.00s)
    --- PASS: TestModels_ZeroValues/MinerInfo_ZeroValue (0.00s)
    --- PASS: TestModels_ZeroValues/BlockMetrics_ZeroValue (0.00s)
=== RUN   TestUserStatsResponse_Initialization
--- PASS: TestUserStatsResponse_Initialization (0.00s)
=== RUN   TestRealTimeStatsResponse_Initialization
--- PASS: TestRealTimeStatsResponse_Initialization (0.00s)
=== RUN   TestBlockMetricsResponse_Initialization
--- PASS: TestBlockMetricsResponse_Initialization (0.00s)
=== RUN   TestUserProfileResponse_Initialization
--- PASS: TestUserProfileResponse_Initialization (0.00s)
=== RUN   TestUpdateUserProfileRequest_Initialization
--- PASS: TestUpdateUserProfileRequest_Initialization (0.00s)
=== RUN   TestAuthMiddlewareStandalone_TokenWithStringUserID
--- PASS: TestAuthMiddlewareStandalone_TokenWithStringUserID (0.00s)
=== RUN   TestAuthMiddlewareStandalone_ValidTokenWithoutUsername
--- PASS: TestAuthMiddlewareStandalone_ValidTokenWithoutUsername (0.00s)
=== RUN   TestPoolStats_Efficiency
--- PASS: TestPoolStats_Efficiency (0.00s)
=== RUN   TestUserStats_Efficiency
--- PASS: TestUserStats_Efficiency (0.00s)
=== RUN   TestMinerStats_Efficiency
--- PASS: TestMinerStats_Efficiency (0.00s)
=== RUN   TestBlockMetrics_OrphanRate
--- PASS: TestBlockMetrics_OrphanRate (0.00s)
=== RUN   TestUserMinersResponse_EmptyMiners
--- PASS: TestUserMinersResponse_EmptyMiners (0.00s)
=== RUN   TestMFASetupResponse_BackupCodes
--- PASS: TestMFASetupResponse_BackupCodes (0.00s)
=== RUN   TestVerifyMFARequest_EmptyCode
--- PASS: TestVerifyMFARequest_EmptyCode (0.00s)
=== RUN   TestUpdateUserProfileRequest_EmptyEmail
--- PASS: TestUpdateUserProfileRequest_EmptyEmail (0.00s)
=== RUN   TestJWTClaims_Expiration
--- PASS: TestJWTClaims_Expiration (0.00s)
=== RUN   TestErrorResponse_HTTPCodes
=== RUN   TestErrorResponse_HTTPCodes/BadRequest
=== RUN   TestErrorResponse_HTTPCodes/Unauthorized
=== RUN   TestErrorResponse_HTTPCodes/Forbidden
=== RUN   TestErrorResponse_HTTPCodes/NotFound
=== RUN   TestErrorResponse_HTTPCodes/InternalError
--- PASS: TestErrorResponse_HTTPCodes (0.00s)
    --- PASS: TestErrorResponse_HTTPCodes/BadRequest (0.00s)
    --- PASS: TestErrorResponse_HTTPCodes/Unauthorized (0.00s)
    --- PASS: TestErrorResponse_HTTPCodes/Forbidden (0.00s)
    --- PASS: TestErrorResponse_HTTPCodes/NotFound (0.00s)
    --- PASS: TestErrorResponse_HTTPCodes/InternalError (0.00s)
=== RUN   TestPoolStatsResponse_AllFields
--- PASS: TestPoolStatsResponse_AllFields (0.00s)
=== RUN   TestRealTimeStats_SharesPerSecond
--- PASS: TestRealTimeStats_SharesPerSecond (0.00s)
=== RUN   TestE2EAPIWorkflows
=== RUN   TestE2EAPIWorkflows/TestCompleteUserWorkflow
    e2e_test.go:148: PASS:	ValidateJWT(string)
    e2e_test.go:149: PASS:	GetUserStats(int64)
    e2e_test.go:150: PASS:	GetUserProfile(int64)
    e2e_test.go:150: PASS:	GetUserMiners(int64)
=== RUN   TestE2EAPIWorkflows/TestHealthCheck
=== RUN   TestE2EAPIWorkflows/TestMFAWorkflow
    e2e_test.go:213: PASS:	ValidateJWT(string)
    e2e_test.go:213: PASS:	ValidateJWT(string)
    e2e_test.go:214: PASS:	GetUserProfile(int64)
    e2e_test.go:214: PASS:	GetUserMiners(int64)
    e2e_test.go:214: PASS:	SetupMFA(int64)
    e2e_test.go:214: PASS:	VerifyMFA(int64,string)
=== RUN   TestE2EAPIWorkflows/TestPoolStatisticsWorkflow
    e2e_test.go:298: PASS:	GetUserStats(int64)
    e2e_test.go:298: PASS:	GetPoolStats()
    e2e_test.go:298: PASS:	GetRealTimeStats()
    e2e_test.go:298: PASS:	GetBlockMetrics()
=== RUN   TestE2EAPIWorkflows/TestSecurityAndErrorHandling
    e2e_test.go:340: PASS:	ValidateJWT(string)
    e2e_test.go:340: PASS:	ValidateJWT(string)
    e2e_test.go:340: PASS:	ValidateJWT(string)
    e2e_test.go:341: PASS:	GetUserStats(int64)
    e2e_test.go:341: PASS:	GetPoolStats()
    e2e_test.go:341: PASS:	GetRealTimeStats()
    e2e_test.go:341: PASS:	GetBlockMetrics()
--- PASS: TestE2EAPIWorkflows (0.00s)
    --- PASS: TestE2EAPIWorkflows/TestCompleteUserWorkflow (0.00s)
    --- PASS: TestE2EAPIWorkflows/TestHealthCheck (0.00s)
    --- PASS: TestE2EAPIWorkflows/TestMFAWorkflow (0.00s)
    --- PASS: TestE2EAPIWorkflows/TestPoolStatisticsWorkflow (0.00s)
    --- PASS: TestE2EAPIWorkflows/TestSecurityAndErrorHandling (0.00s)
=== RUN   TestPoolStatsHandler_GetPoolStats_Success
    handlers_test.go:163: PASS:	GetPoolStats()
--- PASS: TestPoolStatsHandler_GetPoolStats_Success (0.00s)
=== RUN   TestPoolStatsHandler_GetPoolStats_ServiceError
    handlers_test.go:191: PASS:	GetPoolStats()
--- PASS: TestPoolStatsHandler_GetPoolStats_ServiceError (0.00s)
=== RUN   TestUserHandler_GetUserProfile_Success
    handlers_test.go:235: PASS:	GetUserProfile(int64)
--- PASS: TestUserHandler_GetUserProfile_Success (0.00s)
=== RUN   TestUserHandler_GetUserProfile_Unauthorized
--- PASS: TestUserHandler_GetUserProfile_Unauthorized (0.00s)
=== RUN   TestUserHandler_UpdateUserProfile_Success
    handlers_test.go:303: PASS:	UpdateUserProfile(int64,*api.UpdateUserProfileRequest)
--- PASS: TestUserHandler_UpdateUserProfile_Success (0.00s)
=== RUN   TestUserHandler_GetUserStats_Success
    handlers_test.go:348: PASS:	GetUserStats(int64)
--- PASS: TestUserHandler_GetUserStats_Success (0.00s)
=== RUN   TestUserHandler_GetUserMiners_Success
    handlers_test.go:399: PASS:	GetUserMiners(int64)
--- PASS: TestUserHandler_GetUserMiners_Success (0.00s)
=== RUN   TestAuthMiddleware_ValidToken_Success
    handlers_test.go:438: PASS:	ValidateJWT(string)
--- PASS: TestAuthMiddleware_ValidToken_Success (0.00s)
=== RUN   TestAuthMiddleware_InvalidToken_Unauthorized
    handlers_test.go:471: PASS:	ValidateJWT(string)
--- PASS: TestAuthMiddleware_InvalidToken_Unauthorized (0.00s)
=== RUN   TestAuthMiddleware_MissingToken_Unauthorized
--- PASS: TestAuthMiddleware_MissingToken_Unauthorized (0.00s)
=== RUN   TestHealthCheck_Success
--- PASS: TestHealthCheck_Success (0.00s)
=== RUN   TestPoolStatsHandler_GetRealTimeStats_Success
    handlers_test.go:559: PASS:	GetRealTimeStats()
--- PASS: TestPoolStatsHandler_GetRealTimeStats_Success (0.00s)
=== RUN   TestPoolStatsHandler_GetRealTimeStats_ServiceError
    handlers_test.go:587: PASS:	GetRealTimeStats()
--- PASS: TestPoolStatsHandler_GetRealTimeStats_ServiceError (0.00s)
=== RUN   TestPoolStatsHandler_GetBlockMetrics_Success
    handlers_test.go:629: PASS:	GetBlockMetrics()
--- PASS: TestPoolStatsHandler_GetBlockMetrics_Success (0.00s)
=== RUN   TestUserHandler_SetupMFA_Success
    handlers_test.go:671: PASS:	SetupMFA(int64)
--- PASS: TestUserHandler_SetupMFA_Success (0.00s)
=== RUN   TestUserHandler_VerifyMFA_Success
    handlers_test.go:710: PASS:	VerifyMFA(int64,string)
--- PASS: TestUserHandler_VerifyMFA_Success (0.00s)
=== RUN   TestUserHandler_VerifyMFA_InvalidCode
    handlers_test.go:749: PASS:	VerifyMFA(int64,string)
--- PASS: TestUserHandler_VerifyMFA_InvalidCode (0.00s)
=== RUN   TestAuthMiddleware_RateLimit_TooManyRequests
    handlers_test.go:782: PASS:	ValidateJWT(string)
--- PASS: TestAuthMiddleware_RateLimit_TooManyRequests (0.00s)
=== RUN   TestAPIHandlers_ErrorHandling_DatabaseConnection
    handlers_test.go:812: PASS:	GetPoolStats()
--- PASS: TestAPIHandlers_ErrorHandling_DatabaseConnection (0.00s)
=== RUN   TestIntegrationAPIWorkflows
=== RUN   TestIntegrationAPIWorkflows/TestIntegration_AuthenticationFlow
    integration_test.go:118: Integration test requires real auth service - skipped for unit tests
=== RUN   TestIntegrationAPIWorkflows/TestIntegration_CompleteAPIFlow
=== RUN   TestIntegrationAPIWorkflows/TestIntegration_ConcurrentRequests
    integration_test.go:355: Integration test requires real auth service - skipped for unit tests
=== RUN   TestIntegrationAPIWorkflows/TestIntegration_ErrorHandling
    integration_test.go:317: Integration test requires real auth service - skipped for unit tests
=== RUN   TestIntegrationAPIWorkflows/TestIntegration_JWTTokenLifecycle
    integration_test.go:403: Integration test requires real auth service - skipped for unit tests
=== RUN   TestIntegrationAPIWorkflows/TestIntegration_MFAFlow
    integration_test.go:249: Integration test requires real auth service - skipped for unit tests
=== RUN   TestIntegrationAPIWorkflows/TestIntegration_UserDataFlow
    integration_test.go:174: Integration test requires real auth service - skipped for unit tests
--- PASS: TestIntegrationAPIWorkflows (0.00s)
    --- SKIP: TestIntegrationAPIWorkflows/TestIntegration_AuthenticationFlow (0.00s)
    --- PASS: TestIntegrationAPIWorkflows/TestIntegration_CompleteAPIFlow (0.00s)
    --- SKIP: TestIntegrationAPIWorkflows/TestIntegration_ConcurrentRequests (0.00s)
    --- SKIP: TestIntegrationAPIWorkflows/TestIntegration_ErrorHandling (0.00s)
    --- SKIP: TestIntegrationAPIWorkflows/TestIntegration_JWTTokenLifecycle (0.00s)
    --- SKIP: TestIntegrationAPIWorkflows/TestIntegration_MFAFlow (0.00s)
    --- SKIP: TestIntegrationAPIWorkflows/TestIntegration_UserDataFlow (0.00s)
=== RUN   TestNewMinerMonitoringService
--- PASS: TestNewMinerMonitoringService (0.00s)
=== RUN   TestGetUserMinerSummary
--- PASS: TestGetUserMinerSummary (0.00s)
=== RUN   TestGetMinerDetail
--- PASS: TestGetMinerDetail (0.00s)
=== RUN   TestGetAllMinersForAdmin
--- PASS: TestGetAllMinersForAdmin (0.00s)
=== RUN   TestGetMinerShareHistory
--- PASS: TestGetMinerShareHistory (0.00s)
=== RUN   TestFormatDuration
--- PASS: TestFormatDuration (0.00s)
=== RUN   TestMinerDetailShareStats
--- PASS: TestMinerDetailShareStats (0.00s)
=== RUN   TestPerformanceMetrics
--- PASS: TestPerformanceMetrics (0.00s)
=== RUN   TestPayoutHandlers_GetPayoutSettings
=== RUN   TestPayoutHandlers_GetPayoutSettings/returns_user_settings
=== RUN   TestPayoutHandlers_GetPayoutSettings/returns_default_settings_for_new_user
=== RUN   TestPayoutHandlers_GetPayoutSettings/returns_unauthorized_without_auth
--- PASS: TestPayoutHandlers_GetPayoutSettings (0.00s)
    --- PASS: TestPayoutHandlers_GetPayoutSettings/returns_user_settings (0.00s)
    --- PASS: TestPayoutHandlers_GetPayoutSettings/returns_default_settings_for_new_user (0.00s)
    --- PASS: TestPayoutHandlers_GetPayoutSettings/returns_unauthorized_without_auth (0.00s)
=== RUN   TestPayoutHandlers_UpdatePayoutSettings
=== RUN   TestPayoutHandlers_UpdatePayoutSettings/updates_payout_mode
=== RUN   TestPayoutHandlers_UpdatePayoutSettings/updates_min_payout_amount
=== RUN   TestPayoutHandlers_UpdatePayoutSettings/rejects_invalid_payout_mode
--- PASS: TestPayoutHandlers_UpdatePayoutSettings (0.00s)
    --- PASS: TestPayoutHandlers_UpdatePayoutSettings/updates_payout_mode (0.00s)
    --- PASS: TestPayoutHandlers_UpdatePayoutSettings/updates_min_payout_amount (0.00s)
    --- PASS: TestPayoutHandlers_UpdatePayoutSettings/rejects_invalid_payout_mode (0.00s)
=== RUN   TestPayoutHandlers_GetAvailablePayoutModes
=== RUN   TestPayoutHandlers_GetAvailablePayoutModes/returns_all_payout_modes
--- PASS: TestPayoutHandlers_GetAvailablePayoutModes (0.00s)
    --- PASS: TestPayoutHandlers_GetAvailablePayoutModes/returns_all_payout_modes (0.00s)
=== RUN   TestPayoutHandlers_GetPoolFeeConfig
=== RUN   TestPayoutHandlers_GetPoolFeeConfig/returns_fee_configuration
--- PASS: TestPayoutHandlers_GetPoolFeeConfig (0.00s)
    --- PASS: TestPayoutHandlers_GetPoolFeeConfig/returns_fee_configuration (0.00s)
=== RUN   TestPayoutHandlers_GetPayoutEstimate
=== RUN   TestPayoutHandlers_GetPayoutEstimate/returns_payout_estimate
=== RUN   TestPayoutHandlers_GetPayoutEstimate/accepts_mode_parameter
=== RUN   TestPayoutHandlers_GetPayoutEstimate/rejects_invalid_mode_parameter
--- PASS: TestPayoutHandlers_GetPayoutEstimate (0.00s)
    --- PASS: TestPayoutHandlers_GetPayoutEstimate/returns_payout_estimate (0.00s)
    --- PASS: TestPayoutHandlers_GetPayoutEstimate/accepts_mode_parameter (0.00s)
    --- PASS: TestPayoutHandlers_GetPayoutEstimate/rejects_invalid_mode_parameter (0.00s)
=== RUN   TestDefaultPayoutService_GetAvailablePayoutModes
--- PASS: TestDefaultPayoutService_GetAvailablePayoutModes (0.00s)
=== RUN   TestDefaultPayoutService_GetPoolFeeConfig
--- PASS: TestDefaultPayoutService_GetPoolFeeConfig (0.00s)
=== RUN   TestDefaultPayoutService_EstimatePayout
--- PASS: TestDefaultPayoutService_EstimatePayout (0.00s)
=== RUN   TestAPIPerformance_ConcurrentRequests
    performance_test.go:52: Skipping performance test in short mode
--- SKIP: TestAPIPerformance_ConcurrentRequests (0.00s)
=== RUN   TestAPIPerformance_AuthenticationOverhead
    performance_test.go:247: Authentication Performance Results:
    performance_test.go:248:   Total Authenticated Requests: 500
    performance_test.go:249:   Total Duration: 24.3853ms
    performance_test.go:250:   Average Response Time: 2.082404ms
    performance_test.go:251:   Requests per Second: 20504.16
--- PASS: TestAPIPerformance_AuthenticationOverhead (0.03s)
=== RUN   TestAPIPerformance_RealTimeStatsEndpoint
    performance_test.go:337: Real-Time Stats Performance Results:
    performance_test.go:338:   Total Requests: 1000
    performance_test.go:339:   Total Duration: 10.3799653s
    performance_test.go:340:   Average Response Time: 8.165┬╡s
    performance_test.go:341:   Max Response Time: 2.4909ms
    performance_test.go:342:   Actual Requests per Second: 96.34
--- PASS: TestAPIPerformance_RealTimeStatsEndpoint (10.38s)
=== RUN   TestPoolHandlers_GetPoolStats
=== RUN   TestPoolHandlers_GetPoolStats/successful_get_pool_stats
=== RUN   TestPoolHandlers_GetPoolStats/pool_stats_error
--- PASS: TestPoolHandlers_GetPoolStats (0.00s)
    --- PASS: TestPoolHandlers_GetPoolStats/successful_get_pool_stats (0.00s)
    --- PASS: TestPoolHandlers_GetPoolStats/pool_stats_error (0.00s)
=== RUN   TestPoolHandlers_GetRecentBlocks
=== RUN   TestPoolHandlers_GetRecentBlocks/successful_get_recent_blocks
=== RUN   TestPoolHandlers_GetRecentBlocks/get_blocks_with_custom_limit
=== RUN   TestPoolHandlers_GetRecentBlocks/blocks_error
--- PASS: TestPoolHandlers_GetRecentBlocks (0.00s)
    --- PASS: TestPoolHandlers_GetRecentBlocks/successful_get_recent_blocks (0.00s)
    --- PASS: TestPoolHandlers_GetRecentBlocks/get_blocks_with_custom_limit (0.00s)
    --- PASS: TestPoolHandlers_GetRecentBlocks/blocks_error (0.00s)
=== RUN   TestPoolHandlers_GetBlockByHeight
=== RUN   TestPoolHandlers_GetBlockByHeight/successful_get_block_by_height
=== RUN   TestPoolHandlers_GetBlockByHeight/block_not_found
--- PASS: TestPoolHandlers_GetBlockByHeight (0.00s)
    --- PASS: TestPoolHandlers_GetBlockByHeight/successful_get_block_by_height (0.00s)
    --- PASS: TestPoolHandlers_GetBlockByHeight/block_not_found (0.00s)
=== RUN   TestPoolHandlers_GetBlockByHash
=== RUN   TestPoolHandlers_GetBlockByHash/successful_get_block_by_hash
=== RUN   TestPoolHandlers_GetBlockByHash/invalid_hash_format
=== RUN   TestPoolHandlers_GetBlockByHash/block_not_found_by_hash
--- PASS: TestPoolHandlers_GetBlockByHash (0.00s)
    --- PASS: TestPoolHandlers_GetBlockByHash/successful_get_block_by_hash (0.00s)
    --- PASS: TestPoolHandlers_GetBlockByHash/invalid_hash_format (0.00s)
    --- PASS: TestPoolHandlers_GetBlockByHash/block_not_found_by_hash (0.00s)
=== RUN   TestPoolHandlers_GetPublicMinerLocations
=== RUN   TestPoolHandlers_GetPublicMinerLocations/successful_get_miner_locations
=== RUN   TestPoolHandlers_GetPublicMinerLocations/locations_error
--- PASS: TestPoolHandlers_GetPublicMinerLocations (0.00s)
    --- PASS: TestPoolHandlers_GetPublicMinerLocations/successful_get_miner_locations (0.00s)
    --- PASS: TestPoolHandlers_GetPublicMinerLocations/locations_error (0.00s)
=== RUN   TestPoolHandlers_GetMinerLocationStats
=== RUN   TestPoolHandlers_GetMinerLocationStats/successful_get_location_stats
=== RUN   TestPoolHandlers_GetMinerLocationStats/location_stats_error
--- PASS: TestPoolHandlers_GetMinerLocationStats (0.00s)
    --- PASS: TestPoolHandlers_GetMinerLocationStats/successful_get_location_stats (0.00s)
    --- PASS: TestPoolHandlers_GetMinerLocationStats/location_stats_error (0.00s)
=== RUN   TestISP_PoolHandlers_InterfaceSegregation
=== RUN   TestISP_PoolHandlers_InterfaceSegregation/PoolStatsReader_has_single_responsibility
=== RUN   TestISP_PoolHandlers_InterfaceSegregation/BlockReader_has_single_responsibility
=== RUN   TestISP_PoolHandlers_InterfaceSegregation/MinerLocationReader_has_single_responsibility
=== RUN   TestISP_PoolHandlers_InterfaceSegregation/handlers_can_work_with_minimal_dependencies
--- PASS: TestISP_PoolHandlers_InterfaceSegregation (0.00s)
    --- PASS: TestISP_PoolHandlers_InterfaceSegregation/PoolStatsReader_has_single_responsibility (0.00s)
    --- PASS: TestISP_PoolHandlers_InterfaceSegregation/BlockReader_has_single_responsibility (0.00s)
    --- PASS: TestISP_PoolHandlers_InterfaceSegregation/MinerLocationReader_has_single_responsibility (0.00s)
    --- PASS: TestISP_PoolHandlers_InterfaceSegregation/handlers_can_work_with_minimal_dependencies (0.00s)
=== RUN   TestNewRateLimiter_DefaultConfig
--- PASS: TestNewRateLimiter_DefaultConfig (0.00s)
=== RUN   TestNewRateLimiter_AuthConfig
--- PASS: TestNewRateLimiter_AuthConfig (0.00s)
=== RUN   TestRateLimiter_Allow_FirstRequest
--- PASS: TestRateLimiter_Allow_FirstRequest (0.00s)
=== RUN   TestRateLimiter_Allow_WithinLimit
--- PASS: TestRateLimiter_Allow_WithinLimit (0.00s)
=== RUN   TestRateLimiter_Allow_ExceedsLimit
--- PASS: TestRateLimiter_Allow_ExceedsLimit (0.00s)
=== RUN   TestRateLimiter_Allow_BlockedIP
--- PASS: TestRateLimiter_Allow_BlockedIP (0.15s)
=== RUN   TestRateLimiter_Allow_WindowExpiry
--- PASS: TestRateLimiter_Allow_WindowExpiry (0.10s)
=== RUN   TestRateLimiter_Allow_MultipleIPs
--- PASS: TestRateLimiter_Allow_MultipleIPs (0.00s)
=== RUN   TestRateLimiter_RecordFailure
--- PASS: TestRateLimiter_RecordFailure (0.00s)
=== RUN   TestRateLimiter_Reset
--- PASS: TestRateLimiter_Reset (0.00s)
=== RUN   TestRateLimiter_GetRemainingAttempts
--- PASS: TestRateLimiter_GetRemainingAttempts (0.00s)
=== RUN   TestRateLimiter_GetRemainingAttempts_Blocked
--- PASS: TestRateLimiter_GetRemainingAttempts_Blocked (0.00s)
=== RUN   TestRateLimiter_GetBlockedUntil
--- PASS: TestRateLimiter_GetBlockedUntil (0.00s)
=== RUN   TestRateLimiter_Cleanup
--- PASS: TestRateLimiter_Cleanup (0.20s)
=== RUN   TestRateLimiter_Concurrency
--- PASS: TestRateLimiter_Concurrency (0.00s)
=== RUN   TestRateLimitMiddleware_AllowedRequest
--- PASS: TestRateLimitMiddleware_AllowedRequest (0.00s)
=== RUN   TestRateLimitMiddleware_BlockedRequest
--- PASS: TestRateLimitMiddleware_BlockedRequest (0.00s)
=== RUN   TestRateLimitMiddleware_ResponseBody
--- PASS: TestRateLimitMiddleware_ResponseBody (0.00s)
=== RUN   TestAuthRateLimitMiddleware
--- PASS: TestAuthRateLimitMiddleware (0.00s)
=== RUN   TestRateLimiter_EmptyIP
--- PASS: TestRateLimiter_EmptyIP (0.00s)
=== RUN   TestRateLimiter_IPv6
--- PASS: TestRateLimiter_IPv6 (0.00s)
=== RUN   TestRateLimiter_Stop
--- PASS: TestRateLimiter_Stop (0.00s)
=== RUN   TestRateLimiter_RecordFailure_NewIP
--- PASS: TestRateLimiter_RecordFailure_NewIP (0.00s)
=== RUN   TestSecurity_AuthenticationRequired
=== RUN   TestSecurity_AuthenticationRequired/GET_/api/v1/user/profile
=== RUN   TestSecurity_AuthenticationRequired/PUT_/api/v1/user/profile
=== RUN   TestSecurity_AuthenticationRequired/GET_/api/v1/user/stats
=== RUN   TestSecurity_AuthenticationRequired/GET_/api/v1/user/miners
=== RUN   TestSecurity_AuthenticationRequired/GET_/api/v1/user/miners/1/stats
=== RUN   TestSecurity_AuthenticationRequired/POST_/api/v1/user/mfa/setup
=== RUN   TestSecurity_AuthenticationRequired/POST_/api/v1/user/mfa/verify
--- PASS: TestSecurity_AuthenticationRequired (0.00s)
    --- PASS: TestSecurity_AuthenticationRequired/GET_/api/v1/user/profile (0.00s)
    --- PASS: TestSecurity_AuthenticationRequired/PUT_/api/v1/user/profile (0.00s)
    --- PASS: TestSecurity_AuthenticationRequired/GET_/api/v1/user/stats (0.00s)
    --- PASS: TestSecurity_AuthenticationRequired/GET_/api/v1/user/miners (0.00s)
    --- PASS: TestSecurity_AuthenticationRequired/GET_/api/v1/user/miners/1/stats (0.00s)
    --- PASS: TestSecurity_AuthenticationRequired/POST_/api/v1/user/mfa/setup (0.00s)
    --- PASS: TestSecurity_AuthenticationRequired/POST_/api/v1/user/mfa/verify (0.00s)
=== RUN   TestSecurity_InvalidTokenHandling
=== RUN   TestSecurity_InvalidTokenHandling/empty_token
=== RUN   TestSecurity_InvalidTokenHandling/malformed_token
=== RUN   TestSecurity_InvalidTokenHandling/expired_token
=== RUN   TestSecurity_InvalidTokenHandling/invalid_signature
--- PASS: TestSecurity_InvalidTokenHandling (0.00s)
    --- PASS: TestSecurity_InvalidTokenHandling/empty_token (0.00s)
    --- PASS: TestSecurity_InvalidTokenHandling/malformed_token (0.00s)
    --- PASS: TestSecurity_InvalidTokenHandling/expired_token (0.00s)
    --- PASS: TestSecurity_InvalidTokenHandling/invalid_signature (0.00s)
=== RUN   TestSecurity_InputValidation
=== RUN   TestSecurity_InputValidation/invalid_json
=== RUN   TestSecurity_InputValidation/invalid_email
=== RUN   TestSecurity_InputValidation/invalid_mfa_code_length
--- PASS: TestSecurity_InputValidation (0.00s)
    --- PASS: TestSecurity_InputValidation/invalid_json (0.00s)
    --- PASS: TestSecurity_InputValidation/invalid_email (0.00s)
    --- PASS: TestSecurity_InputValidation/invalid_mfa_code_length (0.00s)
=== RUN   TestSecurity_SQLInjectionPrevention
=== RUN   TestSecurity_SQLInjectionPrevention/sql_injection_1'_OR_'1'='1
=== RUN   TestSecurity_SQLInjectionPrevention/sql_injection_1;_DROP_TABLE_users;_--
=== RUN   TestSecurity_SQLInjectionPrevention/sql_injection_1_UNION_SELECT_*_FROM_users
=== RUN   TestSecurity_SQLInjectionPrevention/sql_injection_1'_AND_1=1_--
--- PASS: TestSecurity_SQLInjectionPrevention (0.00s)
    --- PASS: TestSecurity_SQLInjectionPrevention/sql_injection_1'_OR_'1'='1 (0.00s)
    --- PASS: TestSecurity_SQLInjectionPrevention/sql_injection_1;_DROP_TABLE_users;_-- (0.00s)
    --- PASS: TestSecurity_SQLInjectionPrevention/sql_injection_1_UNION_SELECT_*_FROM_users (0.00s)
    --- PASS: TestSecurity_SQLInjectionPrevention/sql_injection_1'_AND_1=1_-- (0.00s)
=== RUN   TestSecurity_XSSPrevention
=== RUN   TestSecurity_XSSPrevention/xss_prevention_<script>alert('xss')</script>
=== RUN   TestSecurity_XSSPrevention/xss_prevention_javascript:alert('xss')
=== RUN   TestSecurity_XSSPrevention/xss_prevention_<img_src=x_onerror=alert('xss')>
=== RUN   TestSecurity_XSSPrevention/xss_prevention_';alert('xss');//
--- PASS: TestSecurity_XSSPrevention (0.00s)
    --- PASS: TestSecurity_XSSPrevention/xss_prevention_<script>alert('xss')</script> (0.00s)
    --- PASS: TestSecurity_XSSPrevention/xss_prevention_javascript:alert('xss') (0.00s)
    --- PASS: TestSecurity_XSSPrevention/xss_prevention_<img_src=x_onerror=alert('xss')> (0.00s)
    --- PASS: TestSecurity_XSSPrevention/xss_prevention_';alert('xss');// (0.00s)
=== RUN   TestSecurity_RateLimiting
--- PASS: TestSecurity_RateLimiting (0.00s)
=== RUN   TestSecurity_HeaderSecurity
--- PASS: TestSecurity_HeaderSecurity (0.00s)
=== RUN   TestSecurity_MFASecurityFlow
=== RUN   TestSecurity_MFASecurityFlow/mfa_setup_requires_auth
=== RUN   TestSecurity_MFASecurityFlow/mfa_verify_requires_auth
=== RUN   TestSecurity_MFASecurityFlow/mfa_brute_force_protection
--- PASS: TestSecurity_MFASecurityFlow (0.00s)
    --- PASS: TestSecurity_MFASecurityFlow/mfa_setup_requires_auth (0.00s)
    --- PASS: TestSecurity_MFASecurityFlow/mfa_verify_requires_auth (0.00s)
    --- PASS: TestSecurity_MFASecurityFlow/mfa_brute_force_protection (0.00s)
=== RUN   TestSecurity_ErrorInformationLeakage
--- PASS: TestSecurity_ErrorInformationLeakage (0.00s)
=== RUN   TestUserHandlers_GetProfile
=== RUN   TestUserHandlers_GetProfile/successful_get_profile
=== RUN   TestUserHandlers_GetProfile/profile_not_found
--- PASS: TestUserHandlers_GetProfile (0.00s)
    --- PASS: TestUserHandlers_GetProfile/successful_get_profile (0.00s)
    --- PASS: TestUserHandlers_GetProfile/profile_not_found (0.00s)
=== RUN   TestUserHandlers_UpdateProfile
=== RUN   TestUserHandlers_UpdateProfile/successful_update_profile
=== RUN   TestUserHandlers_UpdateProfile/username_already_taken
--- PASS: TestUserHandlers_UpdateProfile (0.00s)
    --- PASS: TestUserHandlers_UpdateProfile/successful_update_profile (0.00s)
    --- PASS: TestUserHandlers_UpdateProfile/username_already_taken (0.00s)
=== RUN   TestUserHandlers_ChangePassword
=== RUN   TestUserHandlers_ChangePassword/successful_password_change
=== RUN   TestUserHandlers_ChangePassword/incorrect_current_password
--- PASS: TestUserHandlers_ChangePassword (0.00s)
    --- PASS: TestUserHandlers_ChangePassword/successful_password_change (0.00s)
    --- PASS: TestUserHandlers_ChangePassword/incorrect_current_password (0.00s)
=== RUN   TestUserHandlers_GetMiners
=== RUN   TestUserHandlers_GetMiners/successful_get_miners
=== RUN   TestUserHandlers_GetMiners/error_getting_miners
--- PASS: TestUserHandlers_GetMiners (0.00s)
    --- PASS: TestUserHandlers_GetMiners/successful_get_miners (0.00s)
    --- PASS: TestUserHandlers_GetMiners/error_getting_miners (0.00s)
=== RUN   TestUserHandlers_GetPayouts
=== RUN   TestUserHandlers_GetPayouts/successful_get_payouts
=== RUN   TestUserHandlers_GetPayouts/payouts_with_pagination
--- PASS: TestUserHandlers_GetPayouts (0.00s)
    --- PASS: TestUserHandlers_GetPayouts/successful_get_payouts (0.00s)
    --- PASS: TestUserHandlers_GetPayouts/payouts_with_pagination (0.00s)
=== RUN   TestUserHandlers_GetHashrateHistory
=== RUN   TestUserHandlers_GetHashrateHistory/successful_get_hashrate_history
=== RUN   TestUserHandlers_GetHashrateHistory/default_period_when_invalid
--- PASS: TestUserHandlers_GetHashrateHistory (0.00s)
    --- PASS: TestUserHandlers_GetHashrateHistory/successful_get_hashrate_history (0.00s)
    --- PASS: TestUserHandlers_GetHashrateHistory/default_period_when_invalid (0.00s)
=== RUN   TestUserHandlers_GetSharesHistory
=== RUN   TestUserHandlers_GetSharesHistory/successful_get_shares_history
--- PASS: TestUserHandlers_GetSharesHistory (0.00s)
    --- PASS: TestUserHandlers_GetSharesHistory/successful_get_shares_history (0.00s)
=== RUN   TestUserHandlers_GetEarningsHistory
=== RUN   TestUserHandlers_GetEarningsHistory/successful_get_earnings_history
--- PASS: TestUserHandlers_GetEarningsHistory (0.00s)
    --- PASS: TestUserHandlers_GetEarningsHistory/successful_get_earnings_history (0.00s)
=== RUN   TestISP_UserHandlers_InterfaceSegregation
=== RUN   TestISP_UserHandlers_InterfaceSegregation/UserProfileReader_has_single_responsibility
=== RUN   TestISP_UserHandlers_InterfaceSegregation/UserProfileWriter_has_single_responsibility
=== RUN   TestISP_UserHandlers_InterfaceSegregation/UserPasswordChanger_has_single_responsibility
=== RUN   TestISP_UserHandlers_InterfaceSegregation/handlers_can_work_with_minimal_dependencies
--- PASS: TestISP_UserHandlers_InterfaceSegregation (0.00s)
    --- PASS: TestISP_UserHandlers_InterfaceSegregation/UserProfileReader_has_single_responsibility (0.00s)
    --- PASS: TestISP_UserHandlers_InterfaceSegregation/UserProfileWriter_has_single_responsibility (0.00s)
    --- PASS: TestISP_UserHandlers_InterfaceSegregation/UserPasswordChanger_has_single_responsibility (0.00s)
    --- PASS: TestISP_UserHandlers_InterfaceSegregation/handlers_can_work_with_minimal_dependencies (0.00s)
PASS
ok  	github.com/chimera-pool/chimera-pool-core/internal/api	(cached)
=== RUN   TestUserRegistration
=== RUN   TestUserRegistration/valid_registration
=== RUN   TestUserRegistration/empty_username
=== RUN   TestUserRegistration/empty_email
=== RUN   TestUserRegistration/invalid_email_format
=== RUN   TestUserRegistration/weak_password
=== RUN   TestUserRegistration/username_too_short
=== RUN   TestUserRegistration/username_too_long
--- PASS: TestUserRegistration (0.19s)
    --- PASS: TestUserRegistration/valid_registration (0.19s)
    --- PASS: TestUserRegistration/empty_username (0.00s)
    --- PASS: TestUserRegistration/empty_email (0.00s)
    --- PASS: TestUserRegistration/invalid_email_format (0.00s)
    --- PASS: TestUserRegistration/weak_password (0.00s)
    --- PASS: TestUserRegistration/username_too_short (0.00s)
    --- PASS: TestUserRegistration/username_too_long (0.00s)
=== RUN   TestUserLogin
=== RUN   TestUserLogin/valid_login
=== RUN   TestUserLogin/invalid_username
=== RUN   TestUserLogin/invalid_password
=== RUN   TestUserLogin/empty_username
=== RUN   TestUserLogin/empty_password
--- PASS: TestUserLogin (0.16s)
    --- PASS: TestUserLogin/valid_login (0.16s)
    --- PASS: TestUserLogin/invalid_username (0.00s)
    --- PASS: TestUserLogin/invalid_password (0.00s)
    --- PASS: TestUserLogin/empty_username (0.00s)
    --- PASS: TestUserLogin/empty_password (0.00s)
=== RUN   TestJWTTokenGeneration
--- PASS: TestJWTTokenGeneration (0.00s)
=== RUN   TestJWTTokenValidation
=== RUN   TestJWTTokenValidation/empty_token
=== RUN   TestJWTTokenValidation/invalid_token_format
=== RUN   TestJWTTokenValidation/token_with_wrong_secret
--- PASS: TestJWTTokenValidation (0.00s)
    --- PASS: TestJWTTokenValidation/empty_token (0.00s)
    --- PASS: TestJWTTokenValidation/invalid_token_format (0.00s)
    --- PASS: TestJWTTokenValidation/token_with_wrong_secret (0.00s)
=== RUN   TestPasswordHashing
--- PASS: TestPasswordHashing (0.22s)
=== RUN   TestUserModel
=== RUN   TestUserModel/valid_user
=== RUN   TestUserModel/empty_username
=== RUN   TestUserModel/empty_email
--- PASS: TestUserModel (0.00s)
    --- PASS: TestUserModel/valid_user (0.00s)
    --- PASS: TestUserModel/empty_username (0.00s)
    --- PASS: TestUserModel/empty_email (0.00s)
=== RUN   TestAuthService_HashPassword_EmptyPassword
--- PASS: TestAuthService_HashPassword_EmptyPassword (0.00s)
=== RUN   TestAuthService_HashPassword_WhitespacePassword
--- PASS: TestAuthService_HashPassword_WhitespacePassword (0.00s)
=== RUN   TestAuthService_VerifyPassword_EmptyPassword
--- PASS: TestAuthService_VerifyPassword_EmptyPassword (0.00s)
=== RUN   TestAuthService_VerifyPassword_EmptyHash
--- PASS: TestAuthService_VerifyPassword_EmptyHash (0.00s)
=== RUN   TestAuthService_VerifyPassword_BothEmpty
--- PASS: TestAuthService_VerifyPassword_BothEmpty (0.00s)
=== RUN   TestAuthService_GenerateJWT_NilUser
--- PASS: TestAuthService_GenerateJWT_NilUser (0.00s)
=== RUN   TestAuthService_ValidateJWT_WhitespaceToken
--- PASS: TestAuthService_ValidateJWT_WhitespaceToken (0.00s)
=== RUN   TestAuthService_LoginUser_NoRepository
--- PASS: TestAuthService_LoginUser_NoRepository (0.00s)
=== RUN   TestAuthService_LoginUser_InactiveUser
--- PASS: TestAuthService_LoginUser_InactiveUser (0.09s)
=== RUN   TestAuthService_RegisterUser_DuplicateUsername
--- PASS: TestAuthService_RegisterUser_DuplicateUsername (0.07s)
=== RUN   TestAuthService_RegisterUser_DuplicateEmail
--- PASS: TestAuthService_RegisterUser_DuplicateEmail (0.08s)
=== RUN   TestAuthService_RegisterUser_EmptyPassword
--- PASS: TestAuthService_RegisterUser_EmptyPassword (0.00s)
=== RUN   TestAuthService_RegisterUser_WhitespaceUsername
--- PASS: TestAuthService_RegisterUser_WhitespaceUsername (0.00s)
=== RUN   TestAuthService_RegisterUser_WhitespaceEmail
--- PASS: TestAuthService_RegisterUser_WhitespaceEmail (0.00s)
=== RUN   TestAuthService_RegisterUser_WhitespacePassword
--- PASS: TestAuthService_RegisterUser_WhitespacePassword (0.00s)
=== RUN   TestAuthService_LoginUser_WhitespaceUsername
--- PASS: TestAuthService_LoginUser_WhitespaceUsername (0.00s)
=== RUN   TestAuthService_LoginUser_WhitespacePassword
--- PASS: TestAuthService_LoginUser_WhitespacePassword (0.00s)
=== RUN   TestNewAuthService
--- PASS: TestNewAuthService (0.00s)
=== RUN   TestAuthService_GenerateAndValidateJWT
--- PASS: TestAuthService_GenerateAndValidateJWT (0.00s)
=== RUN   TestJWTClaims_Structure
--- PASS: TestJWTClaims_Structure (0.00s)
=== RUN   TestUser_Structure
--- PASS: TestUser_Structure (0.00s)
=== RUN   TestE2EAuthenticationFlow
=== RUN   TestE2EAuthenticationFlow/complete_user_lifecycle
--- PASS: TestE2EAuthenticationFlow (0.25s)
    --- PASS: TestE2EAuthenticationFlow/complete_user_lifecycle (0.25s)
=== RUN   TestE2EMultipleUsers
--- PASS: TestE2EMultipleUsers (0.49s)
=== RUN   TestE2EPasswordSecurity
=== RUN   TestE2EPasswordSecurity/strong_password
=== RUN   TestE2EPasswordSecurity/weak_password
=== RUN   TestE2EPasswordSecurity/empty_password
=== RUN   TestE2EPasswordSecurity/whitespace_password
=== RUN   TestE2EPasswordSecurity/long_password
=== RUN   TestE2EPasswordSecurity/special_chars
=== RUN   TestE2EPasswordSecurity/unicode_password
--- PASS: TestE2EPasswordSecurity (1.23s)
    --- PASS: TestE2EPasswordSecurity/strong_password (0.37s)
    --- PASS: TestE2EPasswordSecurity/weak_password (0.00s)
    --- PASS: TestE2EPasswordSecurity/empty_password (0.00s)
    --- PASS: TestE2EPasswordSecurity/whitespace_password (0.00s)
    --- PASS: TestE2EPasswordSecurity/long_password (0.34s)
    --- PASS: TestE2EPasswordSecurity/special_chars (0.26s)
    --- PASS: TestE2EPasswordSecurity/unicode_password (0.26s)
=== RUN   TestE2ETokenExpiration
--- PASS: TestE2ETokenExpiration (0.10s)
=== RUN   TestE2EInputSanitization
--- PASS: TestE2EInputSanitization (0.34s)
=== RUN   TestRegisterHandler
=== RUN   TestRegisterHandler/valid_registration
=== RUN   TestRegisterHandler/missing_username
=== RUN   TestRegisterHandler/invalid_email
=== RUN   TestRegisterHandler/weak_password
--- PASS: TestRegisterHandler (0.05s)
    --- PASS: TestRegisterHandler/valid_registration (0.05s)
    --- PASS: TestRegisterHandler/missing_username (0.00s)
    --- PASS: TestRegisterHandler/invalid_email (0.00s)
    --- PASS: TestRegisterHandler/weak_password (0.00s)
=== RUN   TestLoginHandler
=== RUN   TestLoginHandler/valid_login
=== RUN   TestLoginHandler/invalid_username
=== RUN   TestLoginHandler/invalid_password
=== RUN   TestLoginHandler/missing_username
--- PASS: TestLoginHandler (0.14s)
    --- PASS: TestLoginHandler/valid_login (0.05s)
    --- PASS: TestLoginHandler/invalid_username (0.00s)
    --- PASS: TestLoginHandler/invalid_password (0.05s)
    --- PASS: TestLoginHandler/missing_username (0.00s)
=== RUN   TestValidateTokenHandler
=== RUN   TestValidateTokenHandler/valid_token
=== RUN   TestValidateTokenHandler/valid_token_without_Bearer_prefix
=== RUN   TestValidateTokenHandler/invalid_token
=== RUN   TestValidateTokenHandler/missing_token
--- PASS: TestValidateTokenHandler (0.05s)
    --- PASS: TestValidateTokenHandler/valid_token (0.00s)
    --- PASS: TestValidateTokenHandler/valid_token_without_Bearer_prefix (0.00s)
    --- PASS: TestValidateTokenHandler/invalid_token (0.00s)
    --- PASS: TestValidateTokenHandler/missing_token (0.00s)
=== RUN   TestAuthMiddleware
=== RUN   TestAuthMiddleware/valid_token
=== RUN   TestAuthMiddleware/invalid_token
=== RUN   TestAuthMiddleware/missing_token
--- PASS: TestAuthMiddleware (0.05s)
    --- PASS: TestAuthMiddleware/valid_token (0.00s)
    --- PASS: TestAuthMiddleware/invalid_token (0.00s)
    --- PASS: TestAuthMiddleware/missing_token (0.00s)
=== RUN   TestE2EAuthFlow
--- PASS: TestE2EAuthFlow (0.10s)
=== RUN   TestAuthIntegrationSuite
=== RUN   TestAuthIntegrationSuite/TestCompleteAuthenticationFlow
    integration_test.go:75: Database not available, skipping database-dependent tests
=== RUN   TestAuthIntegrationSuite/TestInputValidation
=== RUN   TestAuthIntegrationSuite/TestInputValidation/empty_username
=== RUN   TestAuthIntegrationSuite/TestInputValidation/empty_email
=== RUN   TestAuthIntegrationSuite/TestInputValidation/empty_password
=== RUN   TestAuthIntegrationSuite/TestInputValidation/short_username
=== RUN   TestAuthIntegrationSuite/TestInputValidation/long_username
=== RUN   TestAuthIntegrationSuite/TestInputValidation/invalid_email
=== RUN   TestAuthIntegrationSuite/TestInputValidation/short_password
=== RUN   TestAuthIntegrationSuite/TestInputValidation/whitespace_username
=== RUN   TestAuthIntegrationSuite/TestInputValidation/whitespace_email
=== RUN   TestAuthIntegrationSuite/TestInputValidation/whitespace_password
=== RUN   TestAuthIntegrationSuite/TestJWTTokenSecurity
=== RUN   TestAuthIntegrationSuite/TestPasswordSecurity
=== RUN   TestAuthIntegrationSuite/TestPasswordSecurity/password_SimplePa
=== RUN   TestAuthIntegrationSuite/TestPasswordSecurity/password_ComplexP
=== RUN   TestAuthIntegrationSuite/TestPasswordSecurity/password_AnotherS
=== RUN   TestAuthIntegrationSuite/TestPasswordSecurity/password_VeryLong
=== RUN   TestAuthIntegrationSuite/TestUserRepository
    integration_test.go:134: Database not available, skipping repository tests
--- PASS: TestAuthIntegrationSuite (1.01s)
    --- SKIP: TestAuthIntegrationSuite/TestCompleteAuthenticationFlow (0.05s)
    --- PASS: TestAuthIntegrationSuite/TestInputValidation (0.00s)
        --- PASS: TestAuthIntegrationSuite/TestInputValidation/empty_username (0.00s)
        --- PASS: TestAuthIntegrationSuite/TestInputValidation/empty_email (0.00s)
        --- PASS: TestAuthIntegrationSuite/TestInputValidation/empty_password (0.00s)
        --- PASS: TestAuthIntegrationSuite/TestInputValidation/short_username (0.00s)
        --- PASS: TestAuthIntegrationSuite/TestInputValidation/long_username (0.00s)
        --- PASS: TestAuthIntegrationSuite/TestInputValidation/invalid_email (0.00s)
        --- PASS: TestAuthIntegrationSuite/TestInputValidation/short_password (0.00s)
        --- PASS: TestAuthIntegrationSuite/TestInputValidation/whitespace_username (0.00s)
        --- PASS: TestAuthIntegrationSuite/TestInputValidation/whitespace_email (0.00s)
        --- PASS: TestAuthIntegrationSuite/TestInputValidation/whitespace_password (0.00s)
    --- PASS: TestAuthIntegrationSuite/TestJWTTokenSecurity (0.00s)
    --- PASS: TestAuthIntegrationSuite/TestPasswordSecurity (0.96s)
        --- PASS: TestAuthIntegrationSuite/TestPasswordSecurity/password_SimplePa (0.24s)
        --- PASS: TestAuthIntegrationSuite/TestPasswordSecurity/password_ComplexP (0.24s)
        --- PASS: TestAuthIntegrationSuite/TestPasswordSecurity/password_AnotherS (0.24s)
        --- PASS: TestAuthIntegrationSuite/TestPasswordSecurity/password_VeryLong (0.24s)
    --- SKIP: TestAuthIntegrationSuite/TestUserRepository (0.00s)
=== RUN   TestUser_Validate_Success
--- PASS: TestUser_Validate_Success (0.00s)
=== RUN   TestUser_Validate_UsernameRequired
=== RUN   TestUser_Validate_UsernameRequired/empty_username
=== RUN   TestUser_Validate_UsernameRequired/whitespace_only
=== RUN   TestUser_Validate_UsernameRequired/tabs_only
=== RUN   TestUser_Validate_UsernameRequired/newlines_only
--- PASS: TestUser_Validate_UsernameRequired (0.00s)
    --- PASS: TestUser_Validate_UsernameRequired/empty_username (0.00s)
    --- PASS: TestUser_Validate_UsernameRequired/whitespace_only (0.00s)
    --- PASS: TestUser_Validate_UsernameRequired/tabs_only (0.00s)
    --- PASS: TestUser_Validate_UsernameRequired/newlines_only (0.00s)
=== RUN   TestUser_Validate_UsernameTooShort
=== RUN   TestUser_Validate_UsernameTooShort/1_character
=== RUN   TestUser_Validate_UsernameTooShort/2_characters
--- PASS: TestUser_Validate_UsernameTooShort (0.00s)
    --- PASS: TestUser_Validate_UsernameTooShort/1_character (0.00s)
    --- PASS: TestUser_Validate_UsernameTooShort/2_characters (0.00s)
=== RUN   TestUser_Validate_UsernameTooLong
--- PASS: TestUser_Validate_UsernameTooLong (0.00s)
=== RUN   TestUser_Validate_UsernameExactBoundaries
--- PASS: TestUser_Validate_UsernameExactBoundaries (0.00s)
=== RUN   TestUser_Validate_EmailRequired
=== RUN   TestUser_Validate_EmailRequired/empty_email
=== RUN   TestUser_Validate_EmailRequired/whitespace_only
=== RUN   TestUser_Validate_EmailRequired/tabs_only
--- PASS: TestUser_Validate_EmailRequired (0.00s)
    --- PASS: TestUser_Validate_EmailRequired/empty_email (0.00s)
    --- PASS: TestUser_Validate_EmailRequired/whitespace_only (0.00s)
    --- PASS: TestUser_Validate_EmailRequired/tabs_only (0.00s)
=== RUN   TestUser_Validate_EmailFormat
=== RUN   TestUser_Validate_EmailFormat/valid:_user@example.com
=== RUN   TestUser_Validate_EmailFormat/valid:_user.name@example.com
=== RUN   TestUser_Validate_EmailFormat/valid:_user+tag@example.com
=== RUN   TestUser_Validate_EmailFormat/valid:_user@subdomain.example.com
=== RUN   TestUser_Validate_EmailFormat/valid:_user123@example.org
=== RUN   TestUser_Validate_EmailFormat/valid:_user_name@example.co.uk
=== RUN   TestUser_Validate_EmailFormat/valid:_user-name@example.io
=== RUN   TestUser_Validate_EmailFormat/invalid:_plainaddress
=== RUN   TestUser_Validate_EmailFormat/invalid:_@missinguser.com
=== RUN   TestUser_Validate_EmailFormat/invalid:_missingdomain@
=== RUN   TestUser_Validate_EmailFormat/invalid:_missing@domain
=== RUN   TestUser_Validate_EmailFormat/invalid:_user@.com
=== RUN   TestUser_Validate_EmailFormat/invalid:_user..name@example.com
=== RUN   TestUser_Validate_EmailFormat/invalid:_.user@example.com
=== RUN   TestUser_Validate_EmailFormat/invalid:_user@example..com
--- PASS: TestUser_Validate_EmailFormat (0.00s)
    --- PASS: TestUser_Validate_EmailFormat/valid:_user@example.com (0.00s)
    --- PASS: TestUser_Validate_EmailFormat/valid:_user.name@example.com (0.00s)
    --- PASS: TestUser_Validate_EmailFormat/valid:_user+tag@example.com (0.00s)
    --- PASS: TestUser_Validate_EmailFormat/valid:_user@subdomain.example.com (0.00s)
    --- PASS: TestUser_Validate_EmailFormat/valid:_user123@example.org (0.00s)
    --- PASS: TestUser_Validate_EmailFormat/valid:_user_name@example.co.uk (0.00s)
    --- PASS: TestUser_Validate_EmailFormat/valid:_user-name@example.io (0.00s)
    --- PASS: TestUser_Validate_EmailFormat/invalid:_plainaddress (0.00s)
    --- PASS: TestUser_Validate_EmailFormat/invalid:_@missinguser.com (0.00s)
    --- PASS: TestUser_Validate_EmailFormat/invalid:_missingdomain@ (0.00s)
    --- PASS: TestUser_Validate_EmailFormat/invalid:_missing@domain (0.00s)
    --- PASS: TestUser_Validate_EmailFormat/invalid:_user@.com (0.00s)
    --- PASS: TestUser_Validate_EmailFormat/invalid:_user..name@example.com (0.00s)
    --- PASS: TestUser_Validate_EmailFormat/invalid:_.user@example.com (0.00s)
    --- PASS: TestUser_Validate_EmailFormat/invalid:_user@example..com (0.00s)
=== RUN   TestUser_StructFields
--- PASS: TestUser_StructFields (0.00s)
=== RUN   TestUser_DefaultRole
--- PASS: TestUser_DefaultRole (0.00s)
=== RUN   TestJWTClaims_StructFields
--- PASS: TestJWTClaims_StructFields (0.00s)
=== RUN   TestJWTClaims_Expiration
--- PASS: TestJWTClaims_Expiration (0.00s)
=== RUN   TestIsValidEmail
=== RUN   TestIsValidEmail/user@example.com
=== RUN   TestIsValidEmail/user.name@example.com
=== RUN   TestIsValidEmail/user+tag@example.com
=== RUN   TestIsValidEmail/user123@example.org
=== RUN   TestIsValidEmail/a@b.co
=== RUN   TestIsValidEmail/#00
=== RUN   TestIsValidEmail/plainaddress
=== RUN   TestIsValidEmail/@missinguser.com
=== RUN   TestIsValidEmail/missingdomain@
=== RUN   TestIsValidEmail/missing@domain
=== RUN   TestIsValidEmail/user@.com
=== RUN   TestIsValidEmail/user..name@example.com
=== RUN   TestIsValidEmail/.user@example.com
--- PASS: TestIsValidEmail (0.00s)
    --- PASS: TestIsValidEmail/user@example.com (0.00s)
    --- PASS: TestIsValidEmail/user.name@example.com (0.00s)
    --- PASS: TestIsValidEmail/user+tag@example.com (0.00s)
    --- PASS: TestIsValidEmail/user123@example.org (0.00s)
    --- PASS: TestIsValidEmail/a@b.co (0.00s)
    --- PASS: TestIsValidEmail/#00 (0.00s)
    --- PASS: TestIsValidEmail/plainaddress (0.00s)
    --- PASS: TestIsValidEmail/@missinguser.com (0.00s)
    --- PASS: TestIsValidEmail/missingdomain@ (0.00s)
    --- PASS: TestIsValidEmail/missing@domain (0.00s)
    --- PASS: TestIsValidEmail/user@.com (0.00s)
    --- PASS: TestIsValidEmail/user..name@example.com (0.00s)
    --- PASS: TestIsValidEmail/.user@example.com (0.00s)
=== RUN   TestUser_Validate_SQLInjectionAttempts
=== RUN   TestUser_Validate_SQLInjectionAttempts/injection_attempt
=== RUN   TestUser_Validate_SQLInjectionAttempts/injection_attempt#01
=== RUN   TestUser_Validate_SQLInjectionAttempts/injection_attempt#02
--- PASS: TestUser_Validate_SQLInjectionAttempts (0.00s)
    --- PASS: TestUser_Validate_SQLInjectionAttempts/injection_attempt (0.00s)
    --- PASS: TestUser_Validate_SQLInjectionAttempts/injection_attempt#01 (0.00s)
    --- PASS: TestUser_Validate_SQLInjectionAttempts/injection_attempt#02 (0.00s)
=== RUN   TestUser_Validate_XSSAttempts
=== RUN   TestUser_Validate_XSSAttempts/xss_in_username
=== RUN   TestUser_Validate_XSSAttempts/xss_in_username#01
=== RUN   TestUser_Validate_XSSAttempts/xss_in_username#02
--- PASS: TestUser_Validate_XSSAttempts (0.00s)
    --- PASS: TestUser_Validate_XSSAttempts/xss_in_username (0.00s)
    --- PASS: TestUser_Validate_XSSAttempts/xss_in_username#01 (0.00s)
    --- PASS: TestUser_Validate_XSSAttempts/xss_in_username#02 (0.00s)
=== RUN   TestRole_String
--- PASS: TestRole_String (0.00s)
=== RUN   TestRoleService_PromoteToModerator_AdminCanPromote
--- PASS: TestRoleService_PromoteToModerator_AdminCanPromote (0.00s)
=== RUN   TestRoleService_PromoteToModerator_ModeratorCannotPromote
--- PASS: TestRoleService_PromoteToModerator_ModeratorCannotPromote (0.00s)
=== RUN   TestRoleService_PromoteToModerator_UserCannotPromote
--- PASS: TestRoleService_PromoteToModerator_UserCannotPromote (0.00s)
=== RUN   TestRoleService_PromoteToAdmin_AdminCannotPromoteToAdmin
--- PASS: TestRoleService_PromoteToAdmin_AdminCannotPromoteToAdmin (0.00s)
=== RUN   TestRoleService_PromoteToAdmin_SuperAdminCanPromote
--- PASS: TestRoleService_PromoteToAdmin_SuperAdminCanPromote (0.00s)
=== RUN   TestRoleService_PromoteToSuperAdmin_SuperAdminCanPromote
--- PASS: TestRoleService_PromoteToSuperAdmin_SuperAdminCanPromote (0.00s)
=== RUN   TestRoleService_DemoteSuperAdmin_PreventLastSuperAdmin
--- PASS: TestRoleService_DemoteSuperAdmin_PreventLastSuperAdmin (0.00s)
=== RUN   TestRoleService_DemoteSuperAdmin_AllowedWhenOtherSuperAdminExists
--- PASS: TestRoleService_DemoteSuperAdmin_AllowedWhenOtherSuperAdminExists (0.00s)
=== RUN   TestRoleService_DemoteModerator_AdminCanDemote
--- PASS: TestRoleService_DemoteModerator_AdminCanDemote (0.00s)
=== RUN   TestRoleService_DemoteAdmin_AdminCannotDemoteOtherAdmin
--- PASS: TestRoleService_DemoteAdmin_AdminCannotDemoteOtherAdmin (0.00s)
=== RUN   TestRoleService_DemoteAdmin_SuperAdminCanDemote
--- PASS: TestRoleService_DemoteAdmin_SuperAdminCanDemote (0.00s)
=== RUN   TestRoleService_ListModerators
--- PASS: TestRoleService_ListModerators (0.00s)
=== RUN   TestRoleService_ListAdmins_OnlySuperAdminCanList
--- PASS: TestRoleService_ListAdmins_OnlySuperAdminCanList (0.00s)
=== RUN   TestRoleService_CannotChangeSelfRole_UnlessSuperAdmin
--- PASS: TestRoleService_CannotChangeSelfRole_UnlessSuperAdmin (0.00s)
=== RUN   TestRoleService_InvalidRoleReturnsError
--- PASS: TestRoleService_InvalidRoleReturnsError (0.00s)
=== RUN   TestRole_IsValid
=== RUN   TestRole_IsValid/valid_user_role
=== RUN   TestRole_IsValid/valid_moderator_role
=== RUN   TestRole_IsValid/valid_admin_role
=== RUN   TestRole_IsValid/valid_super_admin_role
=== RUN   TestRole_IsValid/invalid_role
=== RUN   TestRole_IsValid/empty_role
--- PASS: TestRole_IsValid (0.00s)
    --- PASS: TestRole_IsValid/valid_user_role (0.00s)
    --- PASS: TestRole_IsValid/valid_moderator_role (0.00s)
    --- PASS: TestRole_IsValid/valid_admin_role (0.00s)
    --- PASS: TestRole_IsValid/valid_super_admin_role (0.00s)
    --- PASS: TestRole_IsValid/invalid_role (0.00s)
    --- PASS: TestRole_IsValid/empty_role (0.00s)
=== RUN   TestRole_Level
=== RUN   TestRole_Level/user_level
=== RUN   TestRole_Level/moderator_level
=== RUN   TestRole_Level/admin_level
=== RUN   TestRole_Level/super_admin_level
=== RUN   TestRole_Level/invalid_role_level
--- PASS: TestRole_Level (0.00s)
    --- PASS: TestRole_Level/user_level (0.00s)
    --- PASS: TestRole_Level/moderator_level (0.00s)
    --- PASS: TestRole_Level/admin_level (0.00s)
    --- PASS: TestRole_Level/super_admin_level (0.00s)
    --- PASS: TestRole_Level/invalid_role_level (0.00s)
=== RUN   TestRole_CanManageRole
=== RUN   TestRole_CanManageRole/super_admin_can_manage_user
=== RUN   TestRole_CanManageRole/super_admin_can_manage_moderator
=== RUN   TestRole_CanManageRole/super_admin_can_manage_admin
=== RUN   TestRole_CanManageRole/super_admin_can_manage_super_admin
=== RUN   TestRole_CanManageRole/admin_can_manage_user
=== RUN   TestRole_CanManageRole/admin_can_manage_moderator
=== RUN   TestRole_CanManageRole/admin_cannot_manage_admin
=== RUN   TestRole_CanManageRole/admin_cannot_manage_super_admin
=== RUN   TestRole_CanManageRole/moderator_cannot_manage_user
=== RUN   TestRole_CanManageRole/moderator_cannot_manage_moderator
=== RUN   TestRole_CanManageRole/moderator_cannot_manage_admin
=== RUN   TestRole_CanManageRole/moderator_cannot_manage_super_admin
=== RUN   TestRole_CanManageRole/user_cannot_manage_user
=== RUN   TestRole_CanManageRole/user_cannot_manage_moderator
=== RUN   TestRole_CanManageRole/user_cannot_manage_admin
=== RUN   TestRole_CanManageRole/user_cannot_manage_super_admin
--- PASS: TestRole_CanManageRole (0.00s)
    --- PASS: TestRole_CanManageRole/super_admin_can_manage_user (0.00s)
    --- PASS: TestRole_CanManageRole/super_admin_can_manage_moderator (0.00s)
    --- PASS: TestRole_CanManageRole/super_admin_can_manage_admin (0.00s)
    --- PASS: TestRole_CanManageRole/super_admin_can_manage_super_admin (0.00s)
    --- PASS: TestRole_CanManageRole/admin_can_manage_user (0.00s)
    --- PASS: TestRole_CanManageRole/admin_can_manage_moderator (0.00s)
    --- PASS: TestRole_CanManageRole/admin_cannot_manage_admin (0.00s)
    --- PASS: TestRole_CanManageRole/admin_cannot_manage_super_admin (0.00s)
    --- PASS: TestRole_CanManageRole/moderator_cannot_manage_user (0.00s)
    --- PASS: TestRole_CanManageRole/moderator_cannot_manage_moderator (0.00s)
    --- PASS: TestRole_CanManageRole/moderator_cannot_manage_admin (0.00s)
    --- PASS: TestRole_CanManageRole/moderator_cannot_manage_super_admin (0.00s)
    --- PASS: TestRole_CanManageRole/user_cannot_manage_user (0.00s)
    --- PASS: TestRole_CanManageRole/user_cannot_manage_moderator (0.00s)
    --- PASS: TestRole_CanManageRole/user_cannot_manage_admin (0.00s)
    --- PASS: TestRole_CanManageRole/user_cannot_manage_super_admin (0.00s)
=== RUN   TestRole_Hierarchy
--- PASS: TestRole_Hierarchy (0.00s)
PASS
ok  	github.com/chimera-pool/chimera-pool-core/internal/auth	(cached)
testing: warning: no tests to run
PASS
ok  	github.com/chimera-pool/chimera-pool-core/internal/blockdag	(cached) [no tests to run]
=== RUN   TestBugReport_Fields
--- PASS: TestBugReport_Fields (0.00s)
=== RUN   TestBugFilter_Defaults
--- PASS: TestBugFilter_Defaults (0.00s)
=== RUN   TestMockBugReader_ListBugs_StatusFilter
--- PASS: TestMockBugReader_ListBugs_StatusFilter (0.00s)
=== RUN   TestMockBugReader_ListBugs_PriorityFilter
--- PASS: TestMockBugReader_ListBugs_PriorityFilter (0.00s)
=== RUN   TestMockBugReader_GetBugComments_ExcludesInternal
--- PASS: TestMockBugReader_GetBugComments_ExcludesInternal (0.00s)
=== RUN   TestBugReport_ValidStatuses
--- PASS: TestBugReport_ValidStatuses (0.00s)
=== RUN   TestBugReport_ValidPriorities
--- PASS: TestBugReport_ValidPriorities (0.00s)
=== RUN   TestBugReport_ValidCategories
--- PASS: TestBugReport_ValidCategories (0.00s)
=== RUN   TestBugComment_Fields
--- PASS: TestBugComment_Fields (0.00s)
=== RUN   TestInterfaceCompliance
--- PASS: TestInterfaceCompliance (0.00s)
PASS
ok  	github.com/chimera-pool/chimera-pool-core/internal/bugs	(cached)
=== RUN   TestChannelService_CreateChannel_AdminCanCreate
--- PASS: TestChannelService_CreateChannel_AdminCanCreate (0.00s)
=== RUN   TestChannelService_CreateChannel_SuperAdminCanCreate
--- PASS: TestChannelService_CreateChannel_SuperAdminCanCreate (0.00s)
=== RUN   TestChannelService_CreateChannel_ModeratorCanCreate
--- PASS: TestChannelService_CreateChannel_ModeratorCanCreate (0.00s)
=== RUN   TestChannelService_CreateChannel_RegularUserCannotCreate
--- PASS: TestChannelService_CreateChannel_RegularUserCannotCreate (0.00s)
=== RUN   TestChannelService_CreateChannel_InvalidCategoryReturnsError
--- PASS: TestChannelService_CreateChannel_InvalidCategoryReturnsError (0.00s)
=== RUN   TestChannelService_CreateChannel_EmptyNameReturnsError
--- PASS: TestChannelService_CreateChannel_EmptyNameReturnsError (0.00s)
=== RUN   TestChannelService_DeleteChannel_AdminCanDelete
--- PASS: TestChannelService_DeleteChannel_AdminCanDelete (0.00s)
=== RUN   TestChannelService_DeleteChannel_ModeratorCanDelete
--- PASS: TestChannelService_DeleteChannel_ModeratorCanDelete (0.00s)
=== RUN   TestChannelService_DeleteChannel_RegularUserCannotDelete
--- PASS: TestChannelService_DeleteChannel_RegularUserCannotDelete (0.00s)
=== RUN   TestChannelService_CreateCategory_AdminCanCreate
--- PASS: TestChannelService_CreateCategory_AdminCanCreate (0.00s)
=== RUN   TestChannelService_CreateCategory_ModeratorCanCreate
--- PASS: TestChannelService_CreateCategory_ModeratorCanCreate (0.00s)
=== RUN   TestChannelService_CreateCategory_RegularUserCannotCreate
--- PASS: TestChannelService_CreateCategory_RegularUserCannotCreate (0.00s)
=== RUN   TestChannelService_UpdateChannel_AdminCanUpdate
--- PASS: TestChannelService_UpdateChannel_AdminCanUpdate (0.00s)
=== RUN   TestChannelService_UpdateChannel_RegularUserCannotUpdate
--- PASS: TestChannelService_UpdateChannel_RegularUserCannotUpdate (0.00s)
=== RUN   TestCommunityE2E
=== RUN   TestCommunityE2E/Complete_Community_Workflow
    e2e_test.go:111: PASS:	CreateTeam(context.backgroundCtx,mock.AnythingOfTypeArgument)
    e2e_test.go:111: PASS:	AddTeamMember(context.backgroundCtx,mock.AnythingOfTypeArgument)
    e2e_test.go:111: PASS:	GetTeam(context.backgroundCtx,uuid.UUID)
    e2e_test.go:111: PASS:	AddTeamMember(context.backgroundCtx,mock.AnythingOfTypeArgument)
    e2e_test.go:111: PASS:	CreateReferral(context.backgroundCtx,mock.AnythingOfTypeArgument)
    e2e_test.go:111: PASS:	GetReferral(context.backgroundCtx,string)
    e2e_test.go:111: PASS:	UpdateReferral(context.backgroundCtx,mock.AnythingOfTypeArgument)
    e2e_test.go:111: PASS:	CreateCompetition(context.backgroundCtx,mock.AnythingOfTypeArgument)
    e2e_test.go:111: PASS:	JoinCompetition(context.backgroundCtx,mock.AnythingOfTypeArgument)
    e2e_test.go:111: PASS:	RecordSocialShare(context.backgroundCtx,mock.AnythingOfTypeArgument)
    e2e_test.go:111: PASS:	GetTeamStatistics(context.backgroundCtx,uuid.UUID,string,int)
--- PASS: TestCommunityE2E (0.00s)
    --- PASS: TestCommunityE2E/Complete_Community_Workflow (0.00s)
=== RUN   TestCommunityFeatureIntegration
=== RUN   TestCommunityFeatureIntegration/Team_Competition_Integration
    e2e_test.go:153: PASS:	CreateTeam(context.backgroundCtx,mock.AnythingOfTypeArgument)
    e2e_test.go:153: PASS:	AddTeamMember(context.backgroundCtx,mock.AnythingOfTypeArgument)
    e2e_test.go:153: PASS:	CreateCompetition(context.backgroundCtx,mock.AnythingOfTypeArgument)
    e2e_test.go:153: PASS:	JoinCompetition(context.backgroundCtx,mock.AnythingOfTypeArgument)
    e2e_test.go:153: PASS:	RecordSocialShare(context.backgroundCtx,mock.AnythingOfTypeArgument)
=== RUN   TestCommunityFeatureIntegration/Referral_Team_Integration
    e2e_test.go:193: PASS:	CreateTeam(context.backgroundCtx,mock.AnythingOfTypeArgument)
    e2e_test.go:193: PASS:	AddTeamMember(context.backgroundCtx,mock.AnythingOfTypeArgument)
    e2e_test.go:193: PASS:	CreateCompetition(context.backgroundCtx,mock.AnythingOfTypeArgument)
    e2e_test.go:193: PASS:	JoinCompetition(context.backgroundCtx,mock.AnythingOfTypeArgument)
    e2e_test.go:193: PASS:	RecordSocialShare(context.backgroundCtx,mock.AnythingOfTypeArgument)
    e2e_test.go:193: PASS:	CreateReferral(context.backgroundCtx,mock.AnythingOfTypeArgument)
    e2e_test.go:193: PASS:	GetReferral(context.backgroundCtx,string)
    e2e_test.go:193: PASS:	UpdateReferral(context.backgroundCtx,mock.AnythingOfTypeArgument)
    e2e_test.go:193: PASS:	CreateTeam(context.backgroundCtx,mock.AnythingOfTypeArgument)
    e2e_test.go:193: PASS:	AddTeamMember(context.backgroundCtx,mock.AnythingOfTypeArgument)
    e2e_test.go:193: PASS:	GetTeam(context.backgroundCtx,uuid.UUID)
    e2e_test.go:193: PASS:	AddTeamMember(context.backgroundCtx,mock.AnythingOfTypeArgument)
    e2e_test.go:193: PASS:	RecordSocialShare(context.backgroundCtx,mock.AnythingOfTypeArgument)
--- PASS: TestCommunityFeatureIntegration (0.00s)
    --- PASS: TestCommunityFeatureIntegration/Team_Competition_Integration (0.00s)
    --- PASS: TestCommunityFeatureIntegration/Referral_Team_Integration (0.00s)
=== RUN   TestCommunityErrorHandling
=== RUN   TestCommunityErrorHandling/Invalid_Team_Operations
    e2e_test.go:228: PASS:	GetTeam(context.backgroundCtx,uuid.UUID)
    e2e_test.go:228: PASS:	GetTeam(context.backgroundCtx,uuid.UUID)
=== RUN   TestCommunityErrorHandling/Invalid_Referral_Operations
    e2e_test.go:262: PASS:	GetTeam(context.backgroundCtx,uuid.UUID)
    e2e_test.go:262: PASS:	GetTeam(context.backgroundCtx,uuid.UUID)
    e2e_test.go:262: PASS:	GetReferral(context.backgroundCtx,string)
    e2e_test.go:262: PASS:	GetReferral(context.backgroundCtx,string)
=== RUN   TestCommunityErrorHandling/Invalid_Competition_Operations
=== RUN   TestCommunityErrorHandling/Invalid_Social_Share_Operations
--- PASS: TestCommunityErrorHandling (0.00s)
    --- PASS: TestCommunityErrorHandling/Invalid_Team_Operations (0.00s)
    --- PASS: TestCommunityErrorHandling/Invalid_Referral_Operations (0.00s)
    --- PASS: TestCommunityErrorHandling/Invalid_Competition_Operations (0.00s)
    --- PASS: TestCommunityErrorHandling/Invalid_Social_Share_Operations (0.00s)
=== RUN   TestMessageService_EditMessage_Success
--- PASS: TestMessageService_EditMessage_Success (0.00s)
=== RUN   TestMessageService_EditMessage_NotOwner
--- PASS: TestMessageService_EditMessage_NotOwner (0.00s)
=== RUN   TestMessageService_EditMessage_EmptyContent
--- PASS: TestMessageService_EditMessage_EmptyContent (0.00s)
=== RUN   TestMessageService_EditMessage_NotFound
--- PASS: TestMessageService_EditMessage_NotFound (0.00s)
=== RUN   TestMessageService_EditMessage_AlreadyDeleted
--- PASS: TestMessageService_EditMessage_AlreadyDeleted (0.00s)
=== RUN   TestMessageService_DeleteMessage_ByOwner
--- PASS: TestMessageService_DeleteMessage_ByOwner (0.00s)
=== RUN   TestMessageService_DeleteMessage_ByModerator
--- PASS: TestMessageService_DeleteMessage_ByModerator (0.00s)
=== RUN   TestMessageService_DeleteMessage_NotOwnerNotModerator
--- PASS: TestMessageService_DeleteMessage_NotOwnerNotModerator (0.00s)
=== RUN   TestMessageService_DeleteMessage_NotFound
--- PASS: TestMessageService_DeleteMessage_NotFound (0.00s)
=== RUN   TestMessageService_ReplyToMessage_Success
--- PASS: TestMessageService_ReplyToMessage_Success (0.00s)
=== RUN   TestMessageService_ReplyToMessage_ParentNotFound
--- PASS: TestMessageService_ReplyToMessage_ParentNotFound (0.00s)
=== RUN   TestMessageService_ReplyToMessage_ParentDeleted
--- PASS: TestMessageService_ReplyToMessage_ParentDeleted (0.00s)
=== RUN   TestMessageService_ReplyToMessage_EmptyContent
--- PASS: TestMessageService_ReplyToMessage_EmptyContent (0.00s)
=== RUN   TestMessageService_ReplyToMessage_DifferentChannel
--- PASS: TestMessageService_ReplyToMessage_DifferentChannel (0.00s)
=== RUN   TestMessageService_GetReplies_Success
--- PASS: TestMessageService_GetReplies_Success (0.00s)
=== RUN   TestMessageService_EditMessage_ContentTooLong
--- PASS: TestMessageService_EditMessage_ContentTooLong (0.00s)
=== RUN   TestCommunityService_CreateTeam
=== RUN   TestCommunityService_CreateTeam/should_create_team_successfully
    service_test.go:155: PASS:	CreateTeam(string,mock.AnythingOfTypeArgument)
    service_test.go:155: PASS:	AddTeamMember(string,mock.AnythingOfTypeArgument)
=== RUN   TestCommunityService_CreateTeam/should_fail_with_empty_team_name
=== RUN   TestCommunityService_CreateTeam/should_fail_with_invalid_owner_ID
--- PASS: TestCommunityService_CreateTeam (0.00s)
    --- PASS: TestCommunityService_CreateTeam/should_create_team_successfully (0.00s)
    --- PASS: TestCommunityService_CreateTeam/should_fail_with_empty_team_name (0.00s)
    --- PASS: TestCommunityService_CreateTeam/should_fail_with_invalid_owner_ID (0.00s)
=== RUN   TestCommunityService_JoinTeam
=== RUN   TestCommunityService_JoinTeam/should_join_team_successfully
    service_test.go:220: PASS:	GetTeam(string,uuid.UUID)
    service_test.go:220: PASS:	AddTeamMember(string,mock.AnythingOfTypeArgument)
=== RUN   TestCommunityService_JoinTeam/should_fail_when_team_is_inactive
    service_test.go:220: PASS:	GetTeam(string,uuid.UUID)
--- PASS: TestCommunityService_JoinTeam (0.00s)
    --- PASS: TestCommunityService_JoinTeam/should_join_team_successfully (0.00s)
    --- PASS: TestCommunityService_JoinTeam/should_fail_when_team_is_inactive (0.00s)
=== RUN   TestCommunityService_CreateReferral
=== RUN   TestCommunityService_CreateReferral/should_create_referral_successfully
    service_test.go:273: PASS:	CreateReferral(string,mock.AnythingOfTypeArgument)
=== RUN   TestCommunityService_CreateReferral/should_fail_with_invalid_referrer_ID
--- PASS: TestCommunityService_CreateReferral (0.00s)
    --- PASS: TestCommunityService_CreateReferral/should_create_referral_successfully (0.00s)
    --- PASS: TestCommunityService_CreateReferral/should_fail_with_invalid_referrer_ID (0.00s)
=== RUN   TestCommunityService_ProcessReferral
=== RUN   TestCommunityService_ProcessReferral/should_process_referral_successfully
    service_test.go:333: PASS:	GetReferral(string,string)
    service_test.go:333: PASS:	UpdateReferral(string,mock.AnythingOfTypeArgument)
=== RUN   TestCommunityService_ProcessReferral/should_fail_with_invalid_referral_code
    service_test.go:333: PASS:	GetReferral(string,string)
--- PASS: TestCommunityService_ProcessReferral (0.00s)
    --- PASS: TestCommunityService_ProcessReferral/should_process_referral_successfully (0.00s)
    --- PASS: TestCommunityService_ProcessReferral/should_fail_with_invalid_referral_code (0.00s)
=== RUN   TestCommunityService_CreateCompetition
=== RUN   TestCommunityService_CreateCompetition/should_create_competition_successfully
    service_test.go:410: PASS:	CreateCompetition(string,mock.AnythingOfTypeArgument)
=== RUN   TestCommunityService_CreateCompetition/should_fail_with_empty_name
=== RUN   TestCommunityService_CreateCompetition/should_fail_with_end_time_before_start_time
--- PASS: TestCommunityService_CreateCompetition (0.00s)
    --- PASS: TestCommunityService_CreateCompetition/should_create_competition_successfully (0.00s)
    --- PASS: TestCommunityService_CreateCompetition/should_fail_with_empty_name (0.00s)
    --- PASS: TestCommunityService_CreateCompetition/should_fail_with_end_time_before_start_time (0.00s)
=== RUN   TestCommunityService_RecordSocialShare
=== RUN   TestCommunityService_RecordSocialShare/should_record_social_share_successfully
    service_test.go:473: PASS:	RecordSocialShare(string,mock.AnythingOfTypeArgument)
=== RUN   TestCommunityService_RecordSocialShare/should_fail_with_invalid_platform
--- PASS: TestCommunityService_RecordSocialShare (0.00s)
    --- PASS: TestCommunityService_RecordSocialShare/should_record_social_share_successfully (0.00s)
    --- PASS: TestCommunityService_RecordSocialShare/should_fail_with_invalid_platform (0.00s)
=== RUN   TestCommunityService_JoinTeam_EmptyTeamID
--- PASS: TestCommunityService_JoinTeam_EmptyTeamID (0.00s)
=== RUN   TestCommunityService_JoinTeam_EmptyUserID
--- PASS: TestCommunityService_JoinTeam_EmptyUserID (0.00s)
=== RUN   TestCommunityService_LeaveTeam_Success
    service_test.go:513: PASS:	RemoveTeamMember(string,uuid.UUID,uuid.UUID)
--- PASS: TestCommunityService_LeaveTeam_Success (0.00s)
=== RUN   TestCommunityService_LeaveTeam_EmptyTeamID
--- PASS: TestCommunityService_LeaveTeam_EmptyTeamID (0.00s)
=== RUN   TestCommunityService_LeaveTeam_EmptyUserID
--- PASS: TestCommunityService_LeaveTeam_EmptyUserID (0.00s)
=== RUN   TestCommunityService_ProcessReferral_EmptyCode
--- PASS: TestCommunityService_ProcessReferral_EmptyCode (0.00s)
=== RUN   TestCommunityService_ProcessReferral_EmptyReferredID
--- PASS: TestCommunityService_ProcessReferral_EmptyReferredID (0.00s)
=== RUN   TestCommunityService_ProcessReferral_NotPending
--- PASS: TestCommunityService_ProcessReferral_NotPending (0.00s)
=== RUN   TestCommunityService_ProcessReferral_Expired
--- PASS: TestCommunityService_ProcessReferral_Expired (0.00s)
=== RUN   TestCommunityService_CreateCompetition_NegativePrizePool
--- PASS: TestCommunityService_CreateCompetition_NegativePrizePool (0.00s)
=== RUN   TestCommunityService_JoinCompetition_Success
    service_test.go:620: PASS:	JoinCompetition(string,mock.AnythingOfTypeArgument)
--- PASS: TestCommunityService_JoinCompetition_Success (0.00s)
=== RUN   TestCommunityService_JoinCompetition_EmptyCompetitionID
--- PASS: TestCommunityService_JoinCompetition_EmptyCompetitionID (0.00s)
=== RUN   TestCommunityService_JoinCompetition_EmptyUserID
--- PASS: TestCommunityService_JoinCompetition_EmptyUserID (0.00s)
=== RUN   TestCommunityService_RecordSocialShare_EmptyUserID
--- PASS: TestCommunityService_RecordSocialShare_EmptyUserID (0.00s)
=== RUN   TestCommunityService_RecordSocialShare_EmptyContent
--- PASS: TestCommunityService_RecordSocialShare_EmptyContent (0.00s)
=== RUN   TestCommunityService_GetTeamStatistics_Success
--- PASS: TestCommunityService_GetTeamStatistics_Success (0.00s)
=== RUN   TestCommunityService_GetTeamStatistics_EmptyTeamID
--- PASS: TestCommunityService_GetTeamStatistics_EmptyTeamID (0.00s)
=== RUN   TestCommunityService_GetTeamStatistics_InvalidPeriod
--- PASS: TestCommunityService_GetTeamStatistics_InvalidPeriod (0.00s)
=== RUN   TestCommunityService_GetTeamStatistics_InvalidDays
--- PASS: TestCommunityService_GetTeamStatistics_InvalidDays (0.00s)
=== RUN   TestNewCommunityService
--- PASS: TestNewCommunityService (0.00s)
=== RUN   TestChannelType_Constants
--- PASS: TestChannelType_Constants (0.00s)
PASS
ok  	github.com/chimera-pool/chimera-pool-core/internal/community	(cached)
=== RUN   TestBatchInserterConfig_Defaults
--- PASS: TestBatchInserterConfig_Defaults (0.00s)
=== RUN   TestShareBatchInserter_BuildBatchInsert
--- PASS: TestShareBatchInserter_BuildBatchInsert (0.00s)
=== RUN   TestShareBatchInserter_BuildBatchInsert_EmptyTimestamp
--- PASS: TestShareBatchInserter_BuildBatchInsert_EmptyTimestamp (0.00s)
=== RUN   TestShareBatchInserter_Stats
--- PASS: TestShareBatchInserter_Stats (0.00s)
=== RUN   TestGenericBatchInserter_InsertBatch_ValidationError
--- PASS: TestGenericBatchInserter_InsertBatch_ValidationError (0.00s)
=== RUN   TestGenericBatchInserter_InsertBatch_EmptyValues
--- PASS: TestGenericBatchInserter_InsertBatch_EmptyValues (0.00s)
=== RUN   TestBatchInsertStats
--- PASS: TestBatchInsertStats (0.00s)
=== RUN   TestNewShareBatchInserter_DefaultsApplied
--- PASS: TestNewShareBatchInserter_DefaultsApplied (0.00s)
=== RUN   TestNewShareBatchInserter_CustomConfig
--- PASS: TestNewShareBatchInserter_CustomConfig (0.00s)
=== RUN   TestNewShareBatchInserter_NegativeValuesUseDefaults
--- PASS: TestNewShareBatchInserter_NegativeValuesUseDefaults (0.00s)
=== RUN   TestShareBatchInserter_InsertBatch_EmptyShares
--- PASS: TestShareBatchInserter_InsertBatch_EmptyShares (0.00s)
=== RUN   TestGenericBatchInserter_InsertBatchReturning_EmptyValues
--- PASS: TestGenericBatchInserter_InsertBatchReturning_EmptyValues (0.00s)
=== RUN   TestBatchInserterConfig_Structure
--- PASS: TestBatchInserterConfig_Structure (0.00s)
=== RUN   TestShareBatchInserter_BuildBatchInsert_SingleShare
--- PASS: TestShareBatchInserter_BuildBatchInsert_SingleShare (0.00s)
=== RUN   TestShareBatchInserter_BuildBatchInsert_ManyShares
--- PASS: TestShareBatchInserter_BuildBatchInsert_ManyShares (0.00s)
=== RUN   TestNewGenericBatchInserter
--- PASS: TestNewGenericBatchInserter (0.00s)
=== RUN   TestBatchInsertStats_ZeroValues
--- PASS: TestBatchInsertStats_ZeroValues (0.00s)
=== RUN   TestDatabaseFoundationTDD
=== RUN   TestDatabaseFoundationTDD/TDD_DatabaseSchemaValidation
=== RUN   TestDatabaseFoundationTDD/TDD_DatabaseSchemaValidation/ValidateConfig_ShouldRejectInvalidConfigs
=== RUN   TestDatabaseFoundationTDD/TDD_DatabaseSchemaValidation/ValidateConfig_ShouldAcceptValidConfig
=== RUN   TestDatabaseFoundationTDD/TDD_DatabaseSchemaValidation/DefaultConfig_ShouldBeValid
=== RUN   TestDatabaseFoundationTDD/TDD_ConnectionPoolValidation
=== RUN   TestDatabaseFoundationTDD/TDD_ConnectionPoolValidation/ConnectionPool_ShouldHaveCorrectInterface
=== RUN   TestDatabaseFoundationTDD/TDD_ConnectionPoolValidation/Transaction_ShouldHaveCorrectInterface
=== RUN   TestDatabaseFoundationTDD/TDD_ConnectionPoolValidation/PoolStats_ShouldHaveCorrectStructure
=== RUN   TestDatabaseFoundationTDD/TDD_DataModelValidation
=== RUN   TestDatabaseFoundationTDD/TDD_DataModelValidation/User_ShouldHaveCorrectStructure
=== RUN   TestDatabaseFoundationTDD/TDD_DataModelValidation/Miner_ShouldHaveCorrectStructure
=== RUN   TestDatabaseFoundationTDD/TDD_DataModelValidation/Share_ShouldHaveCorrectStructure
=== RUN   TestDatabaseFoundationTDD/TDD_DataModelValidation/Block_ShouldHaveCorrectStructure
=== RUN   TestDatabaseFoundationTDD/TDD_DataModelValidation/Payout_ShouldHaveCorrectStructure
=== RUN   TestDatabaseFoundationTDD/TDD_DatabaseOperationsInterface
=== RUN   TestDatabaseFoundationTDD/TDD_DatabaseOperationsInterface/DatabaseOperations_ShouldHaveCorrectSignatures
=== RUN   TestDatabaseFoundationTDD/TDD_DatabaseServiceInterface
=== RUN   TestDatabaseFoundationTDD/TDD_DatabaseServiceInterface/Database_ShouldHaveCorrectInterface
=== RUN   TestDatabaseFoundationTDD/TDD_DatabaseServiceInterface/New_ShouldRejectInvalidConfig
--- PASS: TestDatabaseFoundationTDD (0.00s)
    --- PASS: TestDatabaseFoundationTDD/TDD_DatabaseSchemaValidation (0.00s)
        --- PASS: TestDatabaseFoundationTDD/TDD_DatabaseSchemaValidation/ValidateConfig_ShouldRejectInvalidConfigs (0.00s)
        --- PASS: TestDatabaseFoundationTDD/TDD_DatabaseSchemaValidation/ValidateConfig_ShouldAcceptValidConfig (0.00s)
        --- PASS: TestDatabaseFoundationTDD/TDD_DatabaseSchemaValidation/DefaultConfig_ShouldBeValid (0.00s)
    --- PASS: TestDatabaseFoundationTDD/TDD_ConnectionPoolValidation (0.00s)
        --- PASS: TestDatabaseFoundationTDD/TDD_ConnectionPoolValidation/ConnectionPool_ShouldHaveCorrectInterface (0.00s)
        --- PASS: TestDatabaseFoundationTDD/TDD_ConnectionPoolValidation/Transaction_ShouldHaveCorrectInterface (0.00s)
        --- PASS: TestDatabaseFoundationTDD/TDD_ConnectionPoolValidation/PoolStats_ShouldHaveCorrectStructure (0.00s)
    --- PASS: TestDatabaseFoundationTDD/TDD_DataModelValidation (0.00s)
        --- PASS: TestDatabaseFoundationTDD/TDD_DataModelValidation/User_ShouldHaveCorrectStructure (0.00s)
        --- PASS: TestDatabaseFoundationTDD/TDD_DataModelValidation/Miner_ShouldHaveCorrectStructure (0.00s)
        --- PASS: TestDatabaseFoundationTDD/TDD_DataModelValidation/Share_ShouldHaveCorrectStructure (0.00s)
        --- PASS: TestDatabaseFoundationTDD/TDD_DataModelValidation/Block_ShouldHaveCorrectStructure (0.00s)
        --- PASS: TestDatabaseFoundationTDD/TDD_DataModelValidation/Payout_ShouldHaveCorrectStructure (0.00s)
    --- PASS: TestDatabaseFoundationTDD/TDD_DatabaseOperationsInterface (0.00s)
        --- PASS: TestDatabaseFoundationTDD/TDD_DatabaseOperationsInterface/DatabaseOperations_ShouldHaveCorrectSignatures (0.00s)
    --- PASS: TestDatabaseFoundationTDD/TDD_DatabaseServiceInterface (0.00s)
        --- PASS: TestDatabaseFoundationTDD/TDD_DatabaseServiceInterface/Database_ShouldHaveCorrectInterface (0.00s)
        --- PASS: TestDatabaseFoundationTDD/TDD_DatabaseServiceInterface/New_ShouldRejectInvalidConfig (0.00s)
=== RUN   TestDatabaseFoundationImplementation
=== RUN   TestDatabaseFoundationImplementation/Implementation_ConfigValidation
=== RUN   TestDatabaseFoundationImplementation/Implementation_DataModelCreation
--- PASS: TestDatabaseFoundationImplementation (0.00s)
    --- PASS: TestDatabaseFoundationImplementation/Implementation_ConfigValidation (0.00s)
    --- PASS: TestDatabaseFoundationImplementation/Implementation_DataModelCreation (0.00s)
=== RUN   TestDatabaseFoundationRequirements
=== RUN   TestDatabaseFoundationRequirements/Requirement_6_1_PoolMiningFunctionality
=== RUN   TestDatabaseFoundationRequirements/Requirement_6_2_PayoutCalculation
--- PASS: TestDatabaseFoundationRequirements (0.00s)
    --- PASS: TestDatabaseFoundationRequirements/Requirement_6_1_PoolMiningFunctionality (0.00s)
    --- PASS: TestDatabaseFoundationRequirements/Requirement_6_2_PayoutCalculation (0.00s)
=== RUN   TestValidateConfig_AllEdgeCases
=== RUN   TestValidateConfig_AllEdgeCases/nil_config
=== RUN   TestValidateConfig_AllEdgeCases/empty_host
=== RUN   TestValidateConfig_AllEdgeCases/port_zero
=== RUN   TestValidateConfig_AllEdgeCases/port_negative
=== RUN   TestValidateConfig_AllEdgeCases/port_too_high
=== RUN   TestValidateConfig_AllEdgeCases/empty_database
=== RUN   TestValidateConfig_AllEdgeCases/empty_username
=== RUN   TestValidateConfig_AllEdgeCases/empty_password
=== RUN   TestValidateConfig_AllEdgeCases/negative_max_conns
=== RUN   TestValidateConfig_AllEdgeCases/negative_min_conns
=== RUN   TestValidateConfig_AllEdgeCases/min_greater_than_max
=== RUN   TestValidateConfig_AllEdgeCases/valid_config_minimal
=== RUN   TestValidateConfig_AllEdgeCases/valid_config_with_conns
=== RUN   TestValidateConfig_AllEdgeCases/valid_config_min_equals_max
=== RUN   TestValidateConfig_AllEdgeCases/valid_config_max_port
=== RUN   TestValidateConfig_AllEdgeCases/valid_config_min_port
--- PASS: TestValidateConfig_AllEdgeCases (0.00s)
    --- PASS: TestValidateConfig_AllEdgeCases/nil_config (0.00s)
    --- PASS: TestValidateConfig_AllEdgeCases/empty_host (0.00s)
    --- PASS: TestValidateConfig_AllEdgeCases/port_zero (0.00s)
    --- PASS: TestValidateConfig_AllEdgeCases/port_negative (0.00s)
    --- PASS: TestValidateConfig_AllEdgeCases/port_too_high (0.00s)
    --- PASS: TestValidateConfig_AllEdgeCases/empty_database (0.00s)
    --- PASS: TestValidateConfig_AllEdgeCases/empty_username (0.00s)
    --- PASS: TestValidateConfig_AllEdgeCases/empty_password (0.00s)
    --- PASS: TestValidateConfig_AllEdgeCases/negative_max_conns (0.00s)
    --- PASS: TestValidateConfig_AllEdgeCases/negative_min_conns (0.00s)
    --- PASS: TestValidateConfig_AllEdgeCases/min_greater_than_max (0.00s)
    --- PASS: TestValidateConfig_AllEdgeCases/valid_config_minimal (0.00s)
    --- PASS: TestValidateConfig_AllEdgeCases/valid_config_with_conns (0.00s)
    --- PASS: TestValidateConfig_AllEdgeCases/valid_config_min_equals_max (0.00s)
    --- PASS: TestValidateConfig_AllEdgeCases/valid_config_max_port (0.00s)
    --- PASS: TestValidateConfig_AllEdgeCases/valid_config_min_port (0.00s)
=== RUN   TestDatabase_Close_NilPool
--- PASS: TestDatabase_Close_NilPool (0.00s)
=== RUN   TestDatabase_GetStats_NilPool
--- PASS: TestDatabase_GetStats_NilPool (0.00s)
=== RUN   TestNew_NilConfig
--- PASS: TestNew_NilConfig (0.00s)
=== RUN   TestNew_InvalidConfig
--- PASS: TestNew_InvalidConfig (0.00s)
=== RUN   TestDefaultConfig_Values
--- PASS: TestDefaultConfig_Values (0.00s)
=== RUN   TestDefaultConfig_IsValid
--- PASS: TestDefaultConfig_IsValid (0.00s)
=== RUN   TestUser_ZeroValues
--- PASS: TestUser_ZeroValues (0.00s)
=== RUN   TestMiner_ZeroValues
--- PASS: TestMiner_ZeroValues (0.00s)
=== RUN   TestShare_ZeroValues
--- PASS: TestShare_ZeroValues (0.00s)
=== RUN   TestBlock_ZeroValues
--- PASS: TestBlock_ZeroValues (0.00s)
=== RUN   TestPayout_ZeroValues
--- PASS: TestPayout_ZeroValues (0.00s)
=== RUN   TestPayout_WithProcessedAt
--- PASS: TestPayout_WithProcessedAt (0.00s)
=== RUN   TestPoolStats_ZeroValues_Comprehensive
--- PASS: TestPoolStats_ZeroValues_Comprehensive (0.00s)
=== RUN   TestPoolStats_WithValues_Comprehensive
--- PASS: TestPoolStats_WithValues_Comprehensive (0.00s)
=== RUN   TestConfig_Defaults
--- PASS: TestConfig_Defaults (0.00s)
=== RUN   TestConfig_WithConnLimits
--- PASS: TestConfig_WithConnLimits (0.00s)
=== RUN   TestPoolStats_ZeroValues
--- PASS: TestPoolStats_ZeroValues (0.00s)
=== RUN   TestPoolStats_WithValues
--- PASS: TestPoolStats_WithValues (0.00s)
=== RUN   TestMockConnectionPool_HealthCheck_Healthy
--- PASS: TestMockConnectionPool_HealthCheck_Healthy (0.00s)
=== RUN   TestMockConnectionPool_HealthCheck_Unhealthy
--- PASS: TestMockConnectionPool_HealthCheck_Unhealthy (0.00s)
=== RUN   TestMockConnectionPool_Stats
--- PASS: TestMockConnectionPool_Stats (0.00s)
=== RUN   TestMockTransaction_Commit
--- PASS: TestMockTransaction_Commit (0.00s)
=== RUN   TestMockTransaction_Rollback
--- PASS: TestMockTransaction_Rollback (0.00s)
=== RUN   TestMockTransaction_DoubleCommit
--- PASS: TestMockTransaction_DoubleCommit (0.00s)
=== RUN   TestMockTransaction_DoubleRollback
--- PASS: TestMockTransaction_DoubleRollback (0.00s)
=== RUN   TestContext_WithTimeout
--- PASS: TestContext_WithTimeout (0.15s)
=== RUN   TestContext_WithCancel
--- PASS: TestContext_WithCancel (0.00s)
=== RUN   TestBuildConnectionString
=== RUN   TestBuildConnectionString/basic
=== RUN   TestBuildConnectionString/with_ssl
=== RUN   TestBuildConnectionString/custom_port
--- PASS: TestBuildConnectionString (0.00s)
    --- PASS: TestBuildConnectionString/basic (0.00s)
    --- PASS: TestBuildConnectionString/with_ssl (0.00s)
    --- PASS: TestBuildConnectionString/custom_port (0.00s)
=== RUN   TestInterfaceCompliance_QueryExecutor
--- PASS: TestInterfaceCompliance_QueryExecutor (0.00s)
=== RUN   TestInterfaceCompliance_CommandExecutor
--- PASS: TestInterfaceCompliance_CommandExecutor (0.00s)
=== RUN   TestInterfaceCompliance_TransactionExecutor
--- PASS: TestInterfaceCompliance_TransactionExecutor (0.00s)
=== RUN   TestMockUserRepository_CreateAndGet
--- PASS: TestMockUserRepository_CreateAndGet (0.00s)
=== RUN   TestMockUserRepository_GetByUsername
--- PASS: TestMockUserRepository_GetByUsername (0.00s)
=== RUN   TestMockUserRepository_GetByEmail
--- PASS: TestMockUserRepository_GetByEmail (0.00s)
=== RUN   TestMockUserRepository_NotFound
--- PASS: TestMockUserRepository_NotFound (0.00s)
=== RUN   TestMockUserRepository_Update
--- PASS: TestMockUserRepository_Update (0.00s)
=== RUN   TestMockUserRepository_Delete
--- PASS: TestMockUserRepository_Delete (0.00s)
=== RUN   TestQueryStats_ZeroValues
--- PASS: TestQueryStats_ZeroValues (0.00s)
=== RUN   TestQueryStats_WithValues
--- PASS: TestQueryStats_WithValues (0.00s)
=== RUN   TestDatabaseConnection
    connection_test.go:16: Skipping integration test - set INTEGRATION_TEST=true to run
--- SKIP: TestDatabaseConnection (0.00s)
=== RUN   TestMigrations
    connection_test.go:16: Skipping integration test - set INTEGRATION_TEST=true to run
--- SKIP: TestMigrations (0.00s)
=== RUN   TestDatabase
=== RUN   TestDatabase/ValidateConfig
=== RUN   TestDatabase/DefaultConfig
=== RUN   TestDatabase/NewDatabase_InvalidConfig
--- PASS: TestDatabase (0.00s)
    --- PASS: TestDatabase/ValidateConfig (0.00s)
    --- PASS: TestDatabase/DefaultConfig (0.00s)
    --- PASS: TestDatabase/NewDatabase_InvalidConfig (0.00s)
=== RUN   TestDatabaseOperationsValidation
=== RUN   TestDatabaseOperationsValidation/UserValidation
=== RUN   TestDatabaseOperationsValidation/MinerValidation
=== RUN   TestDatabaseOperationsValidation/ShareValidation
--- PASS: TestDatabaseOperationsValidation (0.00s)
    --- PASS: TestDatabaseOperationsValidation/UserValidation (0.00s)
    --- PASS: TestDatabaseOperationsValidation/MinerValidation (0.00s)
    --- PASS: TestDatabaseOperationsValidation/ShareValidation (0.00s)
=== RUN   TestMockScanner_Scan_Success
--- PASS: TestMockScanner_Scan_Success (0.00s)
=== RUN   TestMockScanner_Scan_Error
--- PASS: TestMockScanner_Scan_Error (0.00s)
=== RUN   TestMockRows_Iteration
--- PASS: TestMockRows_Iteration (0.00s)
=== RUN   TestMockRows_Empty
--- PASS: TestMockRows_Empty (0.00s)
=== RUN   TestMockResult_Success
--- PASS: TestMockResult_Success (0.00s)
=== RUN   TestInMemoryUserRepository_CreateAndGet
--- PASS: TestInMemoryUserRepository_CreateAndGet (0.00s)
=== RUN   TestInMemoryUserRepository_CreateDuplicate
--- PASS: TestInMemoryUserRepository_CreateDuplicate (0.00s)
=== RUN   TestInMemoryUserRepository_Update
--- PASS: TestInMemoryUserRepository_Update (0.00s)
=== RUN   TestInMemoryUserRepository_Delete
--- PASS: TestInMemoryUserRepository_Delete (0.00s)
=== RUN   TestInMemoryUserRepository_NotFound
--- PASS: TestInMemoryUserRepository_NotFound (0.00s)
=== RUN   TestInMemoryMinerRepository_CreateAndGet
--- PASS: TestInMemoryMinerRepository_CreateAndGet (0.00s)
=== RUN   TestInMemoryMinerRepository_GetByUserID
--- PASS: TestInMemoryMinerRepository_GetByUserID (0.00s)
=== RUN   TestInMemoryMinerRepository_GetActiveMinerCount
--- PASS: TestInMemoryMinerRepository_GetActiveMinerCount (0.00s)
=== RUN   TestInMemoryMinerRepository_UpdateHashrate
--- PASS: TestInMemoryMinerRepository_UpdateHashrate (0.00s)
=== RUN   TestInMemoryMinerRepository_UpdateLastSeen
--- PASS: TestInMemoryMinerRepository_UpdateLastSeen (0.01s)
=== RUN   TestInMemoryMinerRepository_NotFound
--- PASS: TestInMemoryMinerRepository_NotFound (0.00s)
=== RUN   TestInMemoryShareRepository_CreateAndGet
--- PASS: TestInMemoryShareRepository_CreateAndGet (0.00s)
=== RUN   TestInMemoryShareRepository_GetByMinerID
--- PASS: TestInMemoryShareRepository_GetByMinerID (0.00s)
=== RUN   TestInMemoryShareRepository_GetValidShareCount
--- PASS: TestInMemoryShareRepository_GetValidShareCount (0.00s)
=== RUN   TestInMemoryShareRepository_CreateBatch
--- PASS: TestInMemoryShareRepository_CreateBatch (0.00s)
=== RUN   TestInMemoryShareRepository_NotFound
--- PASS: TestInMemoryShareRepository_NotFound (0.00s)
=== RUN   TestMockTx_CommitRollback
--- PASS: TestMockTx_CommitRollback (0.00s)
=== RUN   TestInMemoryUserRepository_ConcurrentAccess
--- PASS: TestInMemoryUserRepository_ConcurrentAccess (0.00s)
=== RUN   TestInMemoryMinerRepository_ConcurrentAccess
--- PASS: TestInMemoryMinerRepository_ConcurrentAccess (0.00s)
=== RUN   TestDatabaseSchema
    connection_test.go:16: Skipping integration test - set INTEGRATION_TEST=true to run
--- SKIP: TestDatabaseSchema (0.00s)
=== RUN   TestBasicDatabaseOperations
    connection_test.go:16: Skipping integration test - set INTEGRATION_TEST=true to run
--- SKIP: TestBasicDatabaseOperations (0.00s)
PASS
ok  	github.com/chimera-pool/chimera-pool-core/internal/database	(cached)
=== RUN   TestEquipmentStatus
--- PASS: TestEquipmentStatus (0.00s)
=== RUN   TestEquipmentType
--- PASS: TestEquipmentType (0.00s)
=== RUN   TestEquipmentReader_GetEquipment
--- PASS: TestEquipmentReader_GetEquipment (0.00s)
=== RUN   TestEquipmentReader_ListUserEquipment
--- PASS: TestEquipmentReader_ListUserEquipment (0.00s)
=== RUN   TestEquipmentReader_ListEquipmentWithFilter
--- PASS: TestEquipmentReader_ListEquipmentWithFilter (0.00s)
=== RUN   TestEquipmentWriter_CreateEquipment
--- PASS: TestEquipmentWriter_CreateEquipment (0.00s)
=== RUN   TestEquipmentWriter_UpdateEquipment
--- PASS: TestEquipmentWriter_UpdateEquipment (0.00s)
=== RUN   TestEquipmentWriter_DeleteEquipment
--- PASS: TestEquipmentWriter_DeleteEquipment (0.00s)
=== RUN   TestEquipmentWriter_SetEquipmentStatus
--- PASS: TestEquipmentWriter_SetEquipmentStatus (0.00s)
=== RUN   TestPayoutSplitManager_ValidatePayoutSplits
--- PASS: TestPayoutSplitManager_ValidatePayoutSplits (0.00s)
=== RUN   TestPayoutSplitManager_SetPayoutSplits
--- PASS: TestPayoutSplitManager_SetPayoutSplits (0.00s)
=== RUN   TestPayoutSplitManager_AddAndRemoveSplit
--- PASS: TestPayoutSplitManager_AddAndRemoveSplit (0.00s)
=== RUN   TestEquipment_StructFields
--- PASS: TestEquipment_StructFields (0.00s)
=== RUN   TestEquipmentStats_Struct
--- PASS: TestEquipmentStats_Struct (0.00s)
=== RUN   TestInterfaceCompliance
--- PASS: TestInterfaceCompliance (0.00s)
PASS
ok  	github.com/chimera-pool/chimera-pool-core/internal/equipment	(cached)
FAIL	github.com/chimera-pool/chimera-pool-core/internal/geoip [build failed]
=== RUN   TestCloudDeployment_AWSTemplate
    cloud_deployment_test.go:13: Skipping - AWS template assertions need updating
--- SKIP: TestCloudDeployment_AWSTemplate (0.00s)
=== RUN   TestCloudDeployment_GCPTemplate
--- PASS: TestCloudDeployment_GCPTemplate (0.00s)
=== RUN   TestCloudDeployment_AzureTemplate
--- PASS: TestCloudDeployment_AzureTemplate (0.00s)
=== RUN   TestCloudDeployment_Deploy
    cloud_deployment_test.go:118: Skipping cloud deployment test in short mode
--- SKIP: TestCloudDeployment_Deploy (0.00s)
=== RUN   TestCloudDeployment_CostEstimation
--- PASS: TestCloudDeployment_CostEstimation (0.00s)
=== RUN   TestMDNSDiscovery_PoolAdvertisement
--- PASS: TestMDNSDiscovery_PoolAdvertisement (0.00s)
=== RUN   TestMDNSDiscovery_PoolDiscovery
--- PASS: TestMDNSDiscovery_PoolDiscovery (0.10s)
=== RUN   TestMDNSDiscovery_ServiceBrowsing
--- PASS: TestMDNSDiscovery_ServiceBrowsing (0.10s)
=== RUN   TestMDNSDiscovery_TXTRecordParsing
--- PASS: TestMDNSDiscovery_TXTRecordParsing (0.00s)
=== RUN   TestMDNSDiscovery_NetworkInterfaceSelection
--- PASS: TestMDNSDiscovery_NetworkInterfaceSelection (0.03s)
=== RUN   TestMDNSDiscovery_ConflictResolution
--- PASS: TestMDNSDiscovery_ConflictResolution (0.00s)
=== RUN   TestCloudDeployment_MultiRegionSupport
    cloud_deployment_test.go:295: Skipping - template generation needs region embedding
--- SKIP: TestCloudDeployment_MultiRegionSupport (0.00s)
=== RUN   TestCloudDeployment_SecurityConfiguration
    cloud_deployment_test.go:315: Skipping - test assertions need updating
--- SKIP: TestCloudDeployment_SecurityConfiguration (0.00s)
=== RUN   TestMinerInstaller_HardwareDetection
    miner_installer_test.go:17: Skipping miner installer test - set INSTALLER_TEST=true to run
--- SKIP: TestMinerInstaller_HardwareDetection (0.00s)
=== RUN   TestMinerInstaller_GPUDetection
    miner_installer_test.go:17: Skipping miner installer test - set INSTALLER_TEST=true to run
--- SKIP: TestMinerInstaller_GPUDetection (0.00s)
=== RUN   TestMinerInstaller_OptimalConfiguration
=== RUN   TestMinerInstaller_OptimalConfiguration/high_end_gpu_system
=== RUN   TestMinerInstaller_OptimalConfiguration/cpu_only_system
=== RUN   TestMinerInstaller_OptimalConfiguration/low_end_system
--- PASS: TestMinerInstaller_OptimalConfiguration (0.00s)
    --- PASS: TestMinerInstaller_OptimalConfiguration/high_end_gpu_system (0.00s)
    --- PASS: TestMinerInstaller_OptimalConfiguration/cpu_only_system (0.00s)
    --- PASS: TestMinerInstaller_OptimalConfiguration/low_end_system (0.00s)
=== RUN   TestMinerInstaller_WizardFlow
--- PASS: TestMinerInstaller_WizardFlow (0.00s)
=== RUN   TestMinerInstaller_OneClickInstall
    miner_installer_test.go:17: Skipping miner installer test - set INSTALLER_TEST=true to run
--- SKIP: TestMinerInstaller_OneClickInstall (0.00s)
=== RUN   TestMinerInstaller_DriverInstallation
    miner_installer_test.go:17: Skipping miner installer test - set INSTALLER_TEST=true to run
--- SKIP: TestMinerInstaller_DriverInstallation (0.00s)
=== RUN   TestMinerInstaller_ConfigValidation
=== RUN   TestMinerInstaller_ConfigValidation/valid_config
=== RUN   TestMinerInstaller_ConfigValidation/invalid_pool_url
=== RUN   TestMinerInstaller_ConfigValidation/empty_wallet_address
=== RUN   TestMinerInstaller_ConfigValidation/no_mining_enabled
--- PASS: TestMinerInstaller_ConfigValidation (0.00s)
    --- PASS: TestMinerInstaller_ConfigValidation/valid_config (0.00s)
    --- PASS: TestMinerInstaller_ConfigValidation/invalid_pool_url (0.00s)
    --- PASS: TestMinerInstaller_ConfigValidation/empty_wallet_address (0.00s)
    --- PASS: TestMinerInstaller_ConfigValidation/no_mining_enabled (0.00s)
=== RUN   TestMinerInstaller_PlatformSpecificInstall
--- PASS: TestMinerInstaller_PlatformSpecificInstall (0.00s)
=== RUN   TestMinerInstaller_AutoUpdate
--- PASS: TestMinerInstaller_AutoUpdate (0.00s)
=== RUN   TestPoolInstaller_AutoConfiguration
    pool_installer_test.go:16: Skipping installer test - set INSTALLER_TEST=true to run
--- SKIP: TestPoolInstaller_AutoConfiguration (0.00s)
=== RUN   TestPoolInstaller_DockerComposeGeneration
    pool_installer_test.go:16: Skipping installer test - set INSTALLER_TEST=true to run
--- SKIP: TestPoolInstaller_DockerComposeGeneration (0.00s)
=== RUN   TestPoolInstaller_SystemDetection
    pool_installer_test.go:16: Skipping installer test - set INSTALLER_TEST=true to run
--- SKIP: TestPoolInstaller_SystemDetection (0.00s)
=== RUN   TestPoolInstaller_OneClickInstall
    pool_installer_test.go:16: Skipping installer test - set INSTALLER_TEST=true to run
--- SKIP: TestPoolInstaller_OneClickInstall (0.00s)
=== RUN   TestPoolInstaller_CloudTemplateGeneration
=== RUN   TestPoolInstaller_CloudTemplateGeneration/aws
=== RUN   TestPoolInstaller_CloudTemplateGeneration/gcp
=== RUN   TestPoolInstaller_CloudTemplateGeneration/azure
--- PASS: TestPoolInstaller_CloudTemplateGeneration (0.00s)
    --- PASS: TestPoolInstaller_CloudTemplateGeneration/aws (0.00s)
    --- PASS: TestPoolInstaller_CloudTemplateGeneration/gcp (0.00s)
    --- PASS: TestPoolInstaller_CloudTemplateGeneration/azure (0.00s)
PASS
ok  	github.com/chimera-pool/chimera-pool-core/internal/installer	(cached)
=== RUN   TestMonitoringE2E
=== RUN   TestMonitoringE2E/Complete_Monitoring_Workflow
    e2e_test.go:139: PASS:	StorePerformanceMetrics(context.backgroundCtx,*monitoring.PerformanceMetrics)
    e2e_test.go:139: PASS:	StoreMinerMetrics(context.backgroundCtx,*monitoring.MinerMetrics)
    e2e_test.go:139: PASS:	CreateAlertRule(context.backgroundCtx,mock.AnythingOfTypeArgument)
    e2e_test.go:139: PASS:	GetAlertRules(context.backgroundCtx)
    e2e_test.go:139: PASS:	GetAlertRules(context.backgroundCtx)
    e2e_test.go:139: PASS:	CreateAlert(context.backgroundCtx,mock.AnythingOfTypeArgument)
    e2e_test.go:139: PASS:	CreateDashboard(context.backgroundCtx,mock.AnythingOfTypeArgument)
    e2e_test.go:140: PASS:	RecordGauge(string,map[string]string,float64)
    e2e_test.go:140: PASS:	RecordGauge(string,map[string]string,float64)
    e2e_test.go:140: PASS:	RecordGauge(string,map[string]string,float64)
    e2e_test.go:140: PASS:	RecordGauge(string,map[string]string,float64)
    e2e_test.go:140: PASS:	RecordGauge(string,map[string]string,float64)
    e2e_test.go:140: PASS:	RecordGauge(string,map[string]string,float64)
    e2e_test.go:140: PASS:	RecordCounter(string,map[string]string,float64)
    e2e_test.go:140: PASS:	RecordGauge(string,map[string]string,float64)
    e2e_test.go:140: PASS:	RecordGauge(string,map[string]string,float64)
    e2e_test.go:140: PASS:	RecordCounter(string,map[string]string,float64)
    e2e_test.go:140: PASS:	RecordCounter(string,map[string]string,float64)
    e2e_test.go:140: PASS:	RecordCounter(string,map[string]string,float64)
    e2e_test.go:140: PASS:	RecordGauge(string,map[string]string,float64)
    e2e_test.go:140: PASS:	RecordGauge(string,map[string]string,float64)
    e2e_test.go:140: PASS:	RecordGauge(string,map[string]string,float64)
    e2e_test.go:140: PASS:	Query(string)
    e2e_test.go:140: PASS:	Query(string)
--- PASS: TestMonitoringE2E (0.00s)
    --- PASS: TestMonitoringE2E/Complete_Monitoring_Workflow (0.00s)
=== RUN   TestMonitoringService_RecordMetric
=== RUN   TestMonitoringService_RecordMetric/should_record_counter_metric_successfully
    service_test.go:216: PASS:	StoreMetric(string,mock.AnythingOfTypeArgument)
    service_test.go:217: PASS:	RecordCounter(string,map[string]string,float64)
=== RUN   TestMonitoringService_RecordMetric/should_record_gauge_metric_successfully
    service_test.go:216: PASS:	StoreMetric(string,mock.AnythingOfTypeArgument)
    service_test.go:217: PASS:	RecordGauge(string,map[string]string,float64)
=== RUN   TestMonitoringService_RecordMetric/should_fail_with_invalid_metric_type
=== RUN   TestMonitoringService_RecordMetric/should_fail_with_empty_metric_name
--- PASS: TestMonitoringService_RecordMetric (0.00s)
    --- PASS: TestMonitoringService_RecordMetric/should_record_counter_metric_successfully (0.00s)
    --- PASS: TestMonitoringService_RecordMetric/should_record_gauge_metric_successfully (0.00s)
    --- PASS: TestMonitoringService_RecordMetric/should_fail_with_invalid_metric_type (0.00s)
    --- PASS: TestMonitoringService_RecordMetric/should_fail_with_empty_metric_name (0.00s)
=== RUN   TestMonitoringService_CreateAlert
=== RUN   TestMonitoringService_CreateAlert/should_create_alert_successfully
    service_test.go:289: PASS:	CreateAlert(string,mock.AnythingOfTypeArgument)
=== RUN   TestMonitoringService_CreateAlert/should_fail_with_empty_alert_name
=== RUN   TestMonitoringService_CreateAlert/should_fail_with_invalid_severity
--- PASS: TestMonitoringService_CreateAlert (0.00s)
    --- PASS: TestMonitoringService_CreateAlert/should_create_alert_successfully (0.00s)
    --- PASS: TestMonitoringService_CreateAlert/should_fail_with_empty_alert_name (0.00s)
    --- PASS: TestMonitoringService_CreateAlert/should_fail_with_invalid_severity (0.00s)
=== RUN   TestMonitoringService_CreateAlertRule
=== RUN   TestMonitoringService_CreateAlertRule/should_create_alert_rule_successfully
    service_test.go:372: PASS:	CreateAlertRule(string,mock.AnythingOfTypeArgument)
=== RUN   TestMonitoringService_CreateAlertRule/should_fail_with_invalid_condition
=== RUN   TestMonitoringService_CreateAlertRule/should_fail_with_invalid_duration
--- PASS: TestMonitoringService_CreateAlertRule (0.00s)
    --- PASS: TestMonitoringService_CreateAlertRule/should_create_alert_rule_successfully (0.00s)
    --- PASS: TestMonitoringService_CreateAlertRule/should_fail_with_invalid_condition (0.00s)
    --- PASS: TestMonitoringService_CreateAlertRule/should_fail_with_invalid_duration (0.00s)
=== RUN   TestMonitoringService_EvaluateAlertRules
=== RUN   TestMonitoringService_EvaluateAlertRules/should_evaluate_rules_and_create_alerts
    service_test.go:446: PASS:	GetAlertRules(string)
    service_test.go:446: PASS:	CreateAlert(string,mock.AnythingOfTypeArgument)
    service_test.go:447: PASS:	Query(string)
=== RUN   TestMonitoringService_EvaluateAlertRules/should_not_create_alerts_when_conditions_not_met
    service_test.go:446: PASS:	GetAlertRules(string)
    service_test.go:447: PASS:	Query(string)
--- PASS: TestMonitoringService_EvaluateAlertRules (0.00s)
    --- PASS: TestMonitoringService_EvaluateAlertRules/should_evaluate_rules_and_create_alerts (0.00s)
    --- PASS: TestMonitoringService_EvaluateAlertRules/should_not_create_alerts_when_conditions_not_met (0.00s)
=== RUN   TestMonitoringService_CreateDashboard
=== RUN   TestMonitoringService_CreateDashboard/should_create_dashboard_successfully
    service_test.go:526: PASS:	CreateDashboard(string,mock.AnythingOfTypeArgument)
=== RUN   TestMonitoringService_CreateDashboard/should_fail_with_empty_dashboard_name
=== RUN   TestMonitoringService_CreateDashboard/should_fail_with_invalid_JSON_config
--- PASS: TestMonitoringService_CreateDashboard (0.00s)
    --- PASS: TestMonitoringService_CreateDashboard/should_create_dashboard_successfully (0.00s)
    --- PASS: TestMonitoringService_CreateDashboard/should_fail_with_empty_dashboard_name (0.00s)
    --- PASS: TestMonitoringService_CreateDashboard/should_fail_with_invalid_JSON_config (0.00s)
=== RUN   TestMonitoringService_RecordHistogramMetric
    service_test.go:554: PASS:	StoreMetric(string,mock.AnythingOfTypeArgument)
    service_test.go:555: PASS:	RecordHistogram(string,map[string]string,float64)
--- PASS: TestMonitoringService_RecordHistogramMetric (0.00s)
=== RUN   TestMonitoringService_ResolveAlert
    service_test.go:569: PASS:	UpdateAlert(string,mock.AnythingOfTypeArgument)
--- PASS: TestMonitoringService_ResolveAlert (0.00s)
=== RUN   TestMonitoringService_RecordPerformanceMetrics
=== RUN   TestMonitoringService_RecordPerformanceMetrics/should_record_performance_metrics_successfully
=== RUN   TestMonitoringService_RecordPerformanceMetrics/should_fail_with_nil_metrics
--- PASS: TestMonitoringService_RecordPerformanceMetrics (0.00s)
    --- PASS: TestMonitoringService_RecordPerformanceMetrics/should_record_performance_metrics_successfully (0.00s)
    --- PASS: TestMonitoringService_RecordPerformanceMetrics/should_fail_with_nil_metrics (0.00s)
=== RUN   TestMonitoringService_RecordMinerMetrics
=== RUN   TestMonitoringService_RecordMinerMetrics/should_record_miner_metrics_successfully_when_online
=== RUN   TestMonitoringService_RecordMinerMetrics/should_record_miner_metrics_when_offline
=== RUN   TestMonitoringService_RecordMinerMetrics/should_fail_with_nil_metrics
=== RUN   TestMonitoringService_RecordMinerMetrics/should_fail_with_empty_miner_ID
--- PASS: TestMonitoringService_RecordMinerMetrics (0.00s)
    --- PASS: TestMonitoringService_RecordMinerMetrics/should_record_miner_metrics_successfully_when_online (0.00s)
    --- PASS: TestMonitoringService_RecordMinerMetrics/should_record_miner_metrics_when_offline (0.00s)
    --- PASS: TestMonitoringService_RecordMinerMetrics/should_fail_with_nil_metrics (0.00s)
    --- PASS: TestMonitoringService_RecordMinerMetrics/should_fail_with_empty_miner_ID (0.00s)
=== RUN   TestMonitoringService_RecordPoolMetrics
=== RUN   TestMonitoringService_RecordPoolMetrics/should_record_pool_metrics_successfully
=== RUN   TestMonitoringService_RecordPoolMetrics/should_fail_with_nil_metrics
--- PASS: TestMonitoringService_RecordPoolMetrics (0.00s)
    --- PASS: TestMonitoringService_RecordPoolMetrics/should_record_pool_metrics_successfully (0.00s)
    --- PASS: TestMonitoringService_RecordPoolMetrics/should_fail_with_nil_metrics (0.00s)
=== RUN   TestMonitoringService_GetMetrics
=== RUN   TestMonitoringService_GetMetrics/should_get_metrics_successfully
=== RUN   TestMonitoringService_GetMetrics/should_fail_with_empty_metric_name
=== RUN   TestMonitoringService_GetMetrics/should_fail_when_end_before_start
--- PASS: TestMonitoringService_GetMetrics (0.00s)
    --- PASS: TestMonitoringService_GetMetrics/should_get_metrics_successfully (0.00s)
    --- PASS: TestMonitoringService_GetMetrics/should_fail_with_empty_metric_name (0.00s)
    --- PASS: TestMonitoringService_GetMetrics/should_fail_when_end_before_start (0.00s)
=== RUN   TestMonitoringService_CreateDashboard_EmptyUserID
--- PASS: TestMonitoringService_CreateDashboard_EmptyUserID (0.00s)
=== RUN   TestMonitoringService_CreateAlertRule_EmptyName
--- PASS: TestMonitoringService_CreateAlertRule_EmptyName (0.00s)
=== RUN   TestMonitoringService_CreateAlertRule_EmptyQuery
--- PASS: TestMonitoringService_CreateAlertRule_EmptyQuery (0.00s)
=== RUN   TestMonitoringService_CreateAlertRule_InvalidSeverity
--- PASS: TestMonitoringService_CreateAlertRule_InvalidSeverity (0.00s)
=== RUN   TestMonitoringService_CreateAlert_AllSeverities
=== RUN   TestMonitoringService_CreateAlert_AllSeverities/info
=== RUN   TestMonitoringService_CreateAlert_AllSeverities/warning
=== RUN   TestMonitoringService_CreateAlert_AllSeverities/error
=== RUN   TestMonitoringService_CreateAlert_AllSeverities/critical
--- PASS: TestMonitoringService_CreateAlert_AllSeverities (0.00s)
    --- PASS: TestMonitoringService_CreateAlert_AllSeverities/info (0.00s)
    --- PASS: TestMonitoringService_CreateAlert_AllSeverities/warning (0.00s)
    --- PASS: TestMonitoringService_CreateAlert_AllSeverities/error (0.00s)
    --- PASS: TestMonitoringService_CreateAlert_AllSeverities/critical (0.00s)
=== RUN   TestMonitoringService_CreateAlertRule_AllConditions
=== RUN   TestMonitoringService_CreateAlertRule_AllConditions/>
=== RUN   TestMonitoringService_CreateAlertRule_AllConditions/<
=== RUN   TestMonitoringService_CreateAlertRule_AllConditions/>=
=== RUN   TestMonitoringService_CreateAlertRule_AllConditions/<=
=== RUN   TestMonitoringService_CreateAlertRule_AllConditions/==
=== RUN   TestMonitoringService_CreateAlertRule_AllConditions/!=
--- PASS: TestMonitoringService_CreateAlertRule_AllConditions (0.00s)
    --- PASS: TestMonitoringService_CreateAlertRule_AllConditions/> (0.00s)
    --- PASS: TestMonitoringService_CreateAlertRule_AllConditions/< (0.00s)
    --- PASS: TestMonitoringService_CreateAlertRule_AllConditions/>= (0.00s)
    --- PASS: TestMonitoringService_CreateAlertRule_AllConditions/<= (0.00s)
    --- PASS: TestMonitoringService_CreateAlertRule_AllConditions/== (0.00s)
    --- PASS: TestMonitoringService_CreateAlertRule_AllConditions/!= (0.00s)
=== RUN   TestMonitoringService_CreateAlertRule_ValidDurations
=== RUN   TestMonitoringService_CreateAlertRule_ValidDurations/5m
=== RUN   TestMonitoringService_CreateAlertRule_ValidDurations/10s
=== RUN   TestMonitoringService_CreateAlertRule_ValidDurations/1h
=== RUN   TestMonitoringService_CreateAlertRule_ValidDurations/30m
--- PASS: TestMonitoringService_CreateAlertRule_ValidDurations (0.00s)
    --- PASS: TestMonitoringService_CreateAlertRule_ValidDurations/5m (0.00s)
    --- PASS: TestMonitoringService_CreateAlertRule_ValidDurations/10s (0.00s)
    --- PASS: TestMonitoringService_CreateAlertRule_ValidDurations/1h (0.00s)
    --- PASS: TestMonitoringService_CreateAlertRule_ValidDurations/30m (0.00s)
=== RUN   TestMonitoringService_EvaluateAlertRules_InactiveRule
--- PASS: TestMonitoringService_EvaluateAlertRules_InactiveRule (0.00s)
=== RUN   TestMonitoringService_CreateDashboard_Success
--- PASS: TestMonitoringService_CreateDashboard_Success (0.00s)
=== RUN   TestMonitoringService_CreateDashboard_EmptyName
--- PASS: TestMonitoringService_CreateDashboard_EmptyName (0.00s)
=== RUN   TestMonitoringService_CreateDashboard_InvalidJSON
--- PASS: TestMonitoringService_CreateDashboard_InvalidJSON (0.00s)
=== RUN   TestMonitoringService_RecordPerformanceMetrics_Success
--- PASS: TestMonitoringService_RecordPerformanceMetrics_Success (0.00s)
=== RUN   TestMonitoringService_RecordPerformanceMetrics_NilMetrics
--- PASS: TestMonitoringService_RecordPerformanceMetrics_NilMetrics (0.00s)
=== RUN   TestMonitoringService_RecordMinerMetrics_Success
--- PASS: TestMonitoringService_RecordMinerMetrics_Success (0.00s)
=== RUN   TestMonitoringService_RecordMinerMetrics_NilMetrics
--- PASS: TestMonitoringService_RecordMinerMetrics_NilMetrics (0.00s)
=== RUN   TestMonitoringService_RecordMinerMetrics_EmptyMinerID
--- PASS: TestMonitoringService_RecordMinerMetrics_EmptyMinerID (0.00s)
=== RUN   TestMonitoringService_RecordPoolMetrics_Success
--- PASS: TestMonitoringService_RecordPoolMetrics_Success (0.00s)
=== RUN   TestMonitoringService_RecordPoolMetrics_NilMetrics
--- PASS: TestMonitoringService_RecordPoolMetrics_NilMetrics (0.00s)
=== RUN   TestMonitoringService_GetMetrics_Success
--- PASS: TestMonitoringService_GetMetrics_Success (0.00s)
=== RUN   TestMonitoringService_GetMetrics_EmptyName
--- PASS: TestMonitoringService_GetMetrics_EmptyName (0.00s)
=== RUN   TestMonitoringService_GetMetrics_InvalidTimeRange
--- PASS: TestMonitoringService_GetMetrics_InvalidTimeRange (0.00s)
=== RUN   TestMonitoringService_EvaluateAlertRules_WithActiveRule
--- PASS: TestMonitoringService_EvaluateAlertRules_WithActiveRule (0.00s)
=== RUN   TestMonitoringService_EvaluateAlertRules_BelowThreshold
--- PASS: TestMonitoringService_EvaluateAlertRules_BelowThreshold (0.00s)
=== RUN   TestMonitoringService_ResolveAlert_Success
--- PASS: TestMonitoringService_ResolveAlert_Success (0.00s)
=== RUN   TestMonitoringService_RecordMetric_HistogramType
--- PASS: TestMonitoringService_RecordMetric_HistogramType (0.00s)
PASS
ok  	github.com/chimera-pool/chimera-pool-core/internal/monitoring	(cached)
=== RUN   TestNewBlockDAGHealthChecker
--- PASS: TestNewBlockDAGHealthChecker (0.00s)
=== RUN   TestNewBlockDAGHealthChecker_DefaultTimeout
--- PASS: TestNewBlockDAGHealthChecker_DefaultTimeout (0.00s)
=== RUN   TestBlockDAGHealthChecker_GetChainName
--- PASS: TestBlockDAGHealthChecker_GetChainName (0.00s)
=== RUN   TestBlockDAGHealthChecker_CheckRPCConnectivity_Success
--- PASS: TestBlockDAGHealthChecker_CheckRPCConnectivity_Success (0.00s)
=== RUN   TestBlockDAGHealthChecker_CheckRPCConnectivity_Failure
--- PASS: TestBlockDAGHealthChecker_CheckRPCConnectivity_Failure (0.00s)
=== RUN   TestBlockDAGHealthChecker_GetSyncProgress_FullySynced
--- PASS: TestBlockDAGHealthChecker_GetSyncProgress_FullySynced (0.00s)
=== RUN   TestBlockDAGHealthChecker_GetSyncProgress_Syncing
--- PASS: TestBlockDAGHealthChecker_GetSyncProgress_Syncing (0.00s)
=== RUN   TestBlockDAGHealthChecker_IsInitialBlockDownload_False
--- PASS: TestBlockDAGHealthChecker_IsInitialBlockDownload_False (0.00s)
=== RUN   TestBlockDAGHealthChecker_IsInitialBlockDownload_True
--- PASS: TestBlockDAGHealthChecker_IsInitialBlockDownload_True (0.00s)
=== RUN   TestBlockDAGHealthChecker_CheckBlockTemplateGeneration_Success
--- PASS: TestBlockDAGHealthChecker_CheckBlockTemplateGeneration_Success (0.00s)
=== RUN   TestBlockDAGHealthChecker_CheckBlockTemplateGeneration_Failure
--- PASS: TestBlockDAGHealthChecker_CheckBlockTemplateGeneration_Failure (0.00s)
=== RUN   TestBlockDAGHealthChecker_RunDiagnostics_Healthy
--- PASS: TestBlockDAGHealthChecker_RunDiagnostics_Healthy (0.00s)
=== RUN   TestBlockDAGHealthChecker_RunDiagnostics_RPCDown
--- PASS: TestBlockDAGHealthChecker_RunDiagnostics_RPCDown (0.00s)
=== RUN   TestBlockDAGHealthChecker_ImplementsNodeHealthChecker
--- PASS: TestBlockDAGHealthChecker_ImplementsNodeHealthChecker (0.00s)
=== RUN   TestBlockDAGHealthChecker_ImplementsRPCChecker
--- PASS: TestBlockDAGHealthChecker_ImplementsRPCChecker (0.00s)
=== RUN   TestBlockDAGHealthChecker_ImplementsSyncChecker
--- PASS: TestBlockDAGHealthChecker_ImplementsSyncChecker (0.00s)
=== RUN   TestBlockDAGHealthChecker_ImplementsBlockTemplateChecker
--- PASS: TestBlockDAGHealthChecker_ImplementsBlockTemplateChecker (0.00s)
=== RUN   TestBlockDAGHealthChecker_ImplementsChainDiagnostics
--- PASS: TestBlockDAGHealthChecker_ImplementsChainDiagnostics (0.00s)
=== RUN   TestBlockDAGErrorVariables
--- PASS: TestBlockDAGErrorVariables (0.00s)
=== RUN   TestIntegration_FullHealthMonitorLifecycle
[HealthService] 2025/12/26 06:03:56 [HealthMonitor] Added rule: Restart on MWEB block validation failure
[HealthService] 2025/12/26 06:03:56 [HealthMonitor] Added rule: Restart on block template generation failure
[HealthService] 2025/12/26 06:03:56 [HealthMonitor] Added rule: Restart when RPC is unreachable
[HealthService] 2025/12/26 06:03:56 Starting health monitoring service...
[HealthService] 2025/12/26 06:03:56 [HealthMonitor] Registered node: litecoin (container: test-litecoind)
[HealthService] 2025/12/26 06:03:56 BlockDAG container not configured, skipping registration
[HealthService] 2025/12/26 06:03:56 [HealthMonitor] Starting with interval: 100ms
[HealthService] 2025/12/26 06:03:56 Health monitoring service started successfully
[HealthService] 2025/12/26 06:03:56 Stopping health monitoring service...
[HealthService] 2025/12/26 06:03:56 [HealthMonitor] Stopped gracefully
[HealthService] 2025/12/26 06:03:56 Health monitoring service stopped
--- PASS: TestIntegration_FullHealthMonitorLifecycle (0.30s)
=== RUN   TestIntegration_HealthMonitor_DetectsMWEBError
[HealthService] 2025/12/26 06:03:56 [HealthMonitor] Added rule: Restart on MWEB block validation failure
[HealthService] 2025/12/26 06:03:56 [HealthMonitor] Added rule: Restart on block template generation failure
[HealthService] 2025/12/26 06:03:56 [HealthMonitor] Added rule: Restart when RPC is unreachable
[HealthService] 2025/12/26 06:03:56 Starting health monitoring service...
[HealthService] 2025/12/26 06:03:56 [HealthMonitor] Registered node: litecoin (container: test-litecoind)
[HealthService] 2025/12/26 06:03:56 BlockDAG container not configured, skipping registration
[HealthService] 2025/12/26 06:03:56 [HealthMonitor] Starting with interval: 50ms
[HealthService] 2025/12/26 06:03:56 Health monitoring service started successfully
[HealthService] 2025/12/26 06:03:56 Stopping health monitoring service...
[HealthService] 2025/12/26 06:03:56 [HealthMonitor] Stopped gracefully
[HealthService] 2025/12/26 06:03:56 Health monitoring service stopped
--- PASS: TestIntegration_HealthMonitor_DetectsMWEBError (0.20s)
=== RUN   TestIntegration_HealthMonitor_WithPrometheusMetrics
[HealthService] 2025/12/26 06:03:56 [HealthMonitor] Added rule: Restart on MWEB block validation failure
[HealthService] 2025/12/26 06:03:56 [HealthMonitor] Added rule: Restart on block template generation failure
[HealthService] 2025/12/26 06:03:56 [HealthMonitor] Added rule: Restart when RPC is unreachable
[HealthService] 2025/12/26 06:03:56 Starting health monitoring service...
[HealthService] 2025/12/26 06:03:56 [HealthMonitor] Registered node: litecoin (container: test-litecoind)
[HealthService] 2025/12/26 06:03:56 BlockDAG container not configured, skipping registration
[HealthService] 2025/12/26 06:03:56 Prometheus metrics available at 127.0.0.1:0/metrics
[HealthService] 2025/12/26 06:03:56 [HealthMonitor] Starting with interval: 100ms
[HealthService] 2025/12/26 06:03:56 Health monitoring service started successfully
[HealthService] 2025/12/26 06:03:57 Stopping health monitoring service...
[HealthService] 2025/12/26 06:03:57 [HealthMonitor] Stopped gracefully
[HealthService] 2025/12/26 06:03:57 Health monitoring service stopped
--- PASS: TestIntegration_HealthMonitor_WithPrometheusMetrics (0.15s)
=== RUN   TestIntegration_ForceCheck
[HealthService] 2025/12/26 06:03:57 [HealthMonitor] Added rule: Restart on MWEB block validation failure
[HealthService] 2025/12/26 06:03:57 [HealthMonitor] Added rule: Restart on block template generation failure
[HealthService] 2025/12/26 06:03:57 [HealthMonitor] Added rule: Restart when RPC is unreachable
[HealthService] 2025/12/26 06:03:57 Starting health monitoring service...
[HealthService] 2025/12/26 06:03:57 [HealthMonitor] Registered node: litecoin (container: test-litecoind)
[HealthService] 2025/12/26 06:03:57 BlockDAG container not configured, skipping registration
[HealthService] 2025/12/26 06:03:57 [HealthMonitor] Starting with interval: 1h0m0s
[HealthService] 2025/12/26 06:03:57 Health monitoring service started successfully
[HealthService] 2025/12/26 06:03:57 Stopping health monitoring service...
[HealthService] 2025/12/26 06:03:57 [HealthMonitor] Stopped gracefully
[HealthService] 2025/12/26 06:03:57 Health monitoring service stopped
--- PASS: TestIntegration_ForceCheck (0.00s)
=== RUN   TestIntegration_MultipleNodesMonitoring
[HealthService] 2025/12/26 06:03:57 [HealthMonitor] Added rule: Restart on MWEB block validation failure
[HealthService] 2025/12/26 06:03:57 [HealthMonitor] Added rule: Restart on block template generation failure
[HealthService] 2025/12/26 06:03:57 [HealthMonitor] Added rule: Restart when RPC is unreachable
[HealthService] 2025/12/26 06:03:57 Starting health monitoring service...
[HealthService] 2025/12/26 06:03:57 [HealthMonitor] Registered node: litecoin (container: test-litecoind)
[HealthService] 2025/12/26 06:03:57 [HealthMonitor] Registered node: blockdag (container: test-blockdag)
[HealthService] 2025/12/26 06:03:57 [HealthMonitor] Starting with interval: 100ms
[HealthService] 2025/12/26 06:03:57 Health monitoring service started successfully
[HealthService] 2025/12/26 06:03:57 Stopping health monitoring service...
[HealthService] 2025/12/26 06:03:57 [HealthMonitor] Stopped gracefully
[HealthService] 2025/12/26 06:03:57 Health monitoring service stopped
--- PASS: TestIntegration_MultipleNodesMonitoring (0.20s)
=== RUN   TestHealthStatus_Constants
--- PASS: TestHealthStatus_Constants (0.00s)
=== RUN   TestRecoveryActionType_Constants
--- PASS: TestRecoveryActionType_Constants (0.00s)
=== RUN   TestContainerStatus_Constants
--- PASS: TestContainerStatus_Constants (0.00s)
=== RUN   TestAlertSeverity_Constants
--- PASS: TestAlertSeverity_Constants (0.00s)
=== RUN   TestDefaultHealthMonitorConfig
--- PASS: TestDefaultHealthMonitorConfig (0.00s)
=== RUN   TestMockRPCChecker_Success
--- PASS: TestMockRPCChecker_Success (0.00s)
=== RUN   TestMockRPCChecker_Error
--- PASS: TestMockRPCChecker_Error (0.00s)
=== RUN   TestMockSyncChecker_GetSyncProgress
--- PASS: TestMockSyncChecker_GetSyncProgress (0.00s)
=== RUN   TestMockSyncChecker_IsInitialBlockDownload
--- PASS: TestMockSyncChecker_IsInitialBlockDownload (0.00s)
=== RUN   TestMockBlockTemplateChecker_Success
--- PASS: TestMockBlockTemplateChecker_Success (0.00s)
=== RUN   TestMockBlockTemplateChecker_Error
--- PASS: TestMockBlockTemplateChecker_Error (0.00s)
=== RUN   TestMockContainerRestarter_Restart
--- PASS: TestMockContainerRestarter_Restart (0.00s)
=== RUN   TestMockContainerRestarter_GetStatus
--- PASS: TestMockContainerRestarter_GetStatus (0.00s)
=== RUN   TestMockAlertNotifier_SendAlert
--- PASS: TestMockAlertNotifier_SendAlert (0.00s)
=== RUN   TestMockNodeHealthChecker_RunDiagnostics
--- PASS: TestMockNodeHealthChecker_RunDiagnostics (0.00s)
=== RUN   TestMockNodeHealthChecker_GetChainName
--- PASS: TestMockNodeHealthChecker_GetChainName (0.00s)
=== RUN   TestMockNodeHealthChecker_DefaultChainName
--- PASS: TestMockNodeHealthChecker_DefaultChainName (0.00s)
=== RUN   TestNodeDiagnostics_Fields
--- PASS: TestNodeDiagnostics_Fields (0.00s)
=== RUN   TestNodeHealth_Fields
--- PASS: TestNodeHealth_Fields (0.00s)
=== RUN   TestAlert_Fields
--- PASS: TestAlert_Fields (0.00s)
=== RUN   TestMinerStats_Fields
--- PASS: TestMinerStats_Fields (0.00s)
=== RUN   TestShareStats_Fields
--- PASS: TestShareStats_Fields (0.00s)
=== RUN   TestMonitorStats_Fields
--- PASS: TestMonitorStats_Fields (0.00s)
=== RUN   TestLitecoinNodeConfig_Fields
--- PASS: TestLitecoinNodeConfig_Fields (0.00s)
=== RUN   TestBlockDAGNodeConfig_Fields
--- PASS: TestBlockDAGNodeConfig_Fields (0.00s)
=== RUN   TestMockRPCChecker_ImplementsRPCChecker
--- PASS: TestMockRPCChecker_ImplementsRPCChecker (0.00s)
=== RUN   TestMockSyncChecker_ImplementsSyncChecker
--- PASS: TestMockSyncChecker_ImplementsSyncChecker (0.00s)
=== RUN   TestMockBlockTemplateChecker_ImplementsBlockTemplateChecker
--- PASS: TestMockBlockTemplateChecker_ImplementsBlockTemplateChecker (0.00s)
=== RUN   TestMockContainerRestarter_ImplementsContainerRestarter
--- PASS: TestMockContainerRestarter_ImplementsContainerRestarter (0.00s)
=== RUN   TestMockAlertNotifier_ImplementsAlertNotifier
--- PASS: TestMockAlertNotifier_ImplementsAlertNotifier (0.00s)
=== RUN   TestMockNodeHealthChecker_ImplementsNodeHealthChecker
--- PASS: TestMockNodeHealthChecker_ImplementsNodeHealthChecker (0.00s)
=== RUN   TestNewLitecoinHealthChecker
--- PASS: TestNewLitecoinHealthChecker (0.00s)
=== RUN   TestNewLitecoinHealthChecker_DefaultTimeout
--- PASS: TestNewLitecoinHealthChecker_DefaultTimeout (0.00s)
=== RUN   TestLitecoinHealthChecker_GetChainName
--- PASS: TestLitecoinHealthChecker_GetChainName (0.00s)
=== RUN   TestLitecoinHealthChecker_CheckRPCConnectivity_Success
--- PASS: TestLitecoinHealthChecker_CheckRPCConnectivity_Success (0.00s)
=== RUN   TestLitecoinHealthChecker_CheckRPCConnectivity_Failure
--- PASS: TestLitecoinHealthChecker_CheckRPCConnectivity_Failure (0.00s)
=== RUN   TestLitecoinHealthChecker_GetSyncProgress_FullySynced
--- PASS: TestLitecoinHealthChecker_GetSyncProgress_FullySynced (0.00s)
=== RUN   TestLitecoinHealthChecker_GetSyncProgress_Syncing
--- PASS: TestLitecoinHealthChecker_GetSyncProgress_Syncing (0.00s)
=== RUN   TestLitecoinHealthChecker_IsInitialBlockDownload_False
--- PASS: TestLitecoinHealthChecker_IsInitialBlockDownload_False (0.00s)
=== RUN   TestLitecoinHealthChecker_IsInitialBlockDownload_True
--- PASS: TestLitecoinHealthChecker_IsInitialBlockDownload_True (0.00s)
=== RUN   TestLitecoinHealthChecker_IsInitialBlockDownload_FromError
--- PASS: TestLitecoinHealthChecker_IsInitialBlockDownload_FromError (0.00s)
=== RUN   TestLitecoinHealthChecker_CheckBlockTemplateGeneration_Success
--- PASS: TestLitecoinHealthChecker_CheckBlockTemplateGeneration_Success (0.00s)
=== RUN   TestLitecoinHealthChecker_CheckBlockTemplateGeneration_MWEBError
--- PASS: TestLitecoinHealthChecker_CheckBlockTemplateGeneration_MWEBError (0.00s)
=== RUN   TestLitecoinHealthChecker_CheckBlockTemplateGeneration_IBDError
--- PASS: TestLitecoinHealthChecker_CheckBlockTemplateGeneration_IBDError (0.00s)
=== RUN   TestLitecoinHealthChecker_CheckBlockTemplateGeneration_GenericError
--- PASS: TestLitecoinHealthChecker_CheckBlockTemplateGeneration_GenericError (0.00s)
=== RUN   TestLitecoinHealthChecker_GetMempoolInfo_Success
--- PASS: TestLitecoinHealthChecker_GetMempoolInfo_Success (0.00s)
=== RUN   TestLitecoinHealthChecker_RunDiagnostics_Healthy
--- PASS: TestLitecoinHealthChecker_RunDiagnostics_Healthy (0.00s)
=== RUN   TestLitecoinHealthChecker_RunDiagnostics_MWEBFailure
--- PASS: TestLitecoinHealthChecker_RunDiagnostics_MWEBFailure (0.00s)
=== RUN   TestLitecoinHealthChecker_RunDiagnostics_RPCDown
--- PASS: TestLitecoinHealthChecker_RunDiagnostics_RPCDown (0.00s)
=== RUN   TestIsMWEBError_True
--- PASS: TestIsMWEBError_True (0.00s)
=== RUN   TestIsMWEBError_False
--- PASS: TestIsMWEBError_False (0.00s)
=== RUN   TestIsIBDError_True
--- PASS: TestIsIBDError_True (0.00s)
=== RUN   TestIsIBDError_False
--- PASS: TestIsIBDError_False (0.00s)
=== RUN   TestContainsAny
--- PASS: TestContainsAny (0.00s)
=== RUN   TestLitecoinHealthChecker_ImplementsNodeHealthChecker
--- PASS: TestLitecoinHealthChecker_ImplementsNodeHealthChecker (0.00s)
=== RUN   TestLitecoinHealthChecker_ImplementsRPCChecker
--- PASS: TestLitecoinHealthChecker_ImplementsRPCChecker (0.00s)
=== RUN   TestLitecoinHealthChecker_ImplementsSyncChecker
--- PASS: TestLitecoinHealthChecker_ImplementsSyncChecker (0.00s)
=== RUN   TestLitecoinHealthChecker_ImplementsBlockTemplateChecker
--- PASS: TestLitecoinHealthChecker_ImplementsBlockTemplateChecker (0.00s)
=== RUN   TestLitecoinHealthChecker_ImplementsChainDiagnostics
--- PASS: TestLitecoinHealthChecker_ImplementsChainDiagnostics (0.00s)
=== RUN   TestNewHealthMonitor
--- PASS: TestNewHealthMonitor (0.00s)
=== RUN   TestNewHealthMonitor_NilConfig
--- PASS: TestNewHealthMonitor_NilConfig (0.00s)
=== RUN   TestNewHealthMonitor_NilLogger
--- PASS: TestNewHealthMonitor_NilLogger (0.00s)
=== RUN   TestHealthMonitor_RegisterNode
2025/12/26 06:03:57 [HealthMonitor] Registered node: litecoin (container: docker-litecoind-1)
--- PASS: TestHealthMonitor_RegisterNode (0.00s)
=== RUN   TestHealthMonitor_RegisterNode_Duplicate
2025/12/26 06:03:57 [HealthMonitor] Registered node: litecoin (container: docker-litecoind-1)
--- PASS: TestHealthMonitor_RegisterNode_Duplicate (0.00s)
=== RUN   TestHealthMonitor_UnregisterNode
2025/12/26 06:03:57 [HealthMonitor] Registered node: litecoin (container: docker-litecoind-1)
2025/12/26 06:03:57 [HealthMonitor] Unregistered node: litecoin
--- PASS: TestHealthMonitor_UnregisterNode (0.00s)
=== RUN   TestHealthMonitor_UnregisterNode_NotFound
--- PASS: TestHealthMonitor_UnregisterNode_NotFound (0.00s)
=== RUN   TestHealthMonitor_StartStop
2025/12/26 06:03:57 [HealthMonitor] Registered node: litecoin (container: docker-litecoind-1)
2025/12/26 06:03:57 [HealthMonitor] Starting with interval: 100ms
2025/12/26 06:03:57 [HealthMonitor] Stopped gracefully
--- PASS: TestHealthMonitor_StartStop (0.25s)
=== RUN   TestHealthMonitor_Start_AlreadyRunning
2025/12/26 06:03:57 [HealthMonitor] Starting with interval: 1s
2025/12/26 06:03:57 [HealthMonitor] Stopped gracefully
--- PASS: TestHealthMonitor_Start_AlreadyRunning (0.00s)
=== RUN   TestHealthMonitor_Stop_NotRunning
--- PASS: TestHealthMonitor_Stop_NotRunning (0.00s)
=== RUN   TestHealthMonitor_GetHealthStatus
2025/12/26 06:03:57 [HealthMonitor] Registered node: litecoin (container: docker-litecoind-1)
--- PASS: TestHealthMonitor_GetHealthStatus (0.00s)
=== RUN   TestHealthMonitor_GetStats
2025/12/26 06:03:57 [HealthMonitor] Registered node: litecoin (container: docker-litecoind-1)
--- PASS: TestHealthMonitor_GetStats (0.00s)
=== RUN   TestHealthMonitor_CheckNode_Healthy
2025/12/26 06:03:57 [HealthMonitor] Registered node: litecoin (container: docker-litecoind-1)
2025/12/26 06:03:57 [HealthMonitor] Starting with interval: 50ms
2025/12/26 06:03:57 [HealthMonitor] Stopped gracefully
--- PASS: TestHealthMonitor_CheckNode_Healthy (0.10s)
=== RUN   TestHealthMonitor_CheckNode_Unhealthy_RPCDown
2025/12/26 06:03:57 [HealthMonitor] Registered node: litecoin (container: docker-litecoind-1)
2025/12/26 06:03:57 [HealthMonitor] Starting with interval: 50ms
2025/12/26 06:03:57 [HealthMonitor] Stopped gracefully
--- PASS: TestHealthMonitor_CheckNode_Unhealthy_RPCDown (0.10s)
=== RUN   TestHealthMonitor_CheckNode_Degraded_IBD
2025/12/26 06:03:57 [HealthMonitor] Registered node: litecoin (container: docker-litecoind-1)
2025/12/26 06:03:57 [HealthMonitor] Starting with interval: 50ms
2025/12/26 06:03:57 [HealthMonitor] Stopped gracefully
--- PASS: TestHealthMonitor_CheckNode_Degraded_IBD (0.10s)
=== RUN   TestHealthMonitor_AutoRestart_OnConsecutiveFailures
2025/12/26 06:03:57 [HealthMonitor] Registered node: litecoin (container: docker-litecoind-1)
2025/12/26 06:03:57 [HealthMonitor] Starting with interval: 30ms
2025/12/26 06:03:57 [HealthMonitor] Restarting litecoin: 2 consecutive failures
2025/12/26 06:03:57 [HealthMonitor] Successfully restarted litecoin (total restarts: 1)
2025/12/26 06:03:57 [HealthMonitor] Stopped gracefully
--- PASS: TestHealthMonitor_AutoRestart_OnConsecutiveFailures (0.15s)
=== RUN   TestHealthMonitor_AutoRestart_MaxRestartsPerHour
2025/12/26 06:03:57 [HealthMonitor] Registered node: litecoin (container: docker-litecoind-1)
2025/12/26 06:03:57 [HealthMonitor] Starting with interval: 20ms
2025/12/26 06:03:57 [HealthMonitor] Restarting litecoin: 1 consecutive failures
2025/12/26 06:03:57 [HealthMonitor] Successfully restarted litecoin (total restarts: 1)
2025/12/26 06:03:57 [HealthMonitor] Restarting litecoin: 1 consecutive failures
2025/12/26 06:03:57 [HealthMonitor] Successfully restarted litecoin (total restarts: 2)
2025/12/26 06:03:58 [HealthMonitor] Max restarts reached for litecoin (2/2)
2025/12/26 06:03:58 [HealthMonitor] Max restarts reached for litecoin (2/2)
2025/12/26 06:03:58 [HealthMonitor] Max restarts reached for litecoin (2/2)
2025/12/26 06:03:58 [HealthMonitor] Max restarts reached for litecoin (2/2)
2025/12/26 06:03:58 [HealthMonitor] Max restarts reached for litecoin (2/2)
2025/12/26 06:03:58 [HealthMonitor] Max restarts reached for litecoin (2/2)
2025/12/26 06:03:58 [HealthMonitor] Max restarts reached for litecoin (2/2)
2025/12/26 06:03:58 [HealthMonitor] Max restarts reached for litecoin (2/2)
2025/12/26 06:03:58 [HealthMonitor] Max restarts reached for litecoin (2/2)
2025/12/26 06:03:58 [HealthMonitor] Stopped gracefully
--- PASS: TestHealthMonitor_AutoRestart_MaxRestartsPerHour (0.20s)
=== RUN   TestHealthMonitor_AutoRestart_Disabled
2025/12/26 06:03:58 [HealthMonitor] Registered node: litecoin (container: docker-litecoind-1)
2025/12/26 06:03:58 [HealthMonitor] Starting with interval: 30ms
2025/12/26 06:03:58 [HealthMonitor] Stopped gracefully
--- PASS: TestHealthMonitor_AutoRestart_Disabled (0.10s)
=== RUN   TestHealthMonitor_AddRule
2025/12/26 06:03:58 [HealthMonitor] Added rule: Restart on MWEB block validation failure
--- PASS: TestHealthMonitor_AddRule (0.00s)
=== RUN   TestMWEBFailureRule_Evaluate_True
--- PASS: TestMWEBFailureRule_Evaluate_True (0.00s)
=== RUN   TestMWEBFailureRule_Evaluate_False
--- PASS: TestMWEBFailureRule_Evaluate_False (0.00s)
=== RUN   TestMWEBFailureRule_Evaluate_NilDiag
--- PASS: TestMWEBFailureRule_Evaluate_NilDiag (0.00s)
=== RUN   TestMWEBFailureRule_GetAction
--- PASS: TestMWEBFailureRule_GetAction (0.00s)
=== RUN   TestMWEBFailureRule_GetDescription
--- PASS: TestMWEBFailureRule_GetDescription (0.00s)
=== RUN   TestBlockTemplateFailureRule_Evaluate
=== RUN   TestBlockTemplateFailureRule_Evaluate/template_ok
=== RUN   TestBlockTemplateFailureRule_Evaluate/template_fail
=== RUN   TestBlockTemplateFailureRule_Evaluate/template_fail_but_ibd
=== RUN   TestBlockTemplateFailureRule_Evaluate/nil_diag
--- PASS: TestBlockTemplateFailureRule_Evaluate (0.00s)
    --- PASS: TestBlockTemplateFailureRule_Evaluate/template_ok (0.00s)
    --- PASS: TestBlockTemplateFailureRule_Evaluate/template_fail (0.00s)
    --- PASS: TestBlockTemplateFailureRule_Evaluate/template_fail_but_ibd (0.00s)
    --- PASS: TestBlockTemplateFailureRule_Evaluate/nil_diag (0.00s)
=== RUN   TestRPCDownRule_Evaluate
=== RUN   TestRPCDownRule_Evaluate/rpc_connected
=== RUN   TestRPCDownRule_Evaluate/rpc_down
=== RUN   TestRPCDownRule_Evaluate/nil_diag
--- PASS: TestRPCDownRule_Evaluate (0.00s)
    --- PASS: TestRPCDownRule_Evaluate/rpc_connected (0.00s)
    --- PASS: TestRPCDownRule_Evaluate/rpc_down (0.00s)
    --- PASS: TestRPCDownRule_Evaluate/nil_diag (0.00s)
=== RUN   TestHighLatencyRule_Evaluate
=== RUN   TestHighLatencyRule_Evaluate/low_latency
=== RUN   TestHighLatencyRule_Evaluate/high_latency
=== RUN   TestHighLatencyRule_Evaluate/nil_diag
--- PASS: TestHighLatencyRule_Evaluate (0.00s)
    --- PASS: TestHighLatencyRule_Evaluate/low_latency (0.00s)
    --- PASS: TestHighLatencyRule_Evaluate/high_latency (0.00s)
    --- PASS: TestHighLatencyRule_Evaluate/nil_diag (0.00s)
=== RUN   TestHighLatencyRule_GetAction
--- PASS: TestHighLatencyRule_GetAction (0.00s)
=== RUN   TestHealthMonitor_ForceCheck
2025/12/26 06:03:58 [HealthMonitor] Registered node: litecoin (container: docker-litecoind-1)
--- PASS: TestHealthMonitor_ForceCheck (0.00s)
=== RUN   TestHealthMonitor_ForceCheck_NotFound
--- PASS: TestHealthMonitor_ForceCheck_NotFound (0.00s)
=== RUN   TestHealthMonitor_ImplementsHealthMonitorService
--- PASS: TestHealthMonitor_ImplementsHealthMonitorService (0.00s)
=== RUN   TestMWEBFailureRule_ImplementsHealthRule
--- PASS: TestMWEBFailureRule_ImplementsHealthRule (0.00s)
=== RUN   TestBlockTemplateFailureRule_ImplementsHealthRule
--- PASS: TestBlockTemplateFailureRule_ImplementsHealthRule (0.00s)
=== RUN   TestRPCDownRule_ImplementsHealthRule
--- PASS: TestRPCDownRule_ImplementsHealthRule (0.00s)
=== RUN   TestHighLatencyRule_ImplementsHealthRule
--- PASS: TestHighLatencyRule_ImplementsHealthRule (0.00s)
=== RUN   TestMonitorErrorVariables
--- PASS: TestMonitorErrorVariables (0.00s)
=== RUN   TestNewPrometheusExporter
--- PASS: TestNewPrometheusExporter (0.00s)
=== RUN   TestPrometheusExporter_MetricsHandler
2025/12/26 06:03:58 [HealthMonitor] Registered node: litecoin (container: docker-litecoind-1)
--- PASS: TestPrometheusExporter_MetricsHandler (0.00s)
=== RUN   TestPrometheusExporter_MetricsHandler_WithDiagnostics
2025/12/26 06:03:58 [HealthMonitor] Registered node: litecoin (container: docker-litecoind-1)
2025/12/26 06:03:58 [HealthMonitor] Starting with interval: 50ms
2025/12/26 06:03:58 [HealthMonitor] Stopped gracefully
--- PASS: TestPrometheusExporter_MetricsHandler_WithDiagnostics (0.10s)
=== RUN   TestPrometheusExporter_HealthHandler_Healthy
2025/12/26 06:03:58 [HealthMonitor] Registered node: litecoin (container: docker-litecoind-1)
--- PASS: TestPrometheusExporter_HealthHandler_Healthy (0.00s)
=== RUN   TestPrometheusExporter_HealthHandler_Unhealthy
2025/12/26 06:03:58 [HealthMonitor] Registered node: litecoin (container: docker-litecoind-1)
--- PASS: TestPrometheusExporter_HealthHandler_Unhealthy (0.00s)
=== RUN   TestPrometheusExporter_StartStop
--- PASS: TestPrometheusExporter_StartStop (0.05s)
=== RUN   TestPrometheusExporter_MetricsFormat
--- PASS: TestPrometheusExporter_MetricsFormat (0.00s)
=== RUN   TestPrometheusExporter_MultipleNodes
2025/12/26 06:03:58 [HealthMonitor] Registered node: litecoin (container: docker-litecoind-1)
2025/12/26 06:03:58 [HealthMonitor] Registered node: blockdag (container: docker-blockdag-1)
--- PASS: TestPrometheusExporter_MultipleNodes (0.00s)
=== RUN   TestDefaultDockerRecoveryConfig
--- PASS: TestDefaultDockerRecoveryConfig (0.00s)
=== RUN   TestNewDockerRecoveryAction
--- PASS: TestNewDockerRecoveryAction (0.00s)
=== RUN   TestNewDockerRecoveryAction_NilConfig
--- PASS: TestNewDockerRecoveryAction_NilConfig (0.00s)
=== RUN   TestNewDockerRecoveryAction_ZeroTimeout
--- PASS: TestNewDockerRecoveryAction_ZeroTimeout (0.00s)
=== RUN   TestDockerRecoveryAction_RestartContainer_EmptyName
--- PASS: TestDockerRecoveryAction_RestartContainer_EmptyName (0.00s)
=== RUN   TestDockerRecoveryAction_GetContainerStatus_EmptyName
--- PASS: TestDockerRecoveryAction_GetContainerStatus_EmptyName (0.00s)
=== RUN   TestDockerRecoveryAction_SendAlert_NoWebhook
--- PASS: TestDockerRecoveryAction_SendAlert_NoWebhook (0.00s)
=== RUN   TestDockerRecoveryAction_SendAlert_Discord
--- PASS: TestDockerRecoveryAction_SendAlert_Discord (0.00s)
=== RUN   TestDockerRecoveryAction_SendAlert_Slack
--- PASS: TestDockerRecoveryAction_SendAlert_Slack (0.00s)
=== RUN   TestDockerRecoveryAction_SendAlert_WebhookError
--- PASS: TestDockerRecoveryAction_SendAlert_WebhookError (0.00s)
=== RUN   TestNewLogRecoveryAction
--- PASS: TestNewLogRecoveryAction (0.00s)
=== RUN   TestNewLogRecoveryAction_NilLogger
--- PASS: TestNewLogRecoveryAction_NilLogger (0.00s)
=== RUN   TestLogRecoveryAction_RestartContainer
--- PASS: TestLogRecoveryAction_RestartContainer (0.00s)
=== RUN   TestLogRecoveryAction_RestartContainer_SimulateError
--- PASS: TestLogRecoveryAction_RestartContainer_SimulateError (0.00s)
=== RUN   TestLogRecoveryAction_GetContainerStatus
--- PASS: TestLogRecoveryAction_GetContainerStatus (0.00s)
=== RUN   TestLogRecoveryAction_GetContainerStatus_SimulateError
--- PASS: TestLogRecoveryAction_GetContainerStatus_SimulateError (0.00s)
=== RUN   TestLogRecoveryAction_SendAlert
--- PASS: TestLogRecoveryAction_SendAlert (0.00s)
=== RUN   TestLogRecoveryAction_SendAlert_SimulateError
--- PASS: TestLogRecoveryAction_SendAlert_SimulateError (0.00s)
=== RUN   TestCheckTCPPort_Success
--- PASS: TestCheckTCPPort_Success (0.00s)
=== RUN   TestCheckTCPPort_Failure
--- PASS: TestCheckTCPPort_Failure (0.01s)
=== RUN   TestCheckStratumPort
--- PASS: TestCheckStratumPort (0.00s)
=== RUN   TestDockerRecoveryAction_ImplementsRecoveryAction
--- PASS: TestDockerRecoveryAction_ImplementsRecoveryAction (0.00s)
=== RUN   TestDockerRecoveryAction_ImplementsContainerRestarter
--- PASS: TestDockerRecoveryAction_ImplementsContainerRestarter (0.00s)
=== RUN   TestDockerRecoveryAction_ImplementsAlertNotifier
--- PASS: TestDockerRecoveryAction_ImplementsAlertNotifier (0.00s)
=== RUN   TestLogRecoveryAction_ImplementsRecoveryAction
--- PASS: TestLogRecoveryAction_ImplementsRecoveryAction (0.00s)
=== RUN   TestErrorVariables
--- PASS: TestErrorVariables (0.00s)
=== RUN   TestDefaultServiceConfig
--- PASS: TestDefaultServiceConfig (0.00s)
=== RUN   TestLoadServiceConfigFromEnv
--- PASS: TestLoadServiceConfigFromEnv (0.00s)
=== RUN   TestLoadServiceConfigFromEnv_DisablePrometheus
--- PASS: TestLoadServiceConfigFromEnv_DisablePrometheus (0.00s)
=== RUN   TestLoadServiceConfigFromEnv_DisableAutoRestart
--- PASS: TestLoadServiceConfigFromEnv_DisableAutoRestart (0.00s)
=== RUN   TestNewHealthService
[HealthService] 2025/12/26 06:03:58 [HealthMonitor] Added rule: Restart on MWEB block validation failure
[HealthService] 2025/12/26 06:03:58 [HealthMonitor] Added rule: Restart on block template generation failure
[HealthService] 2025/12/26 06:03:58 [HealthMonitor] Added rule: Restart when RPC is unreachable
--- PASS: TestNewHealthService (0.00s)
=== RUN   TestNewHealthService_NilConfig
[HealthService] 2025/12/26 06:03:58 [HealthMonitor] Added rule: Restart on MWEB block validation failure
[HealthService] 2025/12/26 06:03:58 [HealthMonitor] Added rule: Restart on block template generation failure
[HealthService] 2025/12/26 06:03:58 [HealthMonitor] Added rule: Restart when RPC is unreachable
--- PASS: TestNewHealthService_NilConfig (0.00s)
=== RUN   TestNewHealthService_WithAutoRestartDisabled
[HealthService] 2025/12/26 06:03:58 [HealthMonitor] Added rule: Restart on MWEB block validation failure
[HealthService] 2025/12/26 06:03:58 [HealthMonitor] Added rule: Restart on block template generation failure
[HealthService] 2025/12/26 06:03:58 [HealthMonitor] Added rule: Restart when RPC is unreachable
--- PASS: TestNewHealthService_WithAutoRestartDisabled (0.00s)
=== RUN   TestNewHealthService_WithAutoRestartEnabled
[HealthService] 2025/12/26 06:03:58 [HealthMonitor] Added rule: Restart on MWEB block validation failure
[HealthService] 2025/12/26 06:03:58 [HealthMonitor] Added rule: Restart on block template generation failure
[HealthService] 2025/12/26 06:03:58 [HealthMonitor] Added rule: Restart when RPC is unreachable
--- PASS: TestNewHealthService_WithAutoRestartEnabled (0.00s)
=== RUN   TestHealthService_StartStop
[HealthService] 2025/12/26 06:03:58 [HealthMonitor] Added rule: Restart on MWEB block validation failure
[HealthService] 2025/12/26 06:03:58 [HealthMonitor] Added rule: Restart on block template generation failure
[HealthService] 2025/12/26 06:03:58 [HealthMonitor] Added rule: Restart when RPC is unreachable
[HealthService] 2025/12/26 06:03:58 Starting health monitoring service...
[HealthService] 2025/12/26 06:03:58 [HealthMonitor] Registered node: litecoin (container: docker-litecoind-1)
[HealthService] 2025/12/26 06:03:58 BlockDAG container not configured, skipping registration
[HealthService] 2025/12/26 06:03:58 [HealthMonitor] Starting with interval: 100ms
[HealthService] 2025/12/26 06:03:58 Health monitoring service started successfully
[HealthService] 2025/12/26 06:03:58 Stopping health monitoring service...
    service_test.go:140: 
        	Error Trace:	C:/Users/Reid Davis/CascadeProjects/ChimeriaPool/chimera-pool-core/internal/monitoring/health/service_test.go:140
        	Error:      	Received unexpected error:
        	            	context deadline exceeded
        	Test:       	TestHealthService_StartStop
    service_test.go:141: 
        	Error Trace:	C:/Users/Reid Davis/CascadeProjects/ChimeriaPool/chimera-pool-core/internal/monitoring/health/service_test.go:141
        	Error:      	Should be false
        	Test:       	TestHealthService_StartStop
--- FAIL: TestHealthService_StartStop (5.15s)
=== RUN   TestHealthService_StartTwice
[HealthService] 2025/12/26 06:04:03 [HealthMonitor] Added rule: Restart on MWEB block validation failure
[HealthService] 2025/12/26 06:04:03 [HealthMonitor] Added rule: Restart on block template generation failure
[HealthService] 2025/12/26 06:04:03 [HealthMonitor] Added rule: Restart when RPC is unreachable
[HealthService] 2025/12/26 06:04:03 Starting health monitoring service...
[HealthService] 2025/12/26 06:04:03 [HealthMonitor] Registered node: litecoin (container: docker-litecoind-1)
[HealthService] 2025/12/26 06:04:03 BlockDAG container not configured, skipping registration
[HealthService] 2025/12/26 06:04:03 [HealthMonitor] Starting with interval: 1s
[HealthService] 2025/12/26 06:04:03 Health monitoring service started successfully
[HealthService] 2025/12/26 06:04:03 Stopping health monitoring service...
[HealthService] 2025/12/26 06:04:03 [HealthMonitor] Restarting litecoin: Restart on block template generation failure
[HealthService] 2025/12/26 06:04:14 [HealthMonitor] Successfully restarted litecoin (total restarts: 1)
[HealthService] 2025/12/26 06:04:22 [HealthMonitor] Stopped gracefully
[HealthService] 2025/12/26 06:04:22 Health monitoring service stopped
--- PASS: TestHealthService_StartTwice (19.31s)
=== RUN   TestHealthService_StopNotRunning
[HealthService] 2025/12/26 06:04:22 [HealthMonitor] Added rule: Restart on MWEB block validation failure
[HealthService] 2025/12/26 06:04:22 [HealthMonitor] Added rule: Restart on block template generation failure
[HealthService] 2025/12/26 06:04:22 [HealthMonitor] Added rule: Restart when RPC is unreachable
--- PASS: TestHealthService_StopNotRunning (0.00s)
=== RUN   TestHealthService_GetMonitor
[HealthService] 2025/12/26 06:04:22 [HealthMonitor] Added rule: Restart on MWEB block validation failure
[HealthService] 2025/12/26 06:04:22 [HealthMonitor] Added rule: Restart on block template generation failure
[HealthService] 2025/12/26 06:04:22 [HealthMonitor] Added rule: Restart when RPC is unreachable
--- PASS: TestHealthService_GetMonitor (0.00s)
=== RUN   TestHealthService_GetHealthStatus
[HealthService] 2025/12/26 06:04:22 [HealthMonitor] Added rule: Restart on MWEB block validation failure
[HealthService] 2025/12/26 06:04:22 [HealthMonitor] Added rule: Restart on block template generation failure
[HealthService] 2025/12/26 06:04:22 [HealthMonitor] Added rule: Restart when RPC is unreachable
[HealthService] 2025/12/26 06:04:22 Starting health monitoring service...
[HealthService] 2025/12/26 06:04:22 [HealthMonitor] Registered node: litecoin (container: docker-litecoind-1)
[HealthService] 2025/12/26 06:04:22 BlockDAG container not configured, skipping registration
[HealthService] 2025/12/26 06:04:22 [HealthMonitor] Starting with interval: 1s
[HealthService] 2025/12/26 06:04:22 Health monitoring service started successfully
[HealthService] 2025/12/26 06:04:22 Stopping health monitoring service...
[HealthService] 2025/12/26 06:04:28 [HealthMonitor] Stopped gracefully
[HealthService] 2025/12/26 06:04:28 Health monitoring service stopped
--- PASS: TestHealthService_GetHealthStatus (5.37s)
=== RUN   TestHealthService_GetStats
[HealthService] 2025/12/26 06:04:28 [HealthMonitor] Added rule: Restart on MWEB block validation failure
[HealthService] 2025/12/26 06:04:28 [HealthMonitor] Added rule: Restart on block template generation failure
[HealthService] 2025/12/26 06:04:28 [HealthMonitor] Added rule: Restart when RPC is unreachable
--- PASS: TestHealthService_GetStats (0.00s)
=== RUN   TestHealthService_RegisterBlockDAGNode_NoContainer
[HealthService] 2025/12/26 06:04:28 [HealthMonitor] Added rule: Restart on MWEB block validation failure
[HealthService] 2025/12/26 06:04:28 [HealthMonitor] Added rule: Restart on block template generation failure
[HealthService] 2025/12/26 06:04:28 [HealthMonitor] Added rule: Restart when RPC is unreachable
[HealthService] 2025/12/26 06:04:28 BlockDAG container not configured, skipping registration
--- PASS: TestHealthService_RegisterBlockDAGNode_NoContainer (0.00s)
=== RUN   TestHealthService_RegisterBlockDAGNode_WithContainer
[HealthService] 2025/12/26 06:04:28 [HealthMonitor] Added rule: Restart on MWEB block validation failure
[HealthService] 2025/12/26 06:04:28 [HealthMonitor] Added rule: Restart on block template generation failure
[HealthService] 2025/12/26 06:04:28 [HealthMonitor] Added rule: Restart when RPC is unreachable
[HealthService] 2025/12/26 06:04:28 [HealthMonitor] Registered node: blockdag (container: docker-blockdag-1)
--- PASS: TestHealthService_RegisterBlockDAGNode_WithContainer (0.00s)
=== RUN   TestHealthService_WithPrometheus
[HealthService] 2025/12/26 06:04:28 [HealthMonitor] Added rule: Restart on MWEB block validation failure
[HealthService] 2025/12/26 06:04:28 [HealthMonitor] Added rule: Restart on block template generation failure
[HealthService] 2025/12/26 06:04:28 [HealthMonitor] Added rule: Restart when RPC is unreachable
[HealthService] 2025/12/26 06:04:28 Starting health monitoring service...
[HealthService] 2025/12/26 06:04:28 [HealthMonitor] Registered node: litecoin (container: docker-litecoind-1)
[HealthService] 2025/12/26 06:04:28 BlockDAG container not configured, skipping registration
[HealthService] 2025/12/26 06:04:28 Prometheus metrics available at 127.0.0.1:0/metrics
[HealthService] 2025/12/26 06:04:28 [HealthMonitor] Starting with interval: 100ms
[HealthService] 2025/12/26 06:04:28 Health monitoring service started successfully
[HealthService] 2025/12/26 06:04:28 Stopping health monitoring service...
[HealthService] 2025/12/26 06:04:30 [HealthMonitor] Restarting litecoin: Restart on block template generation failure
--- PASS: TestHealthService_WithPrometheus (5.10s)
=== RUN   TestInitGlobalHealthService
[HealthService] 2025/12/26 06:04:33 [HealthMonitor] Added rule: Restart on MWEB block validation failure
[HealthService] 2025/12/26 06:04:33 [HealthMonitor] Added rule: Restart on block template generation failure
[HealthService] 2025/12/26 06:04:33 [HealthMonitor] Added rule: Restart when RPC is unreachable
--- PASS: TestInitGlobalHealthService (0.00s)
=== RUN   TestInitGlobalHealthService_CalledTwice
[HealthService] 2025/12/26 06:04:33 [HealthMonitor] Added rule: Restart on MWEB block validation failure
[HealthService] 2025/12/26 06:04:33 [HealthMonitor] Added rule: Restart on block template generation failure
[HealthService] 2025/12/26 06:04:33 [HealthMonitor] Added rule: Restart when RPC is unreachable
--- PASS: TestInitGlobalHealthService_CalledTwice (0.00s)
=== RUN   TestStartStopGlobalHealthService
[HealthService] 2025/12/26 06:04:33 [HealthMonitor] Added rule: Restart on MWEB block validation failure
[HealthService] 2025/12/26 06:04:33 [HealthMonitor] Added rule: Restart on block template generation failure
[HealthService] 2025/12/26 06:04:33 [HealthMonitor] Added rule: Restart when RPC is unreachable
[HealthService] 2025/12/26 06:04:33 Starting health monitoring service...
[HealthService] 2025/12/26 06:04:33 [HealthMonitor] Registered node: litecoin (container: docker-litecoind-1)
[HealthService] 2025/12/26 06:04:33 BlockDAG container not configured, skipping registration
[HealthService] 2025/12/26 06:04:33 Prometheus metrics available at :9091/metrics
[HealthService] 2025/12/26 06:04:33 [HealthMonitor] Starting with interval: 30s
[HealthService] 2025/12/26 06:04:33 Health monitoring service started successfully
[HealthService] 2025/12/26 06:04:33 Stopping health monitoring service...
[HealthService] 2025/12/26 06:04:33 [HealthMonitor] Stopped gracefully
[HealthService] 2025/12/26 06:04:33 Health monitoring service stopped
--- PASS: TestStartStopGlobalHealthService (0.10s)
=== RUN   TestStopGlobalHealthService_NilService
--- PASS: TestStopGlobalHealthService_NilService (0.00s)
FAIL
FAIL	github.com/chimera-pool/chimera-pool-core/internal/monitoring/health	38.108s
=== RUN   TestDiscordWebhookSender_Creation
=== RUN   TestDiscordWebhookSender_Creation/creates_sender_with_valid_config
=== RUN   TestDiscordWebhookSender_Creation/available_even_without_default_webhook_(per-user_webhooks)
=== RUN   TestDiscordWebhookSender_Creation/sets_default_username_when_empty
--- PASS: TestDiscordWebhookSender_Creation (0.00s)
    --- PASS: TestDiscordWebhookSender_Creation/creates_sender_with_valid_config (0.00s)
    --- PASS: TestDiscordWebhookSender_Creation/available_even_without_default_webhook_(per-user_webhooks) (0.00s)
    --- PASS: TestDiscordWebhookSender_Creation/sets_default_username_when_empty (0.00s)
=== RUN   TestDiscordWebhookSender_SendNoWebhook
--- PASS: TestDiscordWebhookSender_SendNoWebhook (0.00s)
=== RUN   TestDiscordWebhookSender_SendBatchEmpty
--- PASS: TestDiscordWebhookSender_SendBatchEmpty (0.00s)
=== RUN   TestDiscordWebhookSender_SendBatchSingle
--- PASS: TestDiscordWebhookSender_SendBatchSingle (0.00s)
=== RUN   TestDiscordWebhookSender_ImplementsNotificationSender
--- PASS: TestDiscordWebhookSender_ImplementsNotificationSender (0.00s)
=== RUN   TestSMTPEmailSender_Creation
=== RUN   TestSMTPEmailSender_Creation/creates_sender_with_valid_config
=== RUN   TestSMTPEmailSender_Creation/unavailable_without_host
=== RUN   TestSMTPEmailSender_Creation/unavailable_without_from_address
=== RUN   TestSMTPEmailSender_Creation/sets_default_timeout
--- PASS: TestSMTPEmailSender_Creation (0.00s)
    --- PASS: TestSMTPEmailSender_Creation/creates_sender_with_valid_config (0.00s)
    --- PASS: TestSMTPEmailSender_Creation/unavailable_without_host (0.00s)
    --- PASS: TestSMTPEmailSender_Creation/unavailable_without_from_address (0.00s)
    --- PASS: TestSMTPEmailSender_Creation/sets_default_timeout (0.00s)
=== RUN   TestSMTPEmailSender_FormatSubject
=== RUN   TestSMTPEmailSender_FormatSubject/worker_offline_alert
=== RUN   TestSMTPEmailSender_FormatSubject/critical_alert_includes_severity
--- PASS: TestSMTPEmailSender_FormatSubject (0.00s)
    --- PASS: TestSMTPEmailSender_FormatSubject/worker_offline_alert (0.00s)
    --- PASS: TestSMTPEmailSender_FormatSubject/critical_alert_includes_severity (0.00s)
=== RUN   TestSMTPEmailSender_SendUnavailable
--- PASS: TestSMTPEmailSender_SendUnavailable (0.00s)
=== RUN   TestSMTPEmailSender_SendBatchEmpty
--- PASS: TestSMTPEmailSender_SendBatchEmpty (0.00s)
=== RUN   TestSMTPEmailSender_SendBatchUnavailable
--- PASS: TestSMTPEmailSender_SendBatchUnavailable (0.00s)
=== RUN   TestSMTPEmailSender_ImplementsNotificationSender
--- PASS: TestSMTPEmailSender_ImplementsNotificationSender (0.00s)
=== RUN   TestSMTPEmailSender_ImplementsEmailSender
--- PASS: TestSMTPEmailSender_ImplementsEmailSender (0.00s)
=== RUN   TestNotificationService_Creation
=== RUN   TestNotificationService_Creation/creates_service_with_default_config
=== RUN   TestNotificationService_Creation/creates_service_with_custom_config
--- PASS: TestNotificationService_Creation (0.00s)
    --- PASS: TestNotificationService_Creation/creates_service_with_default_config (0.00s)
    --- PASS: TestNotificationService_Creation/creates_service_with_custom_config (0.00s)
=== RUN   TestNotificationService_RegisterSender
=== RUN   TestNotificationService_RegisterSender/registers_email_sender
=== RUN   TestNotificationService_RegisterSender/registers_multiple_senders
--- PASS: TestNotificationService_RegisterSender (0.00s)
    --- PASS: TestNotificationService_RegisterSender/registers_email_sender (0.00s)
    --- PASS: TestNotificationService_RegisterSender/registers_multiple_senders (0.00s)
=== RUN   TestNotificationService_SendAlert
=== RUN   TestNotificationService_SendAlert/sends_alert_to_user_via_email
=== RUN   TestNotificationService_SendAlert/sends_to_multiple_channels
=== RUN   TestNotificationService_SendAlert/skips_disabled_alert_types
--- PASS: TestNotificationService_SendAlert (0.00s)
    --- PASS: TestNotificationService_SendAlert/sends_alert_to_user_via_email (0.00s)
    --- PASS: TestNotificationService_SendAlert/sends_to_multiple_channels (0.00s)
    --- PASS: TestNotificationService_SendAlert/skips_disabled_alert_types (0.00s)
=== RUN   TestNotificationService_RateLimiting
=== RUN   TestNotificationService_RateLimiting/respects_rate_limits
--- PASS: TestNotificationService_RateLimiting (0.00s)
    --- PASS: TestNotificationService_RateLimiting/respects_rate_limits (0.00s)
=== RUN   TestNotificationService_AlertCreation
=== RUN   TestNotificationService_AlertCreation/creates_worker_offline_alert
=== RUN   TestNotificationService_AlertCreation/creates_block_found_alert
=== RUN   TestNotificationService_AlertCreation/creates_payout_sent_alert
--- PASS: TestNotificationService_AlertCreation (0.00s)
    --- PASS: TestNotificationService_AlertCreation/creates_worker_offline_alert (0.00s)
    --- PASS: TestNotificationService_AlertCreation/creates_block_found_alert (0.00s)
    --- PASS: TestNotificationService_AlertCreation/creates_payout_sent_alert (0.00s)
=== RUN   TestNotificationService_GetStats
=== RUN   TestNotificationService_GetStats/returns_statistics
--- PASS: TestNotificationService_GetStats (0.00s)
    --- PASS: TestNotificationService_GetStats/returns_statistics (0.00s)
=== RUN   TestWorkerMonitor_Creation
=== RUN   TestWorkerMonitor_Creation/creates_monitor_with_default_config
=== RUN   TestWorkerMonitor_Creation/creates_monitor_with_custom_config
--- PASS: TestWorkerMonitor_Creation (0.00s)
    --- PASS: TestWorkerMonitor_Creation/creates_monitor_with_default_config (0.00s)
    --- PASS: TestWorkerMonitor_Creation/creates_monitor_with_custom_config (0.00s)
=== RUN   TestWorkerMonitor_RecordActivity
=== RUN   TestWorkerMonitor_RecordActivity/records_worker_activity
=== RUN   TestWorkerMonitor_RecordActivity/updates_last_seen_time_on_activity
--- PASS: TestWorkerMonitor_RecordActivity (0.01s)
    --- PASS: TestWorkerMonitor_RecordActivity/records_worker_activity (0.00s)
    --- PASS: TestWorkerMonitor_RecordActivity/updates_last_seen_time_on_activity (0.01s)
=== RUN   TestWorkerMonitor_DetectOffline
=== RUN   TestWorkerMonitor_DetectOffline/detects_offline_workers
=== RUN   TestWorkerMonitor_DetectOffline/sends_alert_when_worker_goes_offline
=== RUN   TestWorkerMonitor_DetectOffline/does_not_alert_twice_for_same_offline_worker
--- PASS: TestWorkerMonitor_DetectOffline (0.30s)
    --- PASS: TestWorkerMonitor_DetectOffline/detects_offline_workers (0.10s)
    --- PASS: TestWorkerMonitor_DetectOffline/sends_alert_when_worker_goes_offline (0.10s)
    --- PASS: TestWorkerMonitor_DetectOffline/does_not_alert_twice_for_same_offline_worker (0.10s)
=== RUN   TestWorkerMonitor_DetectBackOnline
=== RUN   TestWorkerMonitor_DetectBackOnline/sends_alert_when_worker_comes_back_online
--- PASS: TestWorkerMonitor_DetectBackOnline (0.10s)
    --- PASS: TestWorkerMonitor_DetectBackOnline/sends_alert_when_worker_comes_back_online (0.10s)
=== RUN   TestWorkerMonitor_GetStats
=== RUN   TestWorkerMonitor_GetStats/returns_worker_statistics
--- PASS: TestWorkerMonitor_GetStats (0.00s)
    --- PASS: TestWorkerMonitor_GetStats/returns_worker_statistics (0.00s)
PASS
ok  	github.com/chimera-pool/chimera-pool-core/internal/notifications	(cached)
=== RUN   TestE2E_CompleteMiningToPayoutWorkflow
    e2e_test.go:215: Total valid difficulty: 1000.00
    e2e_test.go:216: Alice contribution: 240.00 (24.00%)
    e2e_test.go:217: Bob contribution: 400.00 (40.00%)
    e2e_test.go:218: Charlie contribution: 360.00 (36.00%)
    e2e_test.go:242: User 3 payout: 1764000000 satoshis (17.64000000 coins)
    e2e_test.go:242: User 2 payout: 1960000000 satoshis (19.60000000 coins)
    e2e_test.go:242: User 1 payout: 1176000000 satoshis (11.76000000 coins)
    e2e_test.go:284: Γ£à E2E test completed successfully!
    e2e_test.go:285:    Block reward: 50.00000000 coins
    e2e_test.go:286:    Pool fee: 1.00000000 coins (2%)
    e2e_test.go:287:    Total distributed: 49.00000000 coins
    e2e_test.go:288:    Alice earned: 11.76000000 coins
    e2e_test.go:289:    Bob earned: 19.60000000 coins
    e2e_test.go:290:    Charlie earned: 17.64000000 coins
--- PASS: TestE2E_CompleteMiningToPayoutWorkflow (0.00s)
=== RUN   TestE2E_SlidingWindowBehavior
    e2e_test.go:354: Γ£à Sliding window test completed successfully!
    e2e_test.go:355:    Window size: 400 difficulty
    e2e_test.go:359:    User 1: 150 difficulty (37.5%) = 371250000 satoshis
    e2e_test.go:359:    User 2: 150 difficulty (37.5%) = 371250000 satoshis
    e2e_test.go:359:    User 3: 100 difficulty (25.0%) = 247500000 satoshis
--- PASS: TestE2E_SlidingWindowBehavior (0.00s)
=== RUN   TestE2E_MultipleBlocksScenario
    e2e_test.go:443: Γ£à Multiple blocks test completed successfully!
    e2e_test.go:444:    User 1 total earnings: 17.23749999 coins from 2 blocks
--- PASS: TestE2E_MultipleBlocksScenario (0.00s)
=== RUN   TestPayoutExecutor_Creation
=== RUN   TestPayoutExecutor_Creation/creates_executor_with_dependencies
=== RUN   TestPayoutExecutor_Creation/creates_executor_with_nil_dependencies_returns_error
--- PASS: TestPayoutExecutor_Creation (0.00s)
    --- PASS: TestPayoutExecutor_Creation/creates_executor_with_dependencies (0.00s)
    --- PASS: TestPayoutExecutor_Creation/creates_executor_with_nil_dependencies_returns_error (0.00s)
=== RUN   TestPayoutExecutor_ProcessBlock
=== RUN   TestPayoutExecutor_ProcessBlock/processes_block_and_calculates_payouts
=== RUN   TestPayoutExecutor_ProcessBlock/skips_unconfirmed_blocks
=== RUN   TestPayoutExecutor_ProcessBlock/handles_empty_shares_gracefully
--- PASS: TestPayoutExecutor_ProcessBlock (0.00s)
    --- PASS: TestPayoutExecutor_ProcessBlock/processes_block_and_calculates_payouts (0.00s)
    --- PASS: TestPayoutExecutor_ProcessBlock/skips_unconfirmed_blocks (0.00s)
    --- PASS: TestPayoutExecutor_ProcessBlock/handles_empty_shares_gracefully (0.00s)
=== RUN   TestPayoutExecutor_MultiModePayouts
=== RUN   TestPayoutExecutor_MultiModePayouts/uses_different_calculator_based_on_user_settings
--- PASS: TestPayoutExecutor_MultiModePayouts (0.00s)
    --- PASS: TestPayoutExecutor_MultiModePayouts/uses_different_calculator_based_on_user_settings (0.00s)
=== RUN   TestPayoutExecutor_AutoPayoutTriggering
=== RUN   TestPayoutExecutor_AutoPayoutTriggering/queues_payout_when_balance_exceeds_threshold
=== RUN   TestPayoutExecutor_AutoPayoutTriggering/does_not_queue_payout_when_auto-payout_disabled
--- PASS: TestPayoutExecutor_AutoPayoutTriggering (0.00s)
    --- PASS: TestPayoutExecutor_AutoPayoutTriggering/queues_payout_when_balance_exceeds_threshold (0.00s)
    --- PASS: TestPayoutExecutor_AutoPayoutTriggering/does_not_queue_payout_when_auto-payout_disabled (0.00s)
=== RUN   TestPayoutExecutor_BlockEventSubscription
=== RUN   TestPayoutExecutor_BlockEventSubscription/automatically_processes_blocks_from_notifier
--- PASS: TestPayoutExecutor_BlockEventSubscription (0.10s)
    --- PASS: TestPayoutExecutor_BlockEventSubscription/automatically_processes_blocks_from_notifier (0.10s)
=== RUN   TestPayoutExecutor_ErrorHandling
=== RUN   TestPayoutExecutor_ErrorHandling/handles_calculator_errors_gracefully
--- PASS: TestPayoutExecutor_ErrorHandling (0.00s)
    --- PASS: TestPayoutExecutor_ErrorHandling/handles_calculator_errors_gracefully (0.00s)
=== RUN   TestPayoutExecutor_GetStats
=== RUN   TestPayoutExecutor_GetStats/returns_processing_statistics
--- PASS: TestPayoutExecutor_GetStats (0.00s)
    --- PASS: TestPayoutExecutor_GetStats/returns_processing_statistics (0.00s)
=== RUN   TestPayoutMode_IsValid
=== RUN   TestPayoutMode_IsValid/pplns
=== RUN   TestPayoutMode_IsValid/pps
=== RUN   TestPayoutMode_IsValid/pps_plus
=== RUN   TestPayoutMode_IsValid/fpps
=== RUN   TestPayoutMode_IsValid/score
=== RUN   TestPayoutMode_IsValid/solo
=== RUN   TestPayoutMode_IsValid/slice
=== RUN   TestPayoutMode_IsValid/invalid_mode
--- PASS: TestPayoutMode_IsValid (0.00s)
    --- PASS: TestPayoutMode_IsValid/pplns (0.00s)
    --- PASS: TestPayoutMode_IsValid/pps (0.00s)
    --- PASS: TestPayoutMode_IsValid/pps_plus (0.00s)
    --- PASS: TestPayoutMode_IsValid/fpps (0.00s)
    --- PASS: TestPayoutMode_IsValid/score (0.00s)
    --- PASS: TestPayoutMode_IsValid/solo (0.00s)
    --- PASS: TestPayoutMode_IsValid/slice (0.00s)
    --- PASS: TestPayoutMode_IsValid/invalid_mode (0.00s)
=== RUN   TestPayoutMode_String
--- PASS: TestPayoutMode_String (0.00s)
=== RUN   TestPayoutMode_Description
=== RUN   TestPayoutMode_Description/pplns
=== RUN   TestPayoutMode_Description/pps
=== RUN   TestPayoutMode_Description/pps_plus
=== RUN   TestPayoutMode_Description/fpps
=== RUN   TestPayoutMode_Description/score
=== RUN   TestPayoutMode_Description/solo
=== RUN   TestPayoutMode_Description/slice
=== RUN   TestPayoutMode_Description/unknown_mode
--- PASS: TestPayoutMode_Description (0.00s)
    --- PASS: TestPayoutMode_Description/pplns (0.00s)
    --- PASS: TestPayoutMode_Description/pps (0.00s)
    --- PASS: TestPayoutMode_Description/pps_plus (0.00s)
    --- PASS: TestPayoutMode_Description/fpps (0.00s)
    --- PASS: TestPayoutMode_Description/score (0.00s)
    --- PASS: TestPayoutMode_Description/solo (0.00s)
    --- PASS: TestPayoutMode_Description/slice (0.00s)
    --- PASS: TestPayoutMode_Description/unknown_mode (0.00s)
=== RUN   TestPayoutMode_DefaultFeePercent
=== RUN   TestPayoutMode_DefaultFeePercent/pplns
=== RUN   TestPayoutMode_DefaultFeePercent/pps
=== RUN   TestPayoutMode_DefaultFeePercent/pps_plus
=== RUN   TestPayoutMode_DefaultFeePercent/fpps
=== RUN   TestPayoutMode_DefaultFeePercent/score
=== RUN   TestPayoutMode_DefaultFeePercent/solo
=== RUN   TestPayoutMode_DefaultFeePercent/slice
--- PASS: TestPayoutMode_DefaultFeePercent (0.00s)
    --- PASS: TestPayoutMode_DefaultFeePercent/pplns (0.00s)
    --- PASS: TestPayoutMode_DefaultFeePercent/pps (0.00s)
    --- PASS: TestPayoutMode_DefaultFeePercent/pps_plus (0.00s)
    --- PASS: TestPayoutMode_DefaultFeePercent/fpps (0.00s)
    --- PASS: TestPayoutMode_DefaultFeePercent/score (0.00s)
    --- PASS: TestPayoutMode_DefaultFeePercent/solo (0.00s)
    --- PASS: TestPayoutMode_DefaultFeePercent/slice (0.00s)
=== RUN   TestAllPayoutModes
--- PASS: TestAllPayoutModes (0.00s)
=== RUN   TestDefaultPayoutConfig
=== RUN   TestDefaultPayoutConfig/default_mode_is_PPLNS
=== RUN   TestDefaultPayoutConfig/has_correct_default_fees
=== RUN   TestDefaultPayoutConfig/has_correct_PPLNS_window_size
=== RUN   TestDefaultPayoutConfig/has_correct_SCORE_decay_factor
=== RUN   TestDefaultPayoutConfig/has_correct_SLICE_config
=== RUN   TestDefaultPayoutConfig/has_correct_minimum_payouts
=== RUN   TestDefaultPayoutConfig/correct_modes_enabled_by_default
--- PASS: TestDefaultPayoutConfig (0.00s)
    --- PASS: TestDefaultPayoutConfig/default_mode_is_PPLNS (0.00s)
    --- PASS: TestDefaultPayoutConfig/has_correct_default_fees (0.00s)
    --- PASS: TestDefaultPayoutConfig/has_correct_PPLNS_window_size (0.00s)
    --- PASS: TestDefaultPayoutConfig/has_correct_SCORE_decay_factor (0.00s)
    --- PASS: TestDefaultPayoutConfig/has_correct_SLICE_config (0.00s)
    --- PASS: TestDefaultPayoutConfig/has_correct_minimum_payouts (0.00s)
    --- PASS: TestDefaultPayoutConfig/correct_modes_enabled_by_default (0.00s)
=== RUN   TestPayoutConfig_GetFeeForMode
=== RUN   TestPayoutConfig_GetFeeForMode/pplns
=== RUN   TestPayoutConfig_GetFeeForMode/pps
=== RUN   TestPayoutConfig_GetFeeForMode/pps_plus
=== RUN   TestPayoutConfig_GetFeeForMode/fpps
=== RUN   TestPayoutConfig_GetFeeForMode/score
=== RUN   TestPayoutConfig_GetFeeForMode/solo
=== RUN   TestPayoutConfig_GetFeeForMode/slice
=== RUN   TestPayoutConfig_GetFeeForMode/unknown_mode_returns_PPLNS_fee
--- PASS: TestPayoutConfig_GetFeeForMode (0.00s)
    --- PASS: TestPayoutConfig_GetFeeForMode/pplns (0.00s)
    --- PASS: TestPayoutConfig_GetFeeForMode/pps (0.00s)
    --- PASS: TestPayoutConfig_GetFeeForMode/pps_plus (0.00s)
    --- PASS: TestPayoutConfig_GetFeeForMode/fpps (0.00s)
    --- PASS: TestPayoutConfig_GetFeeForMode/score (0.00s)
    --- PASS: TestPayoutConfig_GetFeeForMode/solo (0.00s)
    --- PASS: TestPayoutConfig_GetFeeForMode/slice (0.00s)
    --- PASS: TestPayoutConfig_GetFeeForMode/unknown_mode_returns_PPLNS_fee (0.00s)
=== RUN   TestPayoutConfig_IsModeEnabled
=== RUN   TestPayoutConfig_IsModeEnabled/enabled_modes
=== RUN   TestPayoutConfig_IsModeEnabled/disabled_modes
=== RUN   TestPayoutConfig_IsModeEnabled/unknown_mode
--- PASS: TestPayoutConfig_IsModeEnabled (0.00s)
    --- PASS: TestPayoutConfig_IsModeEnabled/enabled_modes (0.00s)
    --- PASS: TestPayoutConfig_IsModeEnabled/disabled_modes (0.00s)
    --- PASS: TestPayoutConfig_IsModeEnabled/unknown_mode (0.00s)
=== RUN   TestPayoutConfig_GetEnabledModes
--- PASS: TestPayoutConfig_GetEnabledModes (0.00s)
=== RUN   TestNullMergedMiningProvider
=== RUN   TestNullMergedMiningProvider/GetAuxChains_returns_nil
=== RUN   TestNullMergedMiningProvider/GetAuxBlockTemplate_returns_nil
=== RUN   TestNullMergedMiningProvider/SubmitAuxBlock_returns_nil
=== RUN   TestNullMergedMiningProvider/CalculateAuxReward_returns_zero
--- PASS: TestNullMergedMiningProvider (0.00s)
    --- PASS: TestNullMergedMiningProvider/GetAuxChains_returns_nil (0.00s)
    --- PASS: TestNullMergedMiningProvider/GetAuxBlockTemplate_returns_nil (0.00s)
    --- PASS: TestNullMergedMiningProvider/SubmitAuxBlock_returns_nil (0.00s)
    --- PASS: TestNullMergedMiningProvider/CalculateAuxReward_returns_zero (0.00s)
=== RUN   TestNewPayoutManager
=== RUN   TestNewPayoutManager/creates_manager_with_default_config
=== RUN   TestNewPayoutManager/creates_manager_with_custom_config
=== RUN   TestNewPayoutManager/initializes_all_enabled_calculators
--- PASS: TestNewPayoutManager (0.00s)
    --- PASS: TestNewPayoutManager/creates_manager_with_default_config (0.00s)
    --- PASS: TestNewPayoutManager/creates_manager_with_custom_config (0.00s)
    --- PASS: TestNewPayoutManager/initializes_all_enabled_calculators (0.00s)
=== RUN   TestPayoutManager_GetCalculator
=== RUN   TestPayoutManager_GetCalculator/returns_calculator_for_enabled_mode
=== RUN   TestPayoutManager_GetCalculator/returns_error_for_disabled_mode
--- PASS: TestPayoutManager_GetCalculator (0.00s)
    --- PASS: TestPayoutManager_GetCalculator/returns_calculator_for_enabled_mode (0.00s)
    --- PASS: TestPayoutManager_GetCalculator/returns_error_for_disabled_mode (0.00s)
=== RUN   TestPayoutManager_SetNetworkDifficulty
--- PASS: TestPayoutManager_SetNetworkDifficulty (0.00s)
=== RUN   TestPayoutManager_CalculatePayoutsForBlock
=== RUN   TestPayoutManager_CalculatePayoutsForBlock/calculates_payouts_for_shares_with_default_mode
=== RUN   TestPayoutManager_CalculatePayoutsForBlock/respects_user_payout_mode_settings
=== RUN   TestPayoutManager_CalculatePayoutsForBlock/handles_empty_shares
--- PASS: TestPayoutManager_CalculatePayoutsForBlock (0.00s)
    --- PASS: TestPayoutManager_CalculatePayoutsForBlock/calculates_payouts_for_shares_with_default_mode (0.00s)
    --- PASS: TestPayoutManager_CalculatePayoutsForBlock/respects_user_payout_mode_settings (0.00s)
    --- PASS: TestPayoutManager_CalculatePayoutsForBlock/handles_empty_shares (0.00s)
=== RUN   TestPayoutManager_GetUserSettings
=== RUN   TestPayoutManager_GetUserSettings/returns_nil_for_non-existent_user
=== RUN   TestPayoutManager_GetUserSettings/returns_settings_for_existing_user
--- PASS: TestPayoutManager_GetUserSettings (0.00s)
    --- PASS: TestPayoutManager_GetUserSettings/returns_nil_for_non-existent_user (0.00s)
    --- PASS: TestPayoutManager_GetUserSettings/returns_settings_for_existing_user (0.00s)
=== RUN   TestPayoutManager_UpdateUserSettings
=== RUN   TestPayoutManager_UpdateUserSettings/creates_settings_for_new_user
=== RUN   TestPayoutManager_UpdateUserSettings/updates_settings_for_existing_user
=== RUN   TestPayoutManager_UpdateUserSettings/rejects_disabled_payout_mode
--- PASS: TestPayoutManager_UpdateUserSettings (0.00s)
    --- PASS: TestPayoutManager_UpdateUserSettings/creates_settings_for_new_user (0.00s)
    --- PASS: TestPayoutManager_UpdateUserSettings/updates_settings_for_existing_user (0.00s)
    --- PASS: TestPayoutManager_UpdateUserSettings/rejects_disabled_payout_mode (0.00s)
=== RUN   TestPayoutManager_GetFeeForMode
--- PASS: TestPayoutManager_GetFeeForMode (0.00s)
=== RUN   TestPayoutManager_CalculatePayoutsWithMetadata
--- PASS: TestPayoutManager_CalculatePayoutsWithMetadata (0.00s)
=== RUN   TestNewMergedMiningManager
--- PASS: TestNewMergedMiningManager (0.00s)
=== RUN   TestMergedMiningManager_RegisterAuxChain
=== RUN   TestMergedMiningManager_RegisterAuxChain/registers_valid_chain
=== RUN   TestMergedMiningManager_RegisterAuxChain/rejects_nil_config
=== RUN   TestMergedMiningManager_RegisterAuxChain/rejects_empty_chain_ID
--- PASS: TestMergedMiningManager_RegisterAuxChain (0.00s)
    --- PASS: TestMergedMiningManager_RegisterAuxChain/registers_valid_chain (0.00s)
    --- PASS: TestMergedMiningManager_RegisterAuxChain/rejects_nil_config (0.00s)
    --- PASS: TestMergedMiningManager_RegisterAuxChain/rejects_empty_chain_ID (0.00s)
=== RUN   TestMergedMiningManager_UnregisterAuxChain
--- PASS: TestMergedMiningManager_UnregisterAuxChain (0.00s)
=== RUN   TestMergedMiningManager_GetAuxChains
--- PASS: TestMergedMiningManager_GetAuxChains (0.00s)
=== RUN   TestMergedMiningManager_GetAuxBlockTemplate
=== RUN   TestMergedMiningManager_GetAuxBlockTemplate/returns_error_for_unregistered_chain
=== RUN   TestMergedMiningManager_GetAuxBlockTemplate/returns_error_for_disabled_chain
=== RUN   TestMergedMiningManager_GetAuxBlockTemplate/returns_nil_for_enabled_chain_(placeholder)
--- PASS: TestMergedMiningManager_GetAuxBlockTemplate (0.00s)
    --- PASS: TestMergedMiningManager_GetAuxBlockTemplate/returns_error_for_unregistered_chain (0.00s)
    --- PASS: TestMergedMiningManager_GetAuxBlockTemplate/returns_error_for_disabled_chain (0.00s)
    --- PASS: TestMergedMiningManager_GetAuxBlockTemplate/returns_nil_for_enabled_chain_(placeholder) (0.00s)
=== RUN   TestMergedMiningManager_SubmitAuxBlock
=== RUN   TestMergedMiningManager_SubmitAuxBlock/returns_error_for_unregistered_chain
=== RUN   TestMergedMiningManager_SubmitAuxBlock/returns_nil_for_enabled_chain_(placeholder)
--- PASS: TestMergedMiningManager_SubmitAuxBlock (0.00s)
    --- PASS: TestMergedMiningManager_SubmitAuxBlock/returns_error_for_unregistered_chain (0.00s)
    --- PASS: TestMergedMiningManager_SubmitAuxBlock/returns_nil_for_enabled_chain_(placeholder) (0.00s)
=== RUN   TestMergedMiningManager_OnAuxBlockFound
=== RUN   TestMergedMiningManager_OnAuxBlockFound/creates_aux_block_record
=== RUN   TestMergedMiningManager_OnAuxBlockFound/returns_error_for_nil_block
=== RUN   TestMergedMiningManager_OnAuxBlockFound/returns_error_for_unregistered_chain
--- PASS: TestMergedMiningManager_OnAuxBlockFound (0.00s)
    --- PASS: TestMergedMiningManager_OnAuxBlockFound/creates_aux_block_record (0.00s)
    --- PASS: TestMergedMiningManager_OnAuxBlockFound/returns_error_for_nil_block (0.00s)
    --- PASS: TestMergedMiningManager_OnAuxBlockFound/returns_error_for_unregistered_chain (0.00s)
=== RUN   TestMergedMiningManager_GetAuxPayouts
=== RUN   TestMergedMiningManager_GetAuxPayouts/calculates_payouts_for_aux_chain
=== RUN   TestMergedMiningManager_GetAuxPayouts/returns_error_for_unregistered_chain
--- PASS: TestMergedMiningManager_GetAuxPayouts (0.00s)
    --- PASS: TestMergedMiningManager_GetAuxPayouts/calculates_payouts_for_aux_chain (0.00s)
    --- PASS: TestMergedMiningManager_GetAuxPayouts/returns_error_for_unregistered_chain (0.00s)
=== RUN   TestMergedMiningManager_ProcessAuxBlockPayouts
=== RUN   TestMergedMiningManager_ProcessAuxBlockPayouts/processes_payouts_for_confirmed_block
=== RUN   TestMergedMiningManager_ProcessAuxBlockPayouts/rejects_unconfirmed_block
--- PASS: TestMergedMiningManager_ProcessAuxBlockPayouts (0.00s)
    --- PASS: TestMergedMiningManager_ProcessAuxBlockPayouts/processes_payouts_for_confirmed_block (0.00s)
    --- PASS: TestMergedMiningManager_ProcessAuxBlockPayouts/rejects_unconfirmed_block (0.00s)
=== RUN   TestAuxBlock_Structure
--- PASS: TestAuxBlock_Structure (0.00s)
=== RUN   TestAuxPayout_Structure
--- PASS: TestAuxPayout_Structure (0.00s)
=== RUN   TestPayoutMetrics_Creation
=== RUN   TestPayoutMetrics_Creation/creates_metrics_with_namespace
=== RUN   TestPayoutMetrics_Creation/registers_metrics_with_registry
--- PASS: TestPayoutMetrics_Creation (0.00s)
    --- PASS: TestPayoutMetrics_Creation/creates_metrics_with_namespace (0.00s)
    --- PASS: TestPayoutMetrics_Creation/registers_metrics_with_registry (0.00s)
=== RUN   TestPayoutMetrics_RecordPayout
=== RUN   TestPayoutMetrics_RecordPayout/increments_processed_counter
=== RUN   TestPayoutMetrics_RecordPayout/records_payout_amount
=== RUN   TestPayoutMetrics_RecordPayout/records_multiple_payout_modes
--- PASS: TestPayoutMetrics_RecordPayout (0.00s)
    --- PASS: TestPayoutMetrics_RecordPayout/increments_processed_counter (0.00s)
    --- PASS: TestPayoutMetrics_RecordPayout/records_payout_amount (0.00s)
    --- PASS: TestPayoutMetrics_RecordPayout/records_multiple_payout_modes (0.00s)
=== RUN   TestPayoutMetrics_RecordFailure
=== RUN   TestPayoutMetrics_RecordFailure/increments_failed_counter_by_reason
--- PASS: TestPayoutMetrics_RecordFailure (0.00s)
    --- PASS: TestPayoutMetrics_RecordFailure/increments_failed_counter_by_reason (0.00s)
=== RUN   TestPayoutMetrics_RecordDuration
=== RUN   TestPayoutMetrics_RecordDuration/records_payout_processing_duration
--- PASS: TestPayoutMetrics_RecordDuration (0.00s)
    --- PASS: TestPayoutMetrics_RecordDuration/records_payout_processing_duration (0.00s)
=== RUN   TestPayoutMetrics_SetPendingPayouts
=== RUN   TestPayoutMetrics_SetPendingPayouts/sets_pending_payout_gauge
=== RUN   TestPayoutMetrics_SetPendingPayouts/updates_pending_payout_gauge
--- PASS: TestPayoutMetrics_SetPendingPayouts (0.00s)
    --- PASS: TestPayoutMetrics_SetPendingPayouts/sets_pending_payout_gauge (0.00s)
    --- PASS: TestPayoutMetrics_SetPendingPayouts/updates_pending_payout_gauge (0.00s)
=== RUN   TestPayoutMetrics_SetWalletBalance
=== RUN   TestPayoutMetrics_SetWalletBalance/sets_wallet_balance_gauge
--- PASS: TestPayoutMetrics_SetWalletBalance (0.00s)
    --- PASS: TestPayoutMetrics_SetWalletBalance/sets_wallet_balance_gauge (0.00s)
=== RUN   TestPayoutMetrics_BlockMetrics
=== RUN   TestPayoutMetrics_BlockMetrics/records_block_processing
--- PASS: TestPayoutMetrics_BlockMetrics (0.00s)
    --- PASS: TestPayoutMetrics_BlockMetrics/records_block_processing (0.00s)
=== RUN   TestPayoutMetrics_CalculatorMetrics
=== RUN   TestPayoutMetrics_CalculatorMetrics/records_calculator_usage
--- PASS: TestPayoutMetrics_CalculatorMetrics (0.00s)
    --- PASS: TestPayoutMetrics_CalculatorMetrics/records_calculator_usage (0.00s)
=== RUN   TestSQLPayoutRepository_Creation
=== RUN   TestSQLPayoutRepository_Creation/creates_repository_with_valid_db
--- PASS: TestSQLPayoutRepository_Creation (0.00s)
    --- PASS: TestSQLPayoutRepository_Creation/creates_repository_with_valid_db (0.00s)
=== RUN   TestSQLPayoutRepository_GetPendingPayouts
=== RUN   TestSQLPayoutRepository_GetPendingPayouts/returns_empty_list_when_no_pending_payouts
=== RUN   TestSQLPayoutRepository_GetPendingPayouts/returns_pending_payouts_up_to_limit
=== RUN   TestSQLPayoutRepository_GetPendingPayouts/only_returns_pending_status_payouts
--- PASS: TestSQLPayoutRepository_GetPendingPayouts (0.00s)
    --- PASS: TestSQLPayoutRepository_GetPendingPayouts/returns_empty_list_when_no_pending_payouts (0.00s)
    --- PASS: TestSQLPayoutRepository_GetPendingPayouts/returns_pending_payouts_up_to_limit (0.00s)
    --- PASS: TestSQLPayoutRepository_GetPendingPayouts/only_returns_pending_status_payouts (0.00s)
=== RUN   TestSQLPayoutRepository_MarkPayoutComplete
=== RUN   TestSQLPayoutRepository_MarkPayoutComplete/marks_payout_as_complete_with_tx_hash
=== RUN   TestSQLPayoutRepository_MarkPayoutComplete/returns_error_for_non-existent_payout
--- PASS: TestSQLPayoutRepository_MarkPayoutComplete (0.00s)
    --- PASS: TestSQLPayoutRepository_MarkPayoutComplete/marks_payout_as_complete_with_tx_hash (0.00s)
    --- PASS: TestSQLPayoutRepository_MarkPayoutComplete/returns_error_for_non-existent_payout (0.00s)
=== RUN   TestSQLPayoutRepository_MarkPayoutFailed
=== RUN   TestSQLPayoutRepository_MarkPayoutFailed/marks_payout_as_failed_with_error_message
--- PASS: TestSQLPayoutRepository_MarkPayoutFailed (0.00s)
    --- PASS: TestSQLPayoutRepository_MarkPayoutFailed/marks_payout_as_failed_with_error_message (0.00s)
=== RUN   TestSQLPayoutRepository_ReturnToBalance
=== RUN   TestSQLPayoutRepository_ReturnToBalance/returns_amount_to_user_balance
--- PASS: TestSQLPayoutRepository_ReturnToBalance (0.00s)
    --- PASS: TestSQLPayoutRepository_ReturnToBalance/returns_amount_to_user_balance (0.00s)
=== RUN   TestSQLPayoutRepository_CreatePendingPayout
=== RUN   TestSQLPayoutRepository_CreatePendingPayout/creates_new_pending_payout
--- PASS: TestSQLPayoutRepository_CreatePendingPayout (0.00s)
    --- PASS: TestSQLPayoutRepository_CreatePendingPayout/creates_new_pending_payout (0.00s)
=== RUN   TestSQLPayoutRepository_GetUserBalance
=== RUN   TestSQLPayoutRepository_GetUserBalance/returns_user_balance
=== RUN   TestSQLPayoutRepository_GetUserBalance/returns_zero_for_non-existent_user
--- PASS: TestSQLPayoutRepository_GetUserBalance (0.00s)
    --- PASS: TestSQLPayoutRepository_GetUserBalance/returns_user_balance (0.00s)
    --- PASS: TestSQLPayoutRepository_GetUserBalance/returns_zero_for_non-existent_user (0.00s)
=== RUN   TestSQLPayoutRepository_DeductFromBalance
=== RUN   TestSQLPayoutRepository_DeductFromBalance/deducts_from_user_balance
=== RUN   TestSQLPayoutRepository_DeductFromBalance/returns_error_for_insufficient_balance
--- PASS: TestSQLPayoutRepository_DeductFromBalance (0.00s)
    --- PASS: TestSQLPayoutRepository_DeductFromBalance/deducts_from_user_balance (0.00s)
    --- PASS: TestSQLPayoutRepository_DeductFromBalance/returns_error_for_insufficient_balance (0.00s)
=== RUN   TestPPLNSCalculator_NewCalculator
=== RUN   TestPPLNSCalculator_NewCalculator/valid_configuration
=== RUN   TestPPLNSCalculator_NewCalculator/zero_window_size_should_fail
=== RUN   TestPPLNSCalculator_NewCalculator/negative_window_size_should_fail
=== RUN   TestPPLNSCalculator_NewCalculator/negative_pool_fee_should_fail
=== RUN   TestPPLNSCalculator_NewCalculator/pool_fee_over_100%_should_fail
--- PASS: TestPPLNSCalculator_NewCalculator (0.00s)
    --- PASS: TestPPLNSCalculator_NewCalculator/valid_configuration (0.00s)
    --- PASS: TestPPLNSCalculator_NewCalculator/zero_window_size_should_fail (0.00s)
    --- PASS: TestPPLNSCalculator_NewCalculator/negative_window_size_should_fail (0.00s)
    --- PASS: TestPPLNSCalculator_NewCalculator/negative_pool_fee_should_fail (0.00s)
    --- PASS: TestPPLNSCalculator_NewCalculator/pool_fee_over_100%_should_fail (0.00s)
=== RUN   TestPPLNSCalculator_CalculatePayouts
--- PASS: TestPPLNSCalculator_CalculatePayouts (0.00s)
=== RUN   TestPPLNSCalculator_SlidingWindow
--- PASS: TestPPLNSCalculator_SlidingWindow (0.00s)
=== RUN   TestPPLNSCalculator_InvalidShares
--- PASS: TestPPLNSCalculator_InvalidShares (0.00s)
=== RUN   TestPPLNSCalculator_EmptyShares
--- PASS: TestPPLNSCalculator_EmptyShares (0.00s)
=== RUN   TestPPLNSCalculator_ZeroBlockReward
--- PASS: TestPPLNSCalculator_ZeroBlockReward (0.00s)
=== RUN   TestPPLNSCalculator_PoolFeeCalculation
=== RUN   TestPPLNSCalculator_PoolFeeCalculation/1%_pool_fee
=== RUN   TestPPLNSCalculator_PoolFeeCalculation/2.5%_pool_fee
=== RUN   TestPPLNSCalculator_PoolFeeCalculation/0%_pool_fee
--- PASS: TestPPLNSCalculator_PoolFeeCalculation (0.00s)
    --- PASS: TestPPLNSCalculator_PoolFeeCalculation/1%_pool_fee (0.00s)
    --- PASS: TestPPLNSCalculator_PoolFeeCalculation/2.5%_pool_fee (0.00s)
    --- PASS: TestPPLNSCalculator_PoolFeeCalculation/0%_pool_fee (0.00s)
=== RUN   TestPPLNSCalculator_WithTxFees
--- PASS: TestPPLNSCalculator_WithTxFees (0.00s)
=== RUN   TestPPLNSCalculator_Mode
--- PASS: TestPPLNSCalculator_Mode (0.00s)
=== RUN   TestPPLNSCalculator_SetPoolFeePercent
--- PASS: TestPPLNSCalculator_SetPoolFeePercent (0.00s)
=== RUN   TestPPLNSCalculator_SetWindowSize
--- PASS: TestPPLNSCalculator_SetWindowSize (0.00s)
=== RUN   TestNewPPSCalculator
=== RUN   TestNewPPSCalculator/valid_creation
=== RUN   TestNewPPSCalculator/invalid_fee_too_high
=== RUN   TestNewPPSCalculator/invalid_fee_negative
=== RUN   TestNewPPSCalculator/zero_fee_valid
--- PASS: TestNewPPSCalculator (0.00s)
    --- PASS: TestNewPPSCalculator/valid_creation (0.00s)
    --- PASS: TestNewPPSCalculator/invalid_fee_too_high (0.00s)
    --- PASS: TestNewPPSCalculator/invalid_fee_negative (0.00s)
    --- PASS: TestNewPPSCalculator/zero_fee_valid (0.00s)
=== RUN   TestPPSCalculator_CalculatePayouts
=== RUN   TestPPSCalculator_CalculatePayouts/basic_payout_calculation
=== RUN   TestPPSCalculator_CalculatePayouts/empty_shares_returns_empty_payouts
=== RUN   TestPPSCalculator_CalculatePayouts/invalid_shares_are_skipped
=== RUN   TestPPSCalculator_CalculatePayouts/error_on_zero_network_difficulty
--- PASS: TestPPSCalculator_CalculatePayouts (0.00s)
    --- PASS: TestPPSCalculator_CalculatePayouts/basic_payout_calculation (0.00s)
    --- PASS: TestPPSCalculator_CalculatePayouts/empty_shares_returns_empty_payouts (0.00s)
    --- PASS: TestPPSCalculator_CalculatePayouts/invalid_shares_are_skipped (0.00s)
    --- PASS: TestPPSCalculator_CalculatePayouts/error_on_zero_network_difficulty (0.00s)
=== RUN   TestPPSCalculator_CalculateShareValue
=== RUN   TestPPSCalculator_CalculateShareValue/calculates_correct_share_value
=== RUN   TestPPSCalculator_CalculateShareValue/zero_difficulty_returns_zero
--- PASS: TestPPSCalculator_CalculateShareValue (0.00s)
    --- PASS: TestPPSCalculator_CalculateShareValue/calculates_correct_share_value (0.00s)
    --- PASS: TestPPSCalculator_CalculateShareValue/zero_difficulty_returns_zero (0.00s)
=== RUN   TestPPSCalculator_SetPoolFeePercent
=== RUN   TestPPSCalculator_SetPoolFeePercent/valid_fee_update
=== RUN   TestPPSCalculator_SetPoolFeePercent/invalid_fee_rejected
--- PASS: TestPPSCalculator_SetPoolFeePercent (0.00s)
    --- PASS: TestPPSCalculator_SetPoolFeePercent/valid_fee_update (0.00s)
    --- PASS: TestPPSCalculator_SetPoolFeePercent/invalid_fee_rejected (0.00s)
=== RUN   TestNewPPSPlusCalculator
=== RUN   TestNewPPSPlusCalculator/valid_creation
=== RUN   TestNewPPSPlusCalculator/invalid_fee
=== RUN   TestNewPPSPlusCalculator/invalid_window_size
--- PASS: TestNewPPSPlusCalculator (0.00s)
    --- PASS: TestNewPPSPlusCalculator/valid_creation (0.00s)
    --- PASS: TestNewPPSPlusCalculator/invalid_fee (0.00s)
    --- PASS: TestNewPPSPlusCalculator/invalid_window_size (0.00s)
=== RUN   TestPPSPlusCalculator_CalculatePayouts
=== RUN   TestPPSPlusCalculator_CalculatePayouts/splits_block_reward_and_tx_fees
=== RUN   TestPPSPlusCalculator_CalculatePayouts/handles_zero_tx_fees
--- PASS: TestPPSPlusCalculator_CalculatePayouts (0.00s)
    --- PASS: TestPPSPlusCalculator_CalculatePayouts/splits_block_reward_and_tx_fees (0.00s)
    --- PASS: TestPPSPlusCalculator_CalculatePayouts/handles_zero_tx_fees (0.00s)
=== RUN   TestNewFPPSCalculator
=== RUN   TestNewFPPSCalculator/valid_creation
=== RUN   TestNewFPPSCalculator/invalid_fee
--- PASS: TestNewFPPSCalculator (0.00s)
    --- PASS: TestNewFPPSCalculator/valid_creation (0.00s)
    --- PASS: TestNewFPPSCalculator/invalid_fee (0.00s)
=== RUN   TestFPPSCalculator_CalculatePayouts
=== RUN   TestFPPSCalculator_CalculatePayouts/includes_expected_tx_fees
=== RUN   TestFPPSCalculator_CalculatePayouts/uses_provided_tx_fees_over_expected
--- PASS: TestFPPSCalculator_CalculatePayouts (0.00s)
    --- PASS: TestFPPSCalculator_CalculatePayouts/includes_expected_tx_fees (0.00s)
    --- PASS: TestFPPSCalculator_CalculatePayouts/uses_provided_tx_fees_over_expected (0.00s)
=== RUN   TestFPPSCalculator_CalculateShareValue
=== RUN   TestFPPSCalculator_CalculateShareValue/includes_tx_fees_in_share_value
--- PASS: TestFPPSCalculator_CalculateShareValue (0.00s)
    --- PASS: TestFPPSCalculator_CalculateShareValue/includes_tx_fees_in_share_value (0.00s)
=== RUN   TestPayoutProcessor_Creation
=== RUN   TestPayoutProcessor_Creation/creates_processor_with_dependencies
=== RUN   TestPayoutProcessor_Creation/returns_nil_with_nil_dependencies
--- PASS: TestPayoutProcessor_Creation (0.00s)
    --- PASS: TestPayoutProcessor_Creation/creates_processor_with_dependencies (0.00s)
    --- PASS: TestPayoutProcessor_Creation/returns_nil_with_nil_dependencies (0.00s)
=== RUN   TestPayoutProcessor_ProcessSinglePayout
=== RUN   TestPayoutProcessor_ProcessSinglePayout/successfully_processes_payout
=== RUN   TestPayoutProcessor_ProcessSinglePayout/handles_failed_transaction
=== RUN   TestPayoutProcessor_ProcessSinglePayout/validates_address_before_sending
--- PASS: TestPayoutProcessor_ProcessSinglePayout (0.00s)
    --- PASS: TestPayoutProcessor_ProcessSinglePayout/successfully_processes_payout (0.00s)
    --- PASS: TestPayoutProcessor_ProcessSinglePayout/handles_failed_transaction (0.00s)
    --- PASS: TestPayoutProcessor_ProcessSinglePayout/validates_address_before_sending (0.00s)
=== RUN   TestPayoutProcessor_BatchProcessing
=== RUN   TestPayoutProcessor_BatchProcessing/processes_multiple_payouts_in_batch
=== RUN   TestPayoutProcessor_BatchProcessing/respects_batch_size_limit
--- PASS: TestPayoutProcessor_BatchProcessing (0.00s)
    --- PASS: TestPayoutProcessor_BatchProcessing/processes_multiple_payouts_in_batch (0.00s)
    --- PASS: TestPayoutProcessor_BatchProcessing/respects_batch_size_limit (0.00s)
=== RUN   TestPayoutProcessor_AutoProcessing
=== RUN   TestPayoutProcessor_AutoProcessing/starts_and_stops_auto-processing
--- PASS: TestPayoutProcessor_AutoProcessing (0.15s)
    --- PASS: TestPayoutProcessor_AutoProcessing/starts_and_stops_auto-processing (0.15s)
=== RUN   TestPayoutProcessor_GetStats
=== RUN   TestPayoutProcessor_GetStats/returns_processing_statistics
--- PASS: TestPayoutProcessor_GetStats (0.00s)
    --- PASS: TestPayoutProcessor_GetStats/returns_processing_statistics (0.00s)
=== RUN   TestPayoutProcessor_MinimumPayout
=== RUN   TestPayoutProcessor_MinimumPayout/skips_payouts_below_minimum
--- PASS: TestPayoutProcessor_MinimumPayout (0.00s)
    --- PASS: TestPayoutProcessor_MinimumPayout/skips_payouts_below_minimum (0.00s)
=== RUN   TestNewSCORECalculator
=== RUN   TestNewSCORECalculator/valid_creation
=== RUN   TestNewSCORECalculator/invalid_window_size
=== RUN   TestNewSCORECalculator/invalid_fee
=== RUN   TestNewSCORECalculator/invalid_decay_factor_zero
=== RUN   TestNewSCORECalculator/invalid_decay_factor_over_1
--- PASS: TestNewSCORECalculator (0.00s)
    --- PASS: TestNewSCORECalculator/valid_creation (0.00s)
    --- PASS: TestNewSCORECalculator/invalid_window_size (0.00s)
    --- PASS: TestNewSCORECalculator/invalid_fee (0.00s)
    --- PASS: TestNewSCORECalculator/invalid_decay_factor_zero (0.00s)
    --- PASS: TestNewSCORECalculator/invalid_decay_factor_over_1 (0.00s)
=== RUN   TestSCORECalculator_CalculatePayouts
=== RUN   TestSCORECalculator_CalculatePayouts/recent_shares_worth_more_than_old_shares
=== RUN   TestSCORECalculator_CalculatePayouts/empty_shares_returns_empty_payouts
=== RUN   TestSCORECalculator_CalculatePayouts/invalid_shares_are_skipped
=== RUN   TestSCORECalculator_CalculatePayouts/includes_tx_fees_in_reward
--- PASS: TestSCORECalculator_CalculatePayouts (0.00s)
    --- PASS: TestSCORECalculator_CalculatePayouts/recent_shares_worth_more_than_old_shares (0.00s)
    --- PASS: TestSCORECalculator_CalculatePayouts/empty_shares_returns_empty_payouts (0.00s)
    --- PASS: TestSCORECalculator_CalculatePayouts/invalid_shares_are_skipped (0.00s)
    --- PASS: TestSCORECalculator_CalculatePayouts/includes_tx_fees_in_reward (0.00s)
=== RUN   TestSCORECalculator_SetDecayFactor
=== RUN   TestSCORECalculator_SetDecayFactor/valid_decay_factor
=== RUN   TestSCORECalculator_SetDecayFactor/invalid_decay_factor
--- PASS: TestSCORECalculator_SetDecayFactor (0.00s)
    --- PASS: TestSCORECalculator_SetDecayFactor/valid_decay_factor (0.00s)
    --- PASS: TestSCORECalculator_SetDecayFactor/invalid_decay_factor (0.00s)
=== RUN   TestSCORECalculator_SetWindowSize
=== RUN   TestSCORECalculator_SetWindowSize/valid_window_size
=== RUN   TestSCORECalculator_SetWindowSize/invalid_window_size
--- PASS: TestSCORECalculator_SetWindowSize (0.00s)
    --- PASS: TestSCORECalculator_SetWindowSize/valid_window_size (0.00s)
    --- PASS: TestSCORECalculator_SetWindowSize/invalid_window_size (0.00s)
=== RUN   TestNewSOLOCalculator
=== RUN   TestNewSOLOCalculator/valid_creation
=== RUN   TestNewSOLOCalculator/invalid_fee
--- PASS: TestNewSOLOCalculator (0.00s)
    --- PASS: TestNewSOLOCalculator/valid_creation (0.00s)
    --- PASS: TestNewSOLOCalculator/invalid_fee (0.00s)
=== RUN   TestSOLOCalculator_CalculatePayouts
=== RUN   TestSOLOCalculator_CalculatePayouts/full_reward_goes_to_finder
=== RUN   TestSOLOCalculator_CalculatePayouts/empty_shares_returns_empty_payouts
=== RUN   TestSOLOCalculator_CalculatePayouts/all_invalid_shares_returns_empty
--- PASS: TestSOLOCalculator_CalculatePayouts (0.00s)
    --- PASS: TestSOLOCalculator_CalculatePayouts/full_reward_goes_to_finder (0.00s)
    --- PASS: TestSOLOCalculator_CalculatePayouts/empty_shares_returns_empty_payouts (0.00s)
    --- PASS: TestSOLOCalculator_CalculatePayouts/all_invalid_shares_returns_empty (0.00s)
=== RUN   TestSOLOCalculator_ValidateConfiguration
=== RUN   TestSOLOCalculator_ValidateConfiguration/valid_config
--- PASS: TestSOLOCalculator_ValidateConfiguration (0.00s)
    --- PASS: TestSOLOCalculator_ValidateConfiguration/valid_config (0.00s)
=== RUN   TestPayoutService_ProcessBlockPayout
--- PASS: TestPayoutService_ProcessBlockPayout (0.00s)
=== RUN   TestPayoutService_ProcessBlockPayout_InvalidBlock
--- PASS: TestPayoutService_ProcessBlockPayout_InvalidBlock (0.00s)
=== RUN   TestPayoutService_ProcessBlockPayout_PendingBlock
--- PASS: TestPayoutService_ProcessBlockPayout_PendingBlock (0.00s)
=== RUN   TestPayoutService_CalculateEstimatedPayout
--- PASS: TestPayoutService_CalculateEstimatedPayout (0.00s)
=== RUN   TestPayoutService_GetPayoutHistory
--- PASS: TestPayoutService_GetPayoutHistory (0.00s)
=== RUN   TestPayoutService_ValidatePayoutFairness
=== RUN   TestPayoutService_ValidatePayoutFairness/equal_difficulty_shares
=== RUN   TestPayoutService_ValidatePayoutFairness/varying_difficulty_shares
--- PASS: TestPayoutService_ValidatePayoutFairness (0.00s)
    --- PASS: TestPayoutService_ValidatePayoutFairness/equal_difficulty_shares (0.00s)
    --- PASS: TestPayoutService_ValidatePayoutFairness/varying_difficulty_shares (0.00s)
=== RUN   TestPayoutService_GetPayoutStatistics
--- PASS: TestPayoutService_GetPayoutStatistics (0.00s)
=== RUN   TestPayoutService_GetPayoutStatistics_NoPayouts
--- PASS: TestPayoutService_GetPayoutStatistics_NoPayouts (0.00s)
=== RUN   TestPayoutService_CalculateEstimatedPayout_NoShares
--- PASS: TestPayoutService_CalculateEstimatedPayout_NoShares (0.00s)
=== RUN   TestPayoutService_CalculateEstimatedPayout_UserNotInWindow
--- PASS: TestPayoutService_CalculateEstimatedPayout_UserNotInWindow (0.00s)
=== RUN   TestPayoutService_ProcessBlockPayout_NoShares
--- PASS: TestPayoutService_ProcessBlockPayout_NoShares (0.00s)
=== RUN   TestPayoutService_ProcessBlockPayout_OnlyInvalidShares
--- PASS: TestPayoutService_ProcessBlockPayout_OnlyInvalidShares (0.00s)
=== RUN   TestPayoutService_ValidatePayoutFairness_Valid
--- PASS: TestPayoutService_ValidatePayoutFairness_Valid (0.00s)
=== RUN   TestNewPayoutService
--- PASS: TestNewPayoutService (0.00s)
=== RUN   TestPayoutStatistics_Structure
--- PASS: TestPayoutStatistics_Structure (0.00s)
=== RUN   TestPayoutValidation_Structure
--- PASS: TestPayoutValidation_Structure (0.00s)
=== RUN   TestPayoutDiscrepancy_Structure
--- PASS: TestPayoutDiscrepancy_Structure (0.00s)
=== RUN   TestShare_Structure
--- PASS: TestShare_Structure (0.00s)
=== RUN   TestBlock_Structure
--- PASS: TestBlock_Structure (0.00s)
=== RUN   TestPayout_Structure
--- PASS: TestPayout_Structure (0.00s)
=== RUN   TestNewSLICECalculator
=== RUN   TestNewSLICECalculator/valid_creation
=== RUN   TestNewSLICECalculator/invalid_slice_count
=== RUN   TestNewSLICECalculator/invalid_slice_duration
=== RUN   TestNewSLICECalculator/invalid_decay_factor
=== RUN   TestNewSLICECalculator/invalid_fee
--- PASS: TestNewSLICECalculator (0.00s)
    --- PASS: TestNewSLICECalculator/valid_creation (0.00s)
    --- PASS: TestNewSLICECalculator/invalid_slice_count (0.00s)
    --- PASS: TestNewSLICECalculator/invalid_slice_duration (0.00s)
    --- PASS: TestNewSLICECalculator/invalid_decay_factor (0.00s)
    --- PASS: TestNewSLICECalculator/invalid_fee (0.00s)
=== RUN   TestSLICECalculator_CalculatePayouts
=== RUN   TestSLICECalculator_CalculatePayouts/basic_payout_calculation
=== RUN   TestSLICECalculator_CalculatePayouts/recent_shares_worth_more_than_old_shares
=== RUN   TestSLICECalculator_CalculatePayouts/empty_shares_returns_empty_payouts
=== RUN   TestSLICECalculator_CalculatePayouts/invalid_shares_are_skipped
=== RUN   TestSLICECalculator_CalculatePayouts/includes_tx_fees_in_reward
--- PASS: TestSLICECalculator_CalculatePayouts (0.00s)
    --- PASS: TestSLICECalculator_CalculatePayouts/basic_payout_calculation (0.00s)
    --- PASS: TestSLICECalculator_CalculatePayouts/recent_shares_worth_more_than_old_shares (0.00s)
    --- PASS: TestSLICECalculator_CalculatePayouts/empty_shares_returns_empty_payouts (0.00s)
    --- PASS: TestSLICECalculator_CalculatePayouts/invalid_shares_are_skipped (0.00s)
    --- PASS: TestSLICECalculator_CalculatePayouts/includes_tx_fees_in_reward (0.00s)
=== RUN   TestSLICECalculator_SetDecayFactor
=== RUN   TestSLICECalculator_SetDecayFactor/valid_decay_factor
=== RUN   TestSLICECalculator_SetDecayFactor/invalid_decay_factor
--- PASS: TestSLICECalculator_SetDecayFactor (0.00s)
    --- PASS: TestSLICECalculator_SetDecayFactor/valid_decay_factor (0.00s)
    --- PASS: TestSLICECalculator_SetDecayFactor/invalid_decay_factor (0.00s)
=== RUN   TestSLICECalculator_SetWindowSize
=== RUN   TestSLICECalculator_SetWindowSize/valid_window_size
=== RUN   TestSLICECalculator_SetWindowSize/invalid_window_size
--- PASS: TestSLICECalculator_SetWindowSize (0.00s)
    --- PASS: TestSLICECalculator_SetWindowSize/valid_window_size (0.00s)
    --- PASS: TestSLICECalculator_SetWindowSize/invalid_window_size (0.00s)
=== RUN   TestSLICECalculator_SetPoolFeePercent
=== RUN   TestSLICECalculator_SetPoolFeePercent/valid_fee
=== RUN   TestSLICECalculator_SetPoolFeePercent/invalid_fee
--- PASS: TestSLICECalculator_SetPoolFeePercent (0.00s)
    --- PASS: TestSLICECalculator_SetPoolFeePercent/valid_fee (0.00s)
    --- PASS: TestSLICECalculator_SetPoolFeePercent/invalid_fee (0.00s)
=== RUN   TestSLICECalculator_DemandResponse
=== RUN   TestSLICECalculator_DemandResponse/set_demand_multiplier
=== RUN   TestSLICECalculator_DemandResponse/invalid_demand_multiplier
=== RUN   TestSLICECalculator_DemandResponse/fee_bounds_are_respected
=== RUN   TestSLICECalculator_DemandResponse/set_fee_bounds
=== RUN   TestSLICECalculator_DemandResponse/invalid_fee_bounds
--- PASS: TestSLICECalculator_DemandResponse (0.00s)
    --- PASS: TestSLICECalculator_DemandResponse/set_demand_multiplier (0.00s)
    --- PASS: TestSLICECalculator_DemandResponse/invalid_demand_multiplier (0.00s)
    --- PASS: TestSLICECalculator_DemandResponse/fee_bounds_are_respected (0.00s)
    --- PASS: TestSLICECalculator_DemandResponse/set_fee_bounds (0.00s)
    --- PASS: TestSLICECalculator_DemandResponse/invalid_fee_bounds (0.00s)
=== RUN   TestSLICECalculator_JobDeclaration
=== RUN   TestSLICECalculator_JobDeclaration/register_job_declaration
=== RUN   TestSLICECalculator_JobDeclaration/register_nil_declaration_fails
=== RUN   TestSLICECalculator_JobDeclaration/register_empty_job_ID_fails
=== RUN   TestSLICECalculator_JobDeclaration/validate_job_declaration
=== RUN   TestSLICECalculator_JobDeclaration/validate_unknown_job_declaration_fails
=== RUN   TestSLICECalculator_JobDeclaration/cleanup_old_declarations
--- PASS: TestSLICECalculator_JobDeclaration (0.00s)
    --- PASS: TestSLICECalculator_JobDeclaration/register_job_declaration (0.00s)
    --- PASS: TestSLICECalculator_JobDeclaration/register_nil_declaration_fails (0.00s)
    --- PASS: TestSLICECalculator_JobDeclaration/register_empty_job_ID_fails (0.00s)
    --- PASS: TestSLICECalculator_JobDeclaration/validate_job_declaration (0.00s)
    --- PASS: TestSLICECalculator_JobDeclaration/validate_unknown_job_declaration_fails (0.00s)
    --- PASS: TestSLICECalculator_JobDeclaration/cleanup_old_declarations (0.00s)
=== RUN   TestSLICECalculator_GetAnalytics
=== RUN   TestSLICECalculator_GetAnalytics/returns_analytics_for_shares
=== RUN   TestSLICECalculator_GetAnalytics/analytics_with_empty_shares
--- PASS: TestSLICECalculator_GetAnalytics (0.00s)
    --- PASS: TestSLICECalculator_GetAnalytics/returns_analytics_for_shares (0.00s)
    --- PASS: TestSLICECalculator_GetAnalytics/analytics_with_empty_shares (0.00s)
=== RUN   TestSLICECalculator_GetSliceConfig
--- PASS: TestSLICECalculator_GetSliceConfig (0.00s)
=== RUN   TestSLICECalculator_ValidateConfiguration
=== RUN   TestSLICECalculator_ValidateConfiguration/valid_config
--- PASS: TestSLICECalculator_ValidateConfiguration (0.00s)
    --- PASS: TestSLICECalculator_ValidateConfiguration/valid_config (0.00s)
=== RUN   TestSLICECalculator_ShareSlicing
=== RUN   TestSLICECalculator_ShareSlicing/shares_organized_into_correct_slices
--- PASS: TestSLICECalculator_ShareSlicing (0.00s)
    --- PASS: TestSLICECalculator_ShareSlicing/shares_organized_into_correct_slices (0.00s)
=== RUN   TestLitecoinWalletClient_Creation
=== RUN   TestLitecoinWalletClient_Creation/creates_client_with_valid_config
=== RUN   TestLitecoinWalletClient_Creation/returns_error_with_empty_RPC_URL
=== RUN   TestLitecoinWalletClient_Creation/uses_default_timeout_if_not_specified
--- PASS: TestLitecoinWalletClient_Creation (0.00s)
    --- PASS: TestLitecoinWalletClient_Creation/creates_client_with_valid_config (0.00s)
    --- PASS: TestLitecoinWalletClient_Creation/returns_error_with_empty_RPC_URL (0.00s)
    --- PASS: TestLitecoinWalletClient_Creation/uses_default_timeout_if_not_specified (0.00s)
=== RUN   TestLitecoinWalletClient_ValidateAddress
=== RUN   TestLitecoinWalletClient_ValidateAddress/validates_mainnet_P2PKH_address_(L_prefix)
=== RUN   TestLitecoinWalletClient_ValidateAddress/validates_mainnet_P2SH_address_(M_prefix)
=== RUN   TestLitecoinWalletClient_ValidateAddress/validates_bech32_address_(ltc1_prefix)
=== RUN   TestLitecoinWalletClient_ValidateAddress/rejects_empty_address
=== RUN   TestLitecoinWalletClient_ValidateAddress/rejects_short_address
=== RUN   TestLitecoinWalletClient_ValidateAddress/rejects_invalid_prefix
--- PASS: TestLitecoinWalletClient_ValidateAddress (0.00s)
    --- PASS: TestLitecoinWalletClient_ValidateAddress/validates_mainnet_P2PKH_address_(L_prefix) (0.00s)
    --- PASS: TestLitecoinWalletClient_ValidateAddress/validates_mainnet_P2SH_address_(M_prefix) (0.00s)
    --- PASS: TestLitecoinWalletClient_ValidateAddress/validates_bech32_address_(ltc1_prefix) (0.00s)
    --- PASS: TestLitecoinWalletClient_ValidateAddress/rejects_empty_address (0.00s)
    --- PASS: TestLitecoinWalletClient_ValidateAddress/rejects_short_address (0.00s)
    --- PASS: TestLitecoinWalletClient_ValidateAddress/rejects_invalid_prefix (0.00s)
=== RUN   TestLitecoinWalletClient_GetBalance
=== RUN   TestLitecoinWalletClient_GetBalance/returns_balance_from_RPC
=== RUN   TestLitecoinWalletClient_GetBalance/handles_RPC_error
--- PASS: TestLitecoinWalletClient_GetBalance (0.00s)
    --- PASS: TestLitecoinWalletClient_GetBalance/returns_balance_from_RPC (0.00s)
    --- PASS: TestLitecoinWalletClient_GetBalance/handles_RPC_error (0.00s)
=== RUN   TestLitecoinWalletClient_SendTransaction
=== RUN   TestLitecoinWalletClient_SendTransaction/sends_transaction_successfully
=== RUN   TestLitecoinWalletClient_SendTransaction/handles_insufficient_funds_error
=== RUN   TestLitecoinWalletClient_SendTransaction/validates_address_before_sending
=== RUN   TestLitecoinWalletClient_SendTransaction/rejects_zero_amount
--- PASS: TestLitecoinWalletClient_SendTransaction (0.00s)
    --- PASS: TestLitecoinWalletClient_SendTransaction/sends_transaction_successfully (0.00s)
    --- PASS: TestLitecoinWalletClient_SendTransaction/handles_insufficient_funds_error (0.00s)
    --- PASS: TestLitecoinWalletClient_SendTransaction/validates_address_before_sending (0.00s)
    --- PASS: TestLitecoinWalletClient_SendTransaction/rejects_zero_amount (0.00s)
=== RUN   TestLitecoinWalletClient_EstimateFee
=== RUN   TestLitecoinWalletClient_EstimateFee/estimates_fee_for_transaction
--- PASS: TestLitecoinWalletClient_EstimateFee (0.00s)
    --- PASS: TestLitecoinWalletClient_EstimateFee/estimates_fee_for_transaction (0.00s)
=== RUN   TestLitecoinWalletClient_UnlockWallet
=== RUN   TestLitecoinWalletClient_UnlockWallet/unlocks_wallet_successfully
--- PASS: TestLitecoinWalletClient_UnlockWallet (0.00s)
    --- PASS: TestLitecoinWalletClient_UnlockWallet/unlocks_wallet_successfully (0.00s)
=== RUN   TestCreateWallet_SingleWallet_100Percent
--- PASS: TestCreateWallet_SingleWallet_100Percent (0.00s)
=== RUN   TestCreateWallet_MultipleWallets_SumTo100
--- PASS: TestCreateWallet_MultipleWallets_SumTo100 (0.00s)
=== RUN   TestCreateWallet_ExceedsPercentage_Error
--- PASS: TestCreateWallet_ExceedsPercentage_Error (0.00s)
=== RUN   TestCreateWallet_InvalidPercentage_Error
--- PASS: TestCreateWallet_InvalidPercentage_Error (0.00s)
=== RUN   TestUpdateWallet_ChangePercentage
--- PASS: TestUpdateWallet_ChangePercentage (0.00s)
=== RUN   TestUpdateWallet_ExceedsPercentage_Error
--- PASS: TestUpdateWallet_ExceedsPercentage_Error (0.00s)
=== RUN   TestDeleteWallet_Success
--- PASS: TestDeleteWallet_Success (0.00s)
=== RUN   TestDeleteWallet_WrongUser_Error
--- PASS: TestDeleteWallet_WrongUser_Error (0.00s)
=== RUN   TestCalculatePayoutSplits_SingleWallet
--- PASS: TestCalculatePayoutSplits_SingleWallet (0.00s)
=== RUN   TestCalculatePayoutSplits_MultipleWallets
--- PASS: TestCalculatePayoutSplits_MultipleWallets (0.00s)
=== RUN   TestCalculatePayoutSplits_OddAmount_NoLoss
--- PASS: TestCalculatePayoutSplits_OddAmount_NoLoss (0.00s)
=== RUN   TestCalculatePayoutSplits_InactiveWalletExcluded
--- PASS: TestCalculatePayoutSplits_InactiveWalletExcluded (0.00s)
=== RUN   TestCalculatePayoutSplits_NoActiveWallets
--- PASS: TestCalculatePayoutSplits_NoActiveWallets (0.00s)
=== RUN   TestGetWalletSummary
--- PASS: TestGetWalletSummary (0.00s)
PASS
ok  	github.com/chimera-pool/chimera-pool-core/internal/payouts	(cached)
=== RUN   TestEndToEndMiningWorkflow
    e2e_test.go:81: Starting pool manager...
    e2e_test.go:91: Testing authentication workflow...
    e2e_test.go:103: Processing mining shares...
    e2e_test.go:136: Processing share 1...
    e2e_test.go:136: Processing share 2...
    e2e_test.go:136: Processing share 3...
    e2e_test.go:147: Verifying pool statistics...
    e2e_test.go:157: Testing mining workflow coordination...
    e2e_test.go:165: Checking component health...
    e2e_test.go:174: Testing payout calculation...
    e2e_test.go:180: Testing authenticated workflow coordination...
    e2e_test.go:189: Verifying final state...
    e2e_test.go:196: Shutting down pool manager...
    e2e_test.go:204: End-to-end mining workflow test completed successfully!
--- PASS: TestEndToEndMiningWorkflow (0.00s)
=== RUN   TestPoolManagerCompleteIntegration
    integration_test.go:14: Starting comprehensive pool manager integration test...
    integration_test.go:68: Testing pool manager startup...
    integration_test.go:79: Testing Stratum protocol coordination...
    integration_test.go:83: Testing share recording coordination...
    integration_test.go:96: Testing payout distribution coordination...
    integration_test.go:100: Testing concurrent miners coordination...
    integration_test.go:109: Testing block discovery coordination...
    integration_test.go:122: Testing complete mining workflow...
    integration_test.go:147: Testing component health coordination...
    integration_test.go:157: Testing pool statistics...
    integration_test.go:167: Verifying requirements compliance...
    integration_test.go:179: Testing pool manager shutdown...
    integration_test.go:186: Γ£à Comprehensive pool manager integration test completed successfully!
    integration_test.go:189: PASS:	Start()
    integration_test.go:189: PASS:	Stop()
    integration_test.go:189: PASS:	GetConnectionCount()
    integration_test.go:190: PASS:	GetStatistics()
    integration_test.go:190: PASS:	ProcessShare(mock.AnythingOfTypeArgument)
    integration_test.go:191: PASS:	ValidateJWT(string)
    integration_test.go:192: PASS:	ProcessBlockPayout(string,mock.AnythingOfTypeArgument)
--- PASS: TestPoolManagerCompleteIntegration (0.00s)
=== RUN   TestPoolManagerErrorHandling
    integration_test.go:197: Testing pool manager error handling scenarios...
    integration_test.go:214: Testing operations when pool is not running...
    integration_test.go:235: Γ£à Error handling test completed successfully!
--- PASS: TestPoolManagerErrorHandling (0.00s)
=== RUN   TestPoolManagerConcurrency
    integration_test.go:240: Testing pool manager concurrent operations...
    integration_test.go:274: Testing concurrent health checks...
    integration_test.go:292: Testing concurrent status requests...
    integration_test.go:311: Γ£à Concurrency test completed successfully!
    integration_test.go:314: PASS:	Start()
    integration_test.go:314: PASS:	Stop()
    integration_test.go:314: PASS:	GetConnectionCount()
    integration_test.go:315: PASS:	GetStatistics()
--- PASS: TestPoolManagerConcurrency (0.00s)
=== RUN   TestNewPoolManager
--- PASS: TestNewPoolManager (0.00s)
=== RUN   TestPoolManager_Start_Success
--- PASS: TestPoolManager_Start_Success (0.00s)
=== RUN   TestPoolManager_Stop_Success
--- PASS: TestPoolManager_Stop_Success (0.00s)
=== RUN   TestPoolManager_GetStatus_Success
--- PASS: TestPoolManager_GetStatus_Success (0.00s)
=== RUN   TestPoolManager_ProcessShare_Success
--- PASS: TestPoolManager_ProcessShare_Success (0.00s)
=== RUN   TestPoolManager_CoordinateMiningWorkflow_Success
--- PASS: TestPoolManager_CoordinateMiningWorkflow_Success (0.00s)
=== RUN   TestPoolManager_MonitorComponentHealth_Success
--- PASS: TestPoolManager_MonitorComponentHealth_Success (0.00s)
=== RUN   TestPoolManager_GetPoolStatistics_Success
--- PASS: TestPoolManager_GetPoolStatistics_Success (0.00s)
=== RUN   TestPoolManager_EndToEndMiningWorkflow_Success
--- PASS: TestPoolManager_EndToEndMiningWorkflow_Success (0.00s)
=== RUN   TestPoolManager_StratumProtocolCoordination_Success
--- PASS: TestPoolManager_StratumProtocolCoordination_Success (0.00s)
=== RUN   TestPoolManager_ShareRecordingCoordination_Success
--- PASS: TestPoolManager_ShareRecordingCoordination_Success (0.00s)
=== RUN   TestPoolManager_PayoutDistributionCoordination_Success
--- PASS: TestPoolManager_PayoutDistributionCoordination_Success (0.00s)
=== RUN   TestPoolManager_CompleteMiningWorkflowIntegration_Success
--- PASS: TestPoolManager_CompleteMiningWorkflowIntegration_Success (0.00s)
=== RUN   TestPoolManager_ComponentHealthCoordination_Success
--- PASS: TestPoolManager_ComponentHealthCoordination_Success (0.00s)
=== RUN   TestPoolManager_ConcurrentMinerHandling_Success
--- PASS: TestPoolManager_ConcurrentMinerHandling_Success (0.00s)
=== RUN   TestPoolManager_BlockDiscoveryCoordination_Success
--- PASS: TestPoolManager_BlockDiscoveryCoordination_Success (0.00s)
=== RUN   TestPoolManager_AdvancedComponentCoordination_TDD
    pool_manager_test.go:785: Skipping timing-sensitive coordination test - requires full integration setup
--- SKIP: TestPoolManager_AdvancedComponentCoordination_TDD (0.00s)
=== RUN   TestPoolManager_EnhancedErrorRecovery_TDD
=== RUN   TestPoolManager_EnhancedErrorRecovery_TDD/Stratum_Server_Automatic_Restart
=== RUN   TestPoolManager_EnhancedErrorRecovery_TDD/Share_Processor_Failover
=== RUN   TestPoolManager_EnhancedErrorRecovery_TDD/Auth_Service_Manual_Intervention
--- PASS: TestPoolManager_EnhancedErrorRecovery_TDD (0.00s)
    --- PASS: TestPoolManager_EnhancedErrorRecovery_TDD/Stratum_Server_Automatic_Restart (0.00s)
    --- PASS: TestPoolManager_EnhancedErrorRecovery_TDD/Share_Processor_Failover (0.00s)
    --- PASS: TestPoolManager_EnhancedErrorRecovery_TDD/Auth_Service_Manual_Intervention (0.00s)
=== RUN   TestPoolManager_PerformanceOptimization_TDD
--- PASS: TestPoolManager_PerformanceOptimization_TDD (0.00s)
=== RUN   TestPoolManager_RealTimeMetrics_TDD
--- PASS: TestPoolManager_RealTimeMetrics_TDD (0.00s)
=== RUN   TestPoolManager_LoadBalancingCoordination_TDD
=== RUN   TestPoolManager_LoadBalancingCoordination_TDD/Round_Robin
=== RUN   TestPoolManager_LoadBalancingCoordination_TDD/Weighted
=== RUN   TestPoolManager_LoadBalancingCoordination_TDD/Least_Connections
--- PASS: TestPoolManager_LoadBalancingCoordination_TDD (0.00s)
    --- PASS: TestPoolManager_LoadBalancingCoordination_TDD/Round_Robin (0.00s)
    --- PASS: TestPoolManager_LoadBalancingCoordination_TDD/Weighted (0.00s)
    --- PASS: TestPoolManager_LoadBalancingCoordination_TDD/Least_Connections (0.00s)
PASS
ok  	github.com/chimera-pool/chimera-pool-core/internal/poolmanager	(cached)
=== RUN   TestDefaultTOTPConfig
--- PASS: TestDefaultTOTPConfig (0.00s)
=== RUN   TestNewMFAService
--- PASS: TestNewMFAService (0.00s)
=== RUN   TestNewMFAServiceWithRepository
--- PASS: TestNewMFAServiceWithRepository (0.00s)
=== RUN   TestMFAService_GenerateTOTPSecret_Success
--- PASS: TestMFAService_GenerateTOTPSecret_Success (0.00s)
=== RUN   TestMFAService_GenerateTOTPSecret_InvalidUserID
--- PASS: TestMFAService_GenerateTOTPSecret_InvalidUserID (0.00s)
=== RUN   TestMFAService_GenerateTOTPSecret_NegativeUserID
--- PASS: TestMFAService_GenerateTOTPSecret_NegativeUserID (0.00s)
=== RUN   TestMFAService_GenerateTOTPSecret_EmptyIssuer
--- PASS: TestMFAService_GenerateTOTPSecret_EmptyIssuer (0.00s)
=== RUN   TestMFAService_GenerateTOTPSecret_WhitespaceIssuer
--- PASS: TestMFAService_GenerateTOTPSecret_WhitespaceIssuer (0.00s)
=== RUN   TestMFAService_GenerateTOTPSecret_EmptyAccountName
--- PASS: TestMFAService_GenerateTOTPSecret_EmptyAccountName (0.00s)
=== RUN   TestMFAService_GenerateTOTPSecret_WhitespaceAccountName
--- PASS: TestMFAService_GenerateTOTPSecret_WhitespaceAccountName (0.00s)
=== RUN   TestMFAService_ValidateTOTP_EmptySecret
--- PASS: TestMFAService_ValidateTOTP_EmptySecret (0.00s)
=== RUN   TestMFAService_ValidateTOTP_EmptyCode
--- PASS: TestMFAService_ValidateTOTP_EmptyCode (0.00s)
=== RUN   TestMFAService_ValidateTOTP_WhitespaceSecret
--- PASS: TestMFAService_ValidateTOTP_WhitespaceSecret (0.00s)
=== RUN   TestMFAService_ValidateTOTP_WhitespaceCode
--- PASS: TestMFAService_ValidateTOTP_WhitespaceCode (0.00s)
=== RUN   TestMFAService_ValidateTOTP_WrongLength
--- PASS: TestMFAService_ValidateTOTP_WrongLength (0.00s)
=== RUN   TestMFAService_ValidateTOTP_NonNumeric
--- PASS: TestMFAService_ValidateTOTP_NonNumeric (0.00s)
=== RUN   TestMFAService_ValidateTOTP_ValidCode
--- PASS: TestMFAService_ValidateTOTP_ValidCode (0.00s)
=== RUN   TestMFAService_GenerateTOTPCode_ValidSecret
--- PASS: TestMFAService_GenerateTOTPCode_ValidSecret (0.00s)
=== RUN   TestMFAService_GenerateTOTPCode_InvalidSecret
--- PASS: TestMFAService_GenerateTOTPCode_InvalidSecret (0.00s)
=== RUN   TestMFAService_GenerateTOTPCode_DifferentTimes
--- PASS: TestMFAService_GenerateTOTPCode_DifferentTimes (0.00s)
=== RUN   TestMFAService_GenerateTOTPCode_Deterministic
--- PASS: TestMFAService_GenerateTOTPCode_Deterministic (0.00s)
=== RUN   TestMFAService_GenerateBackupCodes_Success
--- PASS: TestMFAService_GenerateBackupCodes_Success (0.00s)
=== RUN   TestMFAService_GenerateBackupCodes_InvalidUserID
--- PASS: TestMFAService_GenerateBackupCodes_InvalidUserID (0.00s)
=== RUN   TestMFAService_GenerateBackupCodes_ZeroCount
--- PASS: TestMFAService_GenerateBackupCodes_ZeroCount (0.00s)
=== RUN   TestMFAService_GenerateBackupCodes_NegativeCount
--- PASS: TestMFAService_GenerateBackupCodes_NegativeCount (0.00s)
=== RUN   TestMFAService_GenerateBackupCodes_TooManyCount
--- PASS: TestMFAService_GenerateBackupCodes_TooManyCount (0.00s)
=== RUN   TestMFAService_GenerateBackupCodes_MaxCount
--- PASS: TestMFAService_GenerateBackupCodes_MaxCount (0.00s)
=== RUN   TestMFAService_GenerateBackupCodes_Uniqueness
--- PASS: TestMFAService_GenerateBackupCodes_Uniqueness (0.00s)
=== RUN   TestMFAService_ValidateBackupCode_InvalidUserID
--- PASS: TestMFAService_ValidateBackupCode_InvalidUserID (0.00s)
=== RUN   TestMFAService_ValidateBackupCode_EmptyCode
--- PASS: TestMFAService_ValidateBackupCode_EmptyCode (0.00s)
=== RUN   TestMFAService_ValidateBackupCode_WhitespaceCode
--- PASS: TestMFAService_ValidateBackupCode_WhitespaceCode (0.00s)
=== RUN   TestMFAService_ValidateBackupCode_ValidCode
--- PASS: TestMFAService_ValidateBackupCode_ValidCode (0.00s)
=== RUN   TestMFAService_ValidateBackupCode_InvalidCode
--- PASS: TestMFAService_ValidateBackupCode_InvalidCode (0.00s)
=== RUN   TestMFAService_ValidateBackupCode_CaseInsensitive
--- PASS: TestMFAService_ValidateBackupCode_CaseInsensitive (0.00s)
=== RUN   TestMFAService_ValidateBackupCode_RepositoryError
--- PASS: TestMFAService_ValidateBackupCode_RepositoryError (0.00s)
=== RUN   TestMFAService_VerifyMFASetup_InvalidUserID
--- PASS: TestMFAService_VerifyMFASetup_InvalidUserID (0.00s)
=== RUN   TestMFAService_VerifyMFASetup_InvalidTOTP
--- PASS: TestMFAService_VerifyMFASetup_InvalidTOTP (0.00s)
=== RUN   TestMFAService_VerifyMFASetup_EmptyBackupCodes
--- PASS: TestMFAService_VerifyMFASetup_EmptyBackupCodes (0.00s)
=== RUN   TestMFAService_VerifyMFASetup_InvalidBackupCodeLength
--- PASS: TestMFAService_VerifyMFASetup_InvalidBackupCodeLength (0.00s)
=== RUN   TestMFAService_VerifyMFASetup_InvalidBackupCodeFormat
--- PASS: TestMFAService_VerifyMFASetup_InvalidBackupCodeFormat (0.00s)
=== RUN   TestMFAService_VerifyMFASetup_Success
--- PASS: TestMFAService_VerifyMFASetup_Success (0.00s)
=== RUN   TestMFAService_EnableMFA_Success
--- PASS: TestMFAService_EnableMFA_Success (0.00s)
=== RUN   TestMFAService_EnableMFA_InvalidUserID
--- PASS: TestMFAService_EnableMFA_InvalidUserID (0.00s)
=== RUN   TestMFAService_EnableMFA_StoreSecretError
--- PASS: TestMFAService_EnableMFA_StoreSecretError (0.00s)
=== RUN   TestMFAService_IsMFAEnabled_InvalidUserID
--- PASS: TestMFAService_IsMFAEnabled_InvalidUserID (0.00s)
=== RUN   TestMFAService_IsMFAEnabled_NotEnabled
--- PASS: TestMFAService_IsMFAEnabled_NotEnabled (0.00s)
=== RUN   TestMFAService_IsMFAEnabled_Enabled
--- PASS: TestMFAService_IsMFAEnabled_Enabled (0.00s)
=== RUN   TestMFAService_DisableMFA_Success
--- PASS: TestMFAService_DisableMFA_Success (0.00s)
=== RUN   TestMFAService_DisableMFA_InvalidUserID
--- PASS: TestMFAService_DisableMFA_InvalidUserID (0.00s)
=== RUN   TestMFAService_DisableMFA_RepositoryError
--- PASS: TestMFAService_DisableMFA_RepositoryError (0.00s)
=== RUN   TestMFAService_StoreBackupCodes_Success
--- PASS: TestMFAService_StoreBackupCodes_Success (0.00s)
=== RUN   TestCompleteSecurityWorkflow
    e2e_test.go:17: Skipping integration test - set INTEGRATION_TEST=true to run
--- SKIP: TestCompleteSecurityWorkflow (0.00s)
=== RUN   TestSecurityFrameworkPerformance
=== RUN   TestSecurityFrameworkPerformance/rate_limiter_performance
    e2e_test.go:440: Rate limiter processed 1000 requests in 537┬╡s
=== RUN   TestSecurityFrameworkPerformance/intrusion_detection_performance
    e2e_test.go:465: Intrusion detector processed 1000 requests in 1.6121ms
--- PASS: TestSecurityFrameworkPerformance (0.00s)
    --- PASS: TestSecurityFrameworkPerformance/rate_limiter_performance (0.00s)
    --- PASS: TestSecurityFrameworkPerformance/intrusion_detection_performance (0.00s)
=== RUN   TestSecurityFrameworkConcurrency
--- PASS: TestSecurityFrameworkConcurrency (0.00s)
=== RUN   TestAESEncryption
=== RUN   TestAESEncryption/normal_text_encryption
=== RUN   TestAESEncryption/empty_text_encryption
=== RUN   TestAESEncryption/long_text_encryption
=== RUN   TestAESEncryption/unicode_text_encryption
--- PASS: TestAESEncryption (0.00s)
    --- PASS: TestAESEncryption/normal_text_encryption (0.00s)
    --- PASS: TestAESEncryption/empty_text_encryption (0.00s)
    --- PASS: TestAESEncryption/long_text_encryption (0.00s)
    --- PASS: TestAESEncryption/unicode_text_encryption (0.00s)
=== RUN   TestAESEncryptionWithWrongKey
--- PASS: TestAESEncryptionWithWrongKey (0.00s)
=== RUN   TestAESEncryptionKeyValidation
=== RUN   TestAESEncryptionKeyValidation/valid_32-byte_key
=== RUN   TestAESEncryptionKeyValidation/invalid_16-byte_key
=== RUN   TestAESEncryptionKeyValidation/invalid_24-byte_key
=== RUN   TestAESEncryptionKeyValidation/invalid_empty_key
--- PASS: TestAESEncryptionKeyValidation (0.00s)
    --- PASS: TestAESEncryptionKeyValidation/valid_32-byte_key (0.00s)
    --- PASS: TestAESEncryptionKeyValidation/invalid_16-byte_key (0.00s)
    --- PASS: TestAESEncryptionKeyValidation/invalid_24-byte_key (0.00s)
    --- PASS: TestAESEncryptionKeyValidation/invalid_empty_key (0.00s)
=== RUN   TestPasswordHashing
=== RUN   TestPasswordHashing/normal_password
=== RUN   TestPasswordHashing/short_password
=== RUN   TestPasswordHashing/long_password
=== RUN   TestPasswordHashing/unicode_password
--- PASS: TestPasswordHashing (0.62s)
    --- PASS: TestPasswordHashing/normal_password (0.16s)
    --- PASS: TestPasswordHashing/short_password (0.16s)
    --- PASS: TestPasswordHashing/long_password (0.16s)
    --- PASS: TestPasswordHashing/unicode_password (0.15s)
=== RUN   TestPasswordHashingConsistency
--- PASS: TestPasswordHashingConsistency (0.21s)
=== RUN   TestSecureWalletIntegration
=== RUN   TestSecureWalletIntegration/valid_wallet_creation
--- PASS: TestSecureWalletIntegration (0.00s)
    --- PASS: TestSecureWalletIntegration/valid_wallet_creation (0.00s)
=== RUN   TestSecureWalletTransactionSigning
--- PASS: TestSecureWalletTransactionSigning (0.00s)
=== RUN   TestComplianceFeatures
=== RUN   TestComplianceFeatures/US_user_requires_full_compliance
=== RUN   TestComplianceFeatures/EU_user_requires_full_compliance
=== RUN   TestComplianceFeatures/non-regulated_country
--- PASS: TestComplianceFeatures (0.00s)
    --- PASS: TestComplianceFeatures/US_user_requires_full_compliance (0.00s)
    --- PASS: TestComplianceFeatures/EU_user_requires_full_compliance (0.00s)
    --- PASS: TestComplianceFeatures/non-regulated_country (0.00s)
=== RUN   TestAuditLogging
=== RUN   TestAuditLogging/user_login_event
=== RUN   TestAuditLogging/failed_login_event
=== RUN   TestAuditLogging/wallet_transaction_event
--- PASS: TestAuditLogging (0.00s)
    --- PASS: TestAuditLogging/user_login_event (0.00s)
    --- PASS: TestAuditLogging/failed_login_event (0.00s)
    --- PASS: TestAuditLogging/wallet_transaction_event (0.00s)
=== RUN   TestDataEncryptionAtRest
=== RUN   TestDataEncryptionAtRest/encrypt_ssn
=== RUN   TestDataEncryptionAtRest/encrypt_credit_card
=== RUN   TestDataEncryptionAtRest/encrypt_private_key
=== RUN   TestDataEncryptionAtRest/encrypt_personal_info
--- PASS: TestDataEncryptionAtRest (0.00s)
    --- PASS: TestDataEncryptionAtRest/encrypt_ssn (0.00s)
    --- PASS: TestDataEncryptionAtRest/encrypt_credit_card (0.00s)
    --- PASS: TestDataEncryptionAtRest/encrypt_private_key (0.00s)
    --- PASS: TestDataEncryptionAtRest/encrypt_personal_info (0.00s)
=== RUN   TestEndToEndEncryption
--- PASS: TestEndToEndEncryption (0.10s)
=== RUN   TestTOTPGeneration
=== RUN   TestTOTPGeneration/valid_TOTP_generation
=== RUN   TestTOTPGeneration/empty_issuer_should_fail
=== RUN   TestTOTPGeneration/empty_account_name_should_fail
=== RUN   TestTOTPGeneration/invalid_user_ID_should_fail
--- PASS: TestTOTPGeneration (0.00s)
    --- PASS: TestTOTPGeneration/valid_TOTP_generation (0.00s)
    --- PASS: TestTOTPGeneration/empty_issuer_should_fail (0.00s)
    --- PASS: TestTOTPGeneration/empty_account_name_should_fail (0.00s)
    --- PASS: TestTOTPGeneration/invalid_user_ID_should_fail (0.00s)
=== RUN   TestTOTPValidation
=== RUN   TestTOTPValidation/empty_secret_should_be_invalid
=== RUN   TestTOTPValidation/empty_code_should_be_invalid
=== RUN   TestTOTPValidation/invalid_code_format_should_be_invalid
=== RUN   TestTOTPValidation/non-numeric_code_should_be_invalid
--- PASS: TestTOTPValidation (0.00s)
    --- PASS: TestTOTPValidation/empty_secret_should_be_invalid (0.00s)
    --- PASS: TestTOTPValidation/empty_code_should_be_invalid (0.00s)
    --- PASS: TestTOTPValidation/invalid_code_format_should_be_invalid (0.00s)
    --- PASS: TestTOTPValidation/non-numeric_code_should_be_invalid (0.00s)
=== RUN   TestTOTPValidationWithCurrentTime
--- PASS: TestTOTPValidationWithCurrentTime (0.00s)
=== RUN   TestBackupCodesGeneration
=== RUN   TestBackupCodesGeneration/valid_backup_codes_generation
=== RUN   TestBackupCodesGeneration/invalid_user_ID_should_fail
=== RUN   TestBackupCodesGeneration/invalid_count_should_fail
=== RUN   TestBackupCodesGeneration/too_many_codes_should_fail
--- PASS: TestBackupCodesGeneration (0.00s)
    --- PASS: TestBackupCodesGeneration/valid_backup_codes_generation (0.00s)
    --- PASS: TestBackupCodesGeneration/invalid_user_ID_should_fail (0.00s)
    --- PASS: TestBackupCodesGeneration/invalid_count_should_fail (0.00s)
    --- PASS: TestBackupCodesGeneration/too_many_codes_should_fail (0.00s)
=== RUN   TestBackupCodeValidation
=== RUN   TestBackupCodeValidation/valid_backup_code_should_work
=== RUN   TestBackupCodeValidation/invalid_backup_code_should_fail
=== RUN   TestBackupCodeValidation/empty_code_should_fail
=== RUN   TestBackupCodeValidation/wrong_user_ID_should_fail
--- PASS: TestBackupCodeValidation (0.00s)
    --- PASS: TestBackupCodeValidation/valid_backup_code_should_work (0.00s)
    --- PASS: TestBackupCodeValidation/invalid_backup_code_should_fail (0.00s)
    --- PASS: TestBackupCodeValidation/empty_code_should_fail (0.00s)
    --- PASS: TestBackupCodeValidation/wrong_user_ID_should_fail (0.00s)
=== RUN   TestMFASetupWorkflow
--- PASS: TestMFASetupWorkflow (0.00s)
=== RUN   TestRateLimiterBasicFunctionality
--- PASS: TestRateLimiterBasicFunctionality (0.00s)
=== RUN   TestRateLimiterTokenRefill
    rate_limiting_test.go:16: Skipping timing-sensitive test - set INTEGRATION_TEST=true to run
--- SKIP: TestRateLimiterTokenRefill (0.00s)
=== RUN   TestRateLimiterMultipleClients
--- PASS: TestRateLimiterMultipleClients (0.00s)
=== RUN   TestProgressiveRateLimiting
--- PASS: TestProgressiveRateLimiting (0.00s)
=== RUN   TestBruteForceProtection
--- PASS: TestBruteForceProtection (0.00s)
=== RUN   TestBruteForceProtectionReset
    rate_limiting_test.go:16: Skipping timing-sensitive test - set INTEGRATION_TEST=true to run
--- SKIP: TestBruteForceProtectionReset (0.00s)
=== RUN   TestBruteForceProtectionSuccessfulReset
--- PASS: TestBruteForceProtectionSuccessfulReset (0.00s)
=== RUN   TestDDoSProtection
--- PASS: TestDDoSProtection (0.00s)
=== RUN   TestDDoSProtectionSuspiciousActivity
--- PASS: TestDDoSProtectionSuspiciousActivity (0.62s)
=== RUN   TestIntrusionDetection
=== RUN   TestIntrusionDetection/normal_input
=== RUN   TestIntrusionDetection/SQL_injection_attempt
=== RUN   TestIntrusionDetection/XSS_attempt
=== RUN   TestIntrusionDetection/JavaScript_injection
--- PASS: TestIntrusionDetection (0.00s)
    --- PASS: TestIntrusionDetection/normal_input (0.00s)
    --- PASS: TestIntrusionDetection/SQL_injection_attempt (0.00s)
    --- PASS: TestIntrusionDetection/XSS_attempt (0.00s)
    --- PASS: TestIntrusionDetection/JavaScript_injection (0.00s)
=== RUN   TestIntrusionDetectionBlocking
    rate_limiting_test.go:16: Skipping timing-sensitive test - set INTEGRATION_TEST=true to run
--- SKIP: TestIntrusionDetectionBlocking (0.00s)
=== RUN   TestSecurityServiceIntegration
    security_service_test.go:15: Skipping integration test - set INTEGRATION_TEST=true to run
--- SKIP: TestSecurityServiceIntegration (0.00s)
=== RUN   TestSecurityServiceConfiguration
--- PASS: TestSecurityServiceConfiguration (0.00s)
=== RUN   TestSecurityServiceErrorHandling
=== RUN   TestSecurityServiceErrorHandling/invalid_mfa_setup
=== RUN   TestSecurityServiceErrorHandling/invalid_wallet_creation
=== RUN   TestSecurityServiceErrorHandling/invalid_compliance_data
--- PASS: TestSecurityServiceErrorHandling (0.00s)
    --- PASS: TestSecurityServiceErrorHandling/invalid_mfa_setup (0.00s)
    --- PASS: TestSecurityServiceErrorHandling/invalid_wallet_creation (0.00s)
    --- PASS: TestSecurityServiceErrorHandling/invalid_compliance_data (0.00s)
PASS
ok  	github.com/chimera-pool/chimera-pool-core/internal/security	2.217s
=== RUN   TestBatchProcessor_BasicProcessing
--- PASS: TestBatchProcessor_BasicProcessing (0.01s)
=== RUN   TestBatchProcessor_HighThroughput
    batch_processor_test.go:87: Processed 10000 shares in 32.1944ms
    batch_processor_test.go:88: Throughput: 310613.03 shares/sec
    batch_processor_test.go:89: Success: 9800, Errors: 200
    batch_processor_test.go:90: Stats: Received=10000, Processed=10000, Valid=9800, Invalid=200, Dropped=0
--- PASS: TestBatchProcessor_HighThroughput (0.03s)
=== RUN   TestBatchProcessor_RateLimiting
    batch_processor_test.go:142: Rate limited: Dropped=100, Processed=100
--- PASS: TestBatchProcessor_RateLimiting (0.00s)
=== RUN   TestBatchProcessor_QueueFull
    batch_processor_test.go:179: Queue test: Received=50, Processed=50, QueueHighWater=40
--- PASS: TestBatchProcessor_QueueFull (0.05s)
=== RUN   TestBatchProcessor_GracefulShutdown
    batch_processor_test.go:217: After shutdown: Received=100, Processed=100, Dropped=0
--- PASS: TestBatchProcessor_GracefulShutdown (0.02s)
=== RUN   TestBatchProcessor_Statistics
--- PASS: TestBatchProcessor_Statistics (0.31s)
=== RUN   TestBatchProcessor_DefaultConfig
--- PASS: TestBatchProcessor_DefaultConfig (0.00s)
=== RUN   TestNewShareProcessor
--- PASS: TestNewShareProcessor (0.00s)
=== RUN   TestDefaultBlake2SHasher_Hash
--- PASS: TestDefaultBlake2SHasher_Hash (0.00s)
=== RUN   TestDefaultBlake2SHasher_Hash_Empty
--- PASS: TestDefaultBlake2SHasher_Hash_Empty (0.00s)
=== RUN   TestDefaultBlake2SHasher_Hash_Large
--- PASS: TestDefaultBlake2SHasher_Hash_Large (0.00s)
=== RUN   TestDefaultBlake2SHasher_Hash_Deterministic
--- PASS: TestDefaultBlake2SHasher_Hash_Deterministic (0.00s)
=== RUN   TestDefaultBlake2SHasher_Hash_Different
--- PASS: TestDefaultBlake2SHasher_Hash_Different (0.00s)
=== RUN   TestDefaultBlake2SHasher_Verify_EmptyTarget
--- PASS: TestDefaultBlake2SHasher_Verify_EmptyTarget (0.00s)
=== RUN   TestDefaultBlake2SHasher_Verify_LargeTarget
--- PASS: TestDefaultBlake2SHasher_Verify_LargeTarget (0.00s)
=== RUN   TestDefaultBlake2SHasher_Verify_SmallTarget
--- PASS: TestDefaultBlake2SHasher_Verify_SmallTarget (0.00s)
=== RUN   TestShareProcessor_ValidateShare_NilShare
--- PASS: TestShareProcessor_ValidateShare_NilShare (0.00s)
=== RUN   TestShareProcessor_ValidateShare_EmptyJobID
--- PASS: TestShareProcessor_ValidateShare_EmptyJobID (0.00s)
=== RUN   TestShareProcessor_ValidateShare_JobIDTooLong
--- PASS: TestShareProcessor_ValidateShare_JobIDTooLong (0.00s)
=== RUN   TestShareProcessor_ValidateShare_EmptyNonce
--- PASS: TestShareProcessor_ValidateShare_EmptyNonce (0.00s)
=== RUN   TestShareProcessor_ValidateShare_NonceTooLong
--- PASS: TestShareProcessor_ValidateShare_NonceTooLong (0.00s)
=== RUN   TestShareProcessor_ValidateShare_ZeroDifficulty
--- PASS: TestShareProcessor_ValidateShare_ZeroDifficulty (0.00s)
=== RUN   TestShareProcessor_ValidateShare_NegativeDifficulty
--- PASS: TestShareProcessor_ValidateShare_NegativeDifficulty (0.00s)
=== RUN   TestShareProcessor_ValidateShare_ZeroMinerID
--- PASS: TestShareProcessor_ValidateShare_ZeroMinerID (0.00s)
=== RUN   TestShareProcessor_ValidateShare_ZeroUserID
--- PASS: TestShareProcessor_ValidateShare_ZeroUserID (0.00s)
=== RUN   TestShareProcessor_ValidateShare_InvalidHexNonce
--- PASS: TestShareProcessor_ValidateShare_InvalidHexNonce (0.00s)
=== RUN   TestShareProcessor_ValidateShare_NonceWith0xPrefix
--- PASS: TestShareProcessor_ValidateShare_NonceWith0xPrefix (0.00s)
=== RUN   TestShareProcessor_ProcessShare_Valid
--- PASS: TestShareProcessor_ProcessShare_Valid (0.00s)
=== RUN   TestShareProcessor_ProcessShare_Invalid
--- PASS: TestShareProcessor_ProcessShare_Invalid (0.00s)
=== RUN   TestShareProcessor_GetStatistics_Initial
--- PASS: TestShareProcessor_GetStatistics_Initial (0.00s)
=== RUN   TestShareProcessor_GetStatistics_AfterProcessing
--- PASS: TestShareProcessor_GetStatistics_AfterProcessing (0.00s)
=== RUN   TestShareProcessor_GetMinerStatistics_NonExistent
--- PASS: TestShareProcessor_GetMinerStatistics_NonExistent (0.00s)
=== RUN   TestShareProcessor_GetMinerStatistics_AfterProcessing
--- PASS: TestShareProcessor_GetMinerStatistics_AfterProcessing (0.00s)
=== RUN   TestShareProcessor_DifficultyToTarget_Zero
--- PASS: TestShareProcessor_DifficultyToTarget_Zero (0.00s)
=== RUN   TestShareProcessor_DifficultyToTarget_Negative
--- PASS: TestShareProcessor_DifficultyToTarget_Negative (0.00s)
=== RUN   TestShareProcessor_DifficultyToTarget_VeryHigh
--- PASS: TestShareProcessor_DifficultyToTarget_VeryHigh (0.00s)
=== RUN   TestShareProcessor_DifficultyToTarget_One
--- PASS: TestShareProcessor_DifficultyToTarget_One (0.00s)
=== RUN   TestShareProcessor_DifficultyToTarget_Medium
--- PASS: TestShareProcessor_DifficultyToTarget_Medium (0.00s)
=== RUN   TestShareProcessor_DifficultyToTarget_High
--- PASS: TestShareProcessor_DifficultyToTarget_High (0.00s)
=== RUN   TestShareProcessor_ParseNonce_Valid
--- PASS: TestShareProcessor_ParseNonce_Valid (0.00s)
=== RUN   TestShareProcessor_ParseNonce_With0xPrefix
--- PASS: TestShareProcessor_ParseNonce_With0xPrefix (0.00s)
=== RUN   TestShareProcessor_ParseNonce_Empty
--- PASS: TestShareProcessor_ParseNonce_Empty (0.00s)
=== RUN   TestShareProcessor_ParseNonce_Invalid
--- PASS: TestShareProcessor_ParseNonce_Invalid (0.00s)
=== RUN   TestShareProcessor_ParseNonce_Uppercase
--- PASS: TestShareProcessor_ParseNonce_Uppercase (0.00s)
=== RUN   TestShareProcessor_ParseNonce_Lowercase
--- PASS: TestShareProcessor_ParseNonce_Lowercase (0.00s)
=== RUN   TestShareProcessor_ParseNonce_MaxValue
--- PASS: TestShareProcessor_ParseNonce_MaxValue (0.00s)
=== RUN   TestShareProcessor_Concurrent
--- PASS: TestShareProcessor_Concurrent (0.00s)
=== RUN   TestShareProcessing_E2E
=== RUN   TestShareProcessing_E2E/complete_mining_workflow
=== RUN   TestShareProcessing_E2E/multiple_miners_workflow
=== RUN   TestShareProcessing_E2E/invalid_share_workflow
=== RUN   TestShareProcessing_E2E/blake2s_hash_consistency
=== RUN   TestShareProcessing_E2E/realistic_load_test
    e2e_test.go:207: Processed 100 shares in 524┬╡s (190839.69 shares/second)
    e2e_test.go:217: Valid shares: 0/100 (0.0%)
--- PASS: TestShareProcessing_E2E (0.00s)
    --- PASS: TestShareProcessing_E2E/complete_mining_workflow (0.00s)
    --- PASS: TestShareProcessing_E2E/multiple_miners_workflow (0.00s)
    --- PASS: TestShareProcessing_E2E/invalid_share_workflow (0.00s)
    --- PASS: TestShareProcessing_E2E/blake2s_hash_consistency (0.00s)
    --- PASS: TestShareProcessing_E2E/realistic_load_test (0.00s)
=== RUN   TestShareProcessor_ValidateShare
=== RUN   TestShareProcessor_ValidateShare/valid_share_easy_target
=== RUN   TestShareProcessor_ValidateShare/invalid_share_impossible_target
=== RUN   TestShareProcessor_ValidateShare/invalid_share_empty_nonce
=== RUN   TestShareProcessor_ValidateShare/invalid_share_empty_job_id
--- PASS: TestShareProcessor_ValidateShare (0.00s)
    --- PASS: TestShareProcessor_ValidateShare/valid_share_easy_target (0.00s)
    --- PASS: TestShareProcessor_ValidateShare/invalid_share_impossible_target (0.00s)
    --- PASS: TestShareProcessor_ValidateShare/invalid_share_empty_nonce (0.00s)
    --- PASS: TestShareProcessor_ValidateShare/invalid_share_empty_job_id (0.00s)
=== RUN   TestShareProcessor_ProcessShare
--- PASS: TestShareProcessor_ProcessShare (0.00s)
=== RUN   TestShareProcessor_TrackStatistics
--- PASS: TestShareProcessor_TrackStatistics (0.00s)
=== RUN   TestShareProcessor_PerformanceUnderLoad
    share_processor_test.go:203: Processed 1000 shares in 517.3┬╡s (1933114.25 shares/second)
--- PASS: TestShareProcessor_PerformanceUnderLoad (0.00s)
=== RUN   TestShareProcessor_ConcurrentProcessing
--- PASS: TestShareProcessor_ConcurrentProcessing (0.00s)
=== RUN   TestShareProcessor_Blake2SIntegration
--- PASS: TestShareProcessor_Blake2SIntegration (0.00s)
PASS
ok  	github.com/chimera-pool/chimera-pool-core/internal/shares	(cached)
=== RUN   TestBlockchainSimulator_ConfigurableParameters
    blockchain_simulator_test.go:14: Skipping blockchain simulation test - set SIMULATION_TEST=true to run
--- SKIP: TestBlockchainSimulator_ConfigurableParameters (0.00s)
=== RUN   TestBlockchainSimulator_MainnetCharacteristics
    blockchain_simulator_test.go:14: Skipping blockchain simulation test - set SIMULATION_TEST=true to run
--- SKIP: TestBlockchainSimulator_MainnetCharacteristics (0.00s)
=== RUN   TestBlockchainSimulator_TestnetRapidTesting
    blockchain_simulator_test.go:14: Skipping blockchain simulation test - set SIMULATION_TEST=true to run
--- SKIP: TestBlockchainSimulator_TestnetRapidTesting (0.00s)
=== RUN   TestBlockchainSimulator_CustomDifficultyCurves
    blockchain_simulator_test.go:14: Skipping blockchain simulation test - set SIMULATION_TEST=true to run
--- SKIP: TestBlockchainSimulator_CustomDifficultyCurves (0.00s)
=== RUN   TestBlockchainSimulator_RealisticNetworkConditions
    blockchain_simulator_test.go:14: Skipping blockchain simulation test - set SIMULATION_TEST=true to run
--- SKIP: TestBlockchainSimulator_RealisticNetworkConditions (0.00s)
=== RUN   TestBlockchainSimulator_StateManagement
    blockchain_simulator_test.go:14: Skipping blockchain simulation test - set SIMULATION_TEST=true to run
--- SKIP: TestBlockchainSimulator_StateManagement (0.00s)
=== RUN   TestBlockchainSimulator_ConcurrentMining
    blockchain_simulator_test.go:14: Skipping blockchain simulation test - set SIMULATION_TEST=true to run
--- SKIP: TestBlockchainSimulator_ConcurrentMining (0.00s)
=== RUN   TestBlockchainSimulator_MineBlock_NoSkip
    blockchain_simulator_test.go:222: Skipping in short mode
--- SKIP: TestBlockchainSimulator_MineBlock_NoSkip (0.00s)
=== RUN   TestBlockchainSimulator_ValidateChain_NoSkip
    blockchain_simulator_test.go:256: Skipping in short mode
--- SKIP: TestBlockchainSimulator_ValidateChain_NoSkip (0.00s)
=== RUN   TestBlockchainSimulator_DifficultyAdjustment_NoSkip
    blockchain_simulator_test.go:284: Skipping in short mode
--- SKIP: TestBlockchainSimulator_DifficultyAdjustment_NoSkip (0.00s)
=== RUN   TestBlockchainSimulator_NetworkLatency_NoSkip
    blockchain_simulator_test.go:313: Skipping in short mode
--- SKIP: TestBlockchainSimulator_NetworkLatency_NoSkip (0.00s)
=== RUN   TestBlockchainSimulator_CustomDifficultyCurve_NoSkip
    blockchain_simulator_test.go:351: Skipping in short mode
--- SKIP: TestBlockchainSimulator_CustomDifficultyCurve_NoSkip (0.00s)
=== RUN   TestBlockchainSimulator_TransactionGeneration_NoSkip
    blockchain_simulator_test.go:395: Skipping in short mode
--- SKIP: TestBlockchainSimulator_TransactionGeneration_NoSkip (0.00s)
=== RUN   TestBlockchainSimulator_GenesisBlock_NoSkip
--- PASS: TestBlockchainSimulator_GenesisBlock_NoSkip (0.00s)
=== RUN   TestBlockchainSimulator_StartStop_NoSkip
--- PASS: TestBlockchainSimulator_StartStop_NoSkip (0.00s)
=== RUN   TestBlockchainSimulator_MineNextBlock_Quick
--- PASS: TestBlockchainSimulator_MineNextBlock_Quick (8.72s)
=== RUN   TestBlockchainSimulator_MineBlockWithMiner
--- PASS: TestBlockchainSimulator_MineBlockWithMiner (5.27s)
=== RUN   TestBlockchainSimulator_ValidateChain_Genesis
--- PASS: TestBlockchainSimulator_ValidateChain_Genesis (0.00s)
=== RUN   TestBlockchainSimulator_GetGenesisBlock_Detailed
--- PASS: TestBlockchainSimulator_GetGenesisBlock_Detailed (0.00s)
=== RUN   TestClusterSimulator_CoordinatedMiners
    cluster_simulator_test.go:15: Skipping simulation test - set SIMULATION_TEST=true to run
--- SKIP: TestClusterSimulator_CoordinatedMiners (0.00s)
=== RUN   TestClusterSimulator_LargeScaleFarms
    cluster_simulator_test.go:15: Skipping simulation test - set SIMULATION_TEST=true to run
--- SKIP: TestClusterSimulator_LargeScaleFarms (0.00s)
=== RUN   TestClusterSimulator_GeographicalDistribution
    cluster_simulator_test.go:15: Skipping simulation test - set SIMULATION_TEST=true to run
--- SKIP: TestClusterSimulator_GeographicalDistribution (0.00s)
=== RUN   TestClusterSimulator_FailoverTesting
    cluster_simulator_test.go:15: Skipping simulation test - set SIMULATION_TEST=true to run
--- SKIP: TestClusterSimulator_FailoverTesting (0.00s)
=== RUN   TestClusterSimulator_PoolMigration
    cluster_simulator_test.go:15: Skipping simulation test - set SIMULATION_TEST=true to run
--- SKIP: TestClusterSimulator_PoolMigration (0.00s)
=== RUN   TestClusterSimulator_Coordination
    cluster_simulator_test.go:15: Skipping simulation test - set SIMULATION_TEST=true to run
--- SKIP: TestClusterSimulator_Coordination (0.00s)
=== RUN   TestClusterSimulator_PerformanceMonitoring
    cluster_simulator_test.go:15: Skipping simulation test - set SIMULATION_TEST=true to run
--- SKIP: TestClusterSimulator_PerformanceMonitoring (0.00s)
=== RUN   TestClusterSimulator_BasicOperations_NoSkip
--- PASS: TestClusterSimulator_BasicOperations_NoSkip (0.00s)
=== RUN   TestClusterSimulator_StartStop_NoSkip
--- PASS: TestClusterSimulator_StartStop_NoSkip (0.00s)
=== RUN   TestClusterSimulator_AddRemoveCluster_NoSkip
--- PASS: TestClusterSimulator_AddRemoveCluster_NoSkip (0.00s)
=== RUN   TestClusterSimulator_FailureSimulation_NoSkip
    cluster_simulator_test.go:521: Skipping in short mode
--- SKIP: TestClusterSimulator_FailureSimulation_NoSkip (0.00s)
=== RUN   TestClusterSimulator_Migration_NoSkip
--- PASS: TestClusterSimulator_Migration_NoSkip (0.00s)
=== RUN   TestClusterSimulator_Statistics_NoSkip
--- PASS: TestClusterSimulator_Statistics_NoSkip (0.00s)
=== RUN   TestClusterSimulator_Coordination_NoSkip
--- PASS: TestClusterSimulator_Coordination_NoSkip (0.00s)
=== RUN   TestClusterSimulator_ConfigUpdate_NoSkip
--- PASS: TestClusterSimulator_ConfigUpdate_NoSkip (0.00s)
=== RUN   TestNewSimulationManager_Success
--- PASS: TestNewSimulationManager_Success (0.00s)
=== RUN   TestNewSimulationManager_WithFullConfig
--- PASS: TestNewSimulationManager_WithFullConfig (0.00s)
=== RUN   TestSimulationManager_StartStop
--- PASS: TestSimulationManager_StartStop (0.00s)
=== RUN   TestSimulationManager_GetSimulators
--- PASS: TestSimulationManager_GetSimulators (0.00s)
=== RUN   TestSimulationManager_GetOverallStats
--- PASS: TestSimulationManager_GetOverallStats (0.10s)
=== RUN   TestSimulationManager_GetPerformanceMetrics
--- PASS: TestSimulationManager_GetPerformanceMetrics (0.00s)
=== RUN   TestSimulationManager_TriggerStressTest_NotRunning
--- PASS: TestSimulationManager_TriggerStressTest_NotRunning (0.00s)
=== RUN   TestSimulationManager_TriggerStressTest_Running
--- PASS: TestSimulationManager_TriggerStressTest_Running (0.00s)
=== RUN   TestSimulationManager_TriggerFailureScenario_NotRunning
--- PASS: TestSimulationManager_TriggerFailureScenario_NotRunning (0.00s)
=== RUN   TestSimulationManager_TriggerFailureScenario_Unknown
--- PASS: TestSimulationManager_TriggerFailureScenario_Unknown (0.00s)
=== RUN   TestSimulationManager_TriggerFailureScenario_MassDropout
--- PASS: TestSimulationManager_TriggerFailureScenario_MassDropout (0.00s)
=== RUN   TestSimulationManager_TriggerFailureScenario_MaliciousAttack
--- PASS: TestSimulationManager_TriggerFailureScenario_MaliciousAttack (0.00s)
=== RUN   TestSimulationManager_ExecutePoolMigration_NotRunning
--- PASS: TestSimulationManager_ExecutePoolMigration_NotRunning (0.00s)
=== RUN   TestSimulationManager_ValidateSimulationAccuracy_NoHashRate
--- PASS: TestSimulationManager_ValidateSimulationAccuracy_NoHashRate (0.00s)
=== RUN   TestNewBlockchainSimulator_Success
--- PASS: TestNewBlockchainSimulator_Success (0.00s)
=== RUN   TestBlockchainSimulator_GetNetworkType
--- PASS: TestBlockchainSimulator_GetNetworkType (0.00s)
=== RUN   TestBlockchainSimulator_GetBlockTime
--- PASS: TestBlockchainSimulator_GetBlockTime (0.00s)
=== RUN   TestBlockchainSimulator_GetCurrentDifficulty
--- PASS: TestBlockchainSimulator_GetCurrentDifficulty (0.00s)
=== RUN   TestBlockchainSimulator_GetGenesisBlock
--- PASS: TestBlockchainSimulator_GetGenesisBlock (0.00s)
=== RUN   TestBlockchainSimulator_StartStop
--- PASS: TestBlockchainSimulator_StartStop (0.00s)
=== RUN   TestBlockchainSimulator_ValidateChain
--- PASS: TestBlockchainSimulator_ValidateChain (0.00s)
=== RUN   TestBlockchainSimulator_GetNetworkStats
--- PASS: TestBlockchainSimulator_GetNetworkStats (0.00s)
=== RUN   TestBlockchainSimulator_WithTransactionLoad
--- PASS: TestBlockchainSimulator_WithTransactionLoad (0.00s)
=== RUN   TestNewVirtualMinerSimulator_Success
--- PASS: TestNewVirtualMinerSimulator_Success (0.00s)
=== RUN   TestVirtualMinerSimulator_GetMiners
--- PASS: TestVirtualMinerSimulator_GetMiners (0.00s)
=== RUN   TestVirtualMinerSimulator_GetMiner
--- PASS: TestVirtualMinerSimulator_GetMiner (0.00s)
=== RUN   TestVirtualMinerSimulator_AddRemoveMiner
--- PASS: TestVirtualMinerSimulator_AddRemoveMiner (0.00s)
=== RUN   TestVirtualMinerSimulator_StartStop
--- PASS: TestVirtualMinerSimulator_StartStop (0.00s)
=== RUN   TestVirtualMinerSimulator_GetSimulationStats
--- PASS: TestVirtualMinerSimulator_GetSimulationStats (0.00s)
=== RUN   TestVirtualMinerSimulator_GetMinerStats
--- PASS: TestVirtualMinerSimulator_GetMinerStats (0.00s)
=== RUN   TestVirtualMinerSimulator_TriggerBurst
--- PASS: TestVirtualMinerSimulator_TriggerBurst (0.00s)
=== RUN   TestVirtualMinerSimulator_TriggerDrop
--- PASS: TestVirtualMinerSimulator_TriggerDrop (0.10s)
=== RUN   TestVirtualMinerSimulator_TriggerAttack
--- PASS: TestVirtualMinerSimulator_TriggerAttack (0.10s)
=== RUN   TestVirtualMinerSimulator_TriggerAttack_NonMalicious
--- PASS: TestVirtualMinerSimulator_TriggerAttack_NonMalicious (0.00s)
=== RUN   TestVirtualMinerSimulator_UpdateMinerHashRate
--- PASS: TestVirtualMinerSimulator_UpdateMinerHashRate (0.00s)
=== RUN   TestVirtualMinerSimulator_UpdateNetworkConditions
--- PASS: TestVirtualMinerSimulator_UpdateNetworkConditions (0.00s)
=== RUN   TestVirtualMinerSimulator_WithMinerTypes
--- PASS: TestVirtualMinerSimulator_WithMinerTypes (0.00s)
=== RUN   TestSimulationManager_ConcurrentAccess
--- PASS: TestSimulationManager_ConcurrentAccess (0.00s)
=== RUN   TestVirtualMinerSimulator_ConcurrentAccess
--- PASS: TestVirtualMinerSimulator_ConcurrentAccess (0.00s)
=== RUN   TestNewClusterSimulator_Success
--- PASS: TestNewClusterSimulator_Success (0.00s)
=== RUN   TestNewClusterSimulator_EmptyConfig
--- PASS: TestNewClusterSimulator_EmptyConfig (0.00s)
=== RUN   TestClusterSimulator_GetClusters
--- PASS: TestClusterSimulator_GetClusters (0.00s)
=== RUN   TestClusterSimulator_GetCluster
--- PASS: TestClusterSimulator_GetCluster (0.00s)
=== RUN   TestClusterSimulator_StartStop
--- PASS: TestClusterSimulator_StartStop (0.00s)
=== RUN   TestClusterSimulator_AddRemoveCluster
--- PASS: TestClusterSimulator_AddRemoveCluster (0.00s)
=== RUN   TestClusterSimulator_TriggerClusterFailure
--- PASS: TestClusterSimulator_TriggerClusterFailure (0.00s)
=== RUN   TestClusterSimulator_TriggerNetworkPartition
--- PASS: TestClusterSimulator_TriggerNetworkPartition (0.00s)
=== RUN   TestClusterSimulator_TriggerCoordinatorFailure
--- PASS: TestClusterSimulator_TriggerCoordinatorFailure (0.00s)
=== RUN   TestClusterSimulator_GetOverallStats
--- PASS: TestClusterSimulator_GetOverallStats (0.00s)
=== RUN   TestClusterSimulator_GetClusterStats
--- PASS: TestClusterSimulator_GetClusterStats (0.00s)
=== RUN   TestClusterSimulator_ExecuteMigration
--- PASS: TestClusterSimulator_ExecuteMigration (0.00s)
=== RUN   TestClusterSimulator_GetMigrationProgress
--- PASS: TestClusterSimulator_GetMigrationProgress (0.00s)
=== RUN   TestClusterSimulator_ElectLeader
--- PASS: TestClusterSimulator_ElectLeader (0.00s)
=== RUN   TestClusterSimulator_SynchronizeClusters
--- PASS: TestClusterSimulator_SynchronizeClusters (0.00s)
=== RUN   TestClusterSimulator_GetGeographicalDistribution
--- PASS: TestClusterSimulator_GetGeographicalDistribution (0.00s)
=== RUN   TestBlockchainSimulator_WithNetworkLatency
--- PASS: TestBlockchainSimulator_WithNetworkLatency (0.00s)
=== RUN   TestBlockchainSimulator_WithDifficultyCurve
--- PASS: TestBlockchainSimulator_WithDifficultyCurve (0.00s)
=== RUN   TestBlockchainConfig_Structure
--- PASS: TestBlockchainConfig_Structure (0.00s)
=== RUN   TestClusterConfig_Structure
--- PASS: TestClusterConfig_Structure (0.00s)
=== RUN   TestMigrationPlan_Structure
--- PASS: TestMigrationPlan_Structure (0.00s)
=== RUN   TestMigrationProgress_Structure
--- PASS: TestMigrationProgress_Structure (0.00s)
=== RUN   TestClusterStatistics_Structure
--- PASS: TestClusterStatistics_Structure (0.00s)
=== RUN   TestBlock_Structure
--- PASS: TestBlock_Structure (0.00s)
=== RUN   TestTransaction_Structure
--- PASS: TestTransaction_Structure (0.00s)
=== RUN   TestNetworkStats_Structure
--- PASS: TestNetworkStats_Structure (0.00s)
=== RUN   TestSimulationEnvironment_E2E_Complete
    simulation_e2e_test.go:15: Skipping simulation E2E test - set SIMULATION_TEST=true to run
--- SKIP: TestSimulationEnvironment_E2E_Complete (0.00s)
=== RUN   TestSimulationEnvironment_E2E_HighLoad
    simulation_e2e_test.go:15: Skipping simulation E2E test - set SIMULATION_TEST=true to run
--- SKIP: TestSimulationEnvironment_E2E_HighLoad (0.00s)
=== RUN   TestSimulationEnvironment_E2E_FailureRecovery
    simulation_e2e_test.go:15: Skipping simulation E2E test - set SIMULATION_TEST=true to run
--- SKIP: TestSimulationEnvironment_E2E_FailureRecovery (0.00s)
=== RUN   TestSimulationEnvironment_E2E_PoolMigration
    simulation_e2e_test.go:15: Skipping simulation E2E test - set SIMULATION_TEST=true to run
--- SKIP: TestSimulationEnvironment_E2E_PoolMigration (0.00s)
=== RUN   TestSimulationEnvironment_E2E_GeographicalDistribution
    simulation_e2e_test.go:15: Skipping simulation E2E test - set SIMULATION_TEST=true to run
--- SKIP: TestSimulationEnvironment_E2E_GeographicalDistribution (0.00s)
=== RUN   TestSimulationEnvironment_E2E_PerformanceValidation
    simulation_e2e_test.go:15: Skipping simulation E2E test - set SIMULATION_TEST=true to run
--- SKIP: TestSimulationEnvironment_E2E_PerformanceValidation (0.00s)
=== RUN   TestSimulationManager_Comprehensive
    simulation_manager_test.go:14: Skipping simulation manager test - set SIMULATION_TEST=true to run
--- SKIP: TestSimulationManager_Comprehensive (0.00s)
=== RUN   TestSimulationManager_StressTesting
    simulation_manager_test.go:14: Skipping simulation manager test - set SIMULATION_TEST=true to run
--- SKIP: TestSimulationManager_StressTesting (0.00s)
=== RUN   TestSimulationManager_FailureScenarios
    simulation_manager_test.go:14: Skipping simulation manager test - set SIMULATION_TEST=true to run
--- SKIP: TestSimulationManager_FailureScenarios (0.00s)
=== RUN   TestSimulationManager_PoolMigration
    simulation_manager_test.go:14: Skipping simulation manager test - set SIMULATION_TEST=true to run
--- SKIP: TestSimulationManager_PoolMigration (0.00s)
=== RUN   TestSimulationManager_AccuracyValidation
    simulation_manager_test.go:14: Skipping simulation manager test - set SIMULATION_TEST=true to run
--- SKIP: TestSimulationManager_AccuracyValidation (0.00s)
=== RUN   TestSimulationManager_PerformanceMetrics
--- PASS: TestSimulationManager_PerformanceMetrics (3.00s)
=== RUN   TestSimulationManager_ComponentIntegration
--- PASS: TestSimulationManager_ComponentIntegration (4.00s)
=== RUN   TestSimulationManager_NewManager_Success
--- PASS: TestSimulationManager_NewManager_Success (0.00s)
=== RUN   TestSimulationManager_GetSubSimulators
--- PASS: TestSimulationManager_GetSubSimulators (0.00s)
=== RUN   TestSimulationManager_IsRunning_InitialState
--- PASS: TestSimulationManager_IsRunning_InitialState (0.00s)
=== RUN   TestSimulationManager_StartStop_Quick
    simulation_manager_test.go:547: Skipping in short mode
--- SKIP: TestSimulationManager_StartStop_Quick (0.00s)
=== RUN   TestSimulationManager_GetOverallStats_BeforeStart
--- PASS: TestSimulationManager_GetOverallStats_BeforeStart (0.00s)
=== RUN   TestSimulationManager_GetPerformanceMetrics_BeforeStart
--- PASS: TestSimulationManager_GetPerformanceMetrics_BeforeStart (0.00s)
=== RUN   TestVirtualMinerSimulator_ConfigurableHashrates
    virtual_miner_test.go:14: Skipping virtual miner test - set SIMULATION_TEST=true to run
--- SKIP: TestVirtualMinerSimulator_ConfigurableHashrates (0.00s)
=== RUN   TestVirtualMinerSimulator_RealisticPerformanceProfiles
    virtual_miner_test.go:14: Skipping virtual miner test - set SIMULATION_TEST=true to run
--- SKIP: TestVirtualMinerSimulator_RealisticPerformanceProfiles (0.00s)
=== RUN   TestVirtualMinerSimulator_NetworkConditions
    virtual_miner_test.go:14: Skipping virtual miner test - set SIMULATION_TEST=true to run
--- SKIP: TestVirtualMinerSimulator_NetworkConditions (0.00s)
=== RUN   TestVirtualMinerSimulator_BurstScenariosAndDrops
    virtual_miner_test.go:14: Skipping virtual miner test - set SIMULATION_TEST=true to run
--- SKIP: TestVirtualMinerSimulator_BurstScenariosAndDrops (0.00s)
=== RUN   TestVirtualMinerSimulator_MaliciousBehavior
    virtual_miner_test.go:14: Skipping virtual miner test - set SIMULATION_TEST=true to run
--- SKIP: TestVirtualMinerSimulator_MaliciousBehavior (0.00s)
=== RUN   TestVirtualMinerSimulator_MinerLifecycle
--- PASS: TestVirtualMinerSimulator_MinerLifecycle (0.00s)
=== RUN   TestVirtualMinerSimulator_Statistics
--- PASS: TestVirtualMinerSimulator_Statistics (0.50s)
=== RUN   TestVirtualMiner_IndividualBehavior
--- PASS: TestVirtualMiner_IndividualBehavior (0.00s)
PASS
ok  	github.com/chimera-pool/chimera-pool-core/internal/simulation	22.444s
=== RUN   TestRealtimeStatsService_GetCurrentPoolSnapshot
=== RUN   TestRealtimeStatsService_GetCurrentPoolSnapshot/returns_pool_snapshot_with_real_data
=== RUN   TestRealtimeStatsService_GetCurrentPoolSnapshot/handles_zero_shares_gracefully
--- PASS: TestRealtimeStatsService_GetCurrentPoolSnapshot (0.00s)
    --- PASS: TestRealtimeStatsService_GetCurrentPoolSnapshot/returns_pool_snapshot_with_real_data (0.00s)
    --- PASS: TestRealtimeStatsService_GetCurrentPoolSnapshot/handles_zero_shares_gracefully (0.00s)
=== RUN   TestRealtimeStatsService_GetHashrateHistory
=== RUN   TestRealtimeStatsService_GetHashrateHistory/returns_hashrate_history_buckets
=== RUN   TestRealtimeStatsService_GetHashrateHistory/handles_empty_result
--- PASS: TestRealtimeStatsService_GetHashrateHistory (0.00s)
    --- PASS: TestRealtimeStatsService_GetHashrateHistory/returns_hashrate_history_buckets (0.00s)
    --- PASS: TestRealtimeStatsService_GetHashrateHistory/handles_empty_result (0.00s)
=== RUN   TestRealtimeStatsService_GetSharesHistory
=== RUN   TestRealtimeStatsService_GetSharesHistory/returns_shares_history_with_acceptance_rate
--- PASS: TestRealtimeStatsService_GetSharesHistory (0.00s)
    --- PASS: TestRealtimeStatsService_GetSharesHistory/returns_shares_history_with_acceptance_rate (0.00s)
=== RUN   TestRealtimeStatsService_GetMinersHistory
=== RUN   TestRealtimeStatsService_GetMinersHistory/returns_miner_activity_history
--- PASS: TestRealtimeStatsService_GetMinersHistory (0.00s)
    --- PASS: TestRealtimeStatsService_GetMinersHistory/returns_miner_activity_history (0.00s)
=== RUN   TestRealtimeStatsService_CalculateHashrateFromShares
=== RUN   TestRealtimeStatsService_CalculateHashrateFromShares/calculates_hashrate_from_difficulty_sum
--- PASS: TestRealtimeStatsService_CalculateHashrateFromShares (0.00s)
    --- PASS: TestRealtimeStatsService_CalculateHashrateFromShares/calculates_hashrate_from_difficulty_sum (0.00s)
=== RUN   TestIRealtimeStatsReader_Interface
--- PASS: TestIRealtimeStatsReader_Interface (0.00s)
=== RUN   TestIStatsAggregator_Interface
--- PASS: TestIStatsAggregator_Interface (0.00s)
=== RUN   TestPoolSnapshot_Fields
--- PASS: TestPoolSnapshot_Fields (0.00s)
=== RUN   TestParseTimeRange
=== RUN   TestParseTimeRange/1_hour
=== RUN   TestParseTimeRange/6_hours
=== RUN   TestParseTimeRange/24_hours
=== RUN   TestParseTimeRange/7_days
=== RUN   TestParseTimeRange/30_days
=== RUN   TestParseTimeRange/3_months
=== RUN   TestParseTimeRange/6_months
=== RUN   TestParseTimeRange/1_year
=== RUN   TestParseTimeRange/all_time
=== RUN   TestParseTimeRange/default_for_invalid
=== RUN   TestParseTimeRange/empty_string
--- PASS: TestParseTimeRange (0.00s)
    --- PASS: TestParseTimeRange/1_hour (0.00s)
    --- PASS: TestParseTimeRange/6_hours (0.00s)
    --- PASS: TestParseTimeRange/24_hours (0.00s)
    --- PASS: TestParseTimeRange/7_days (0.00s)
    --- PASS: TestParseTimeRange/30_days (0.00s)
    --- PASS: TestParseTimeRange/3_months (0.00s)
    --- PASS: TestParseTimeRange/6_months (0.00s)
    --- PASS: TestParseTimeRange/1_year (0.00s)
    --- PASS: TestParseTimeRange/all_time (0.00s)
    --- PASS: TestParseTimeRange/default_for_invalid (0.00s)
    --- PASS: TestParseTimeRange/empty_string (0.00s)
=== RUN   TestGetInterval
=== RUN   TestGetInterval/1_hour_-_5_min_intervals
=== RUN   TestGetInterval/6_hours_-_15_min_intervals
=== RUN   TestGetInterval/24_hours_-_1_hour_intervals
=== RUN   TestGetInterval/7_days_-_6_hour_intervals
=== RUN   TestGetInterval/30_days_-_1_day_intervals
=== RUN   TestGetInterval/3_months_-_1_day_intervals
=== RUN   TestGetInterval/6_months_-_1_week_intervals
=== RUN   TestGetInterval/1_year_-_1_week_intervals
=== RUN   TestGetInterval/10_years_-_1_month_intervals
--- PASS: TestGetInterval (0.00s)
    --- PASS: TestGetInterval/1_hour_-_5_min_intervals (0.00s)
    --- PASS: TestGetInterval/6_hours_-_15_min_intervals (0.00s)
    --- PASS: TestGetInterval/24_hours_-_1_hour_intervals (0.00s)
    --- PASS: TestGetInterval/7_days_-_6_hour_intervals (0.00s)
    --- PASS: TestGetInterval/30_days_-_1_day_intervals (0.00s)
    --- PASS: TestGetInterval/3_months_-_1_day_intervals (0.00s)
    --- PASS: TestGetInterval/6_months_-_1_week_intervals (0.00s)
    --- PASS: TestGetInterval/1_year_-_1_week_intervals (0.00s)
    --- PASS: TestGetInterval/10_years_-_1_month_intervals (0.00s)
=== RUN   TestGetPostgresInterval
=== RUN   TestGetPostgresInterval/1_hour
=== RUN   TestGetPostgresInterval/6_hours
=== RUN   TestGetPostgresInterval/24_hours
=== RUN   TestGetPostgresInterval/7_days
=== RUN   TestGetPostgresInterval/30_days
=== RUN   TestGetPostgresInterval/3_months
=== RUN   TestGetPostgresInterval/6_months
=== RUN   TestGetPostgresInterval/1_year
=== RUN   TestGetPostgresInterval/all_time
--- PASS: TestGetPostgresInterval (0.00s)
    --- PASS: TestGetPostgresInterval/1_hour (0.00s)
    --- PASS: TestGetPostgresInterval/6_hours (0.00s)
    --- PASS: TestGetPostgresInterval/24_hours (0.00s)
    --- PASS: TestGetPostgresInterval/7_days (0.00s)
    --- PASS: TestGetPostgresInterval/30_days (0.00s)
    --- PASS: TestGetPostgresInterval/3_months (0.00s)
    --- PASS: TestGetPostgresInterval/6_months (0.00s)
    --- PASS: TestGetPostgresInterval/1_year (0.00s)
    --- PASS: TestGetPostgresInterval/all_time (0.00s)
=== RUN   TestGetDateTrunc
=== RUN   TestGetDateTrunc/1_hour_-_minute
=== RUN   TestGetDateTrunc/6_hours_-_hour
=== RUN   TestGetDateTrunc/24_hours_-_hour
=== RUN   TestGetDateTrunc/7_days_-_hour
=== RUN   TestGetDateTrunc/30_days_-_day
=== RUN   TestGetDateTrunc/3_months_-_day
=== RUN   TestGetDateTrunc/6_months_-_week
=== RUN   TestGetDateTrunc/1_year_-_week
=== RUN   TestGetDateTrunc/all_time_-_month
--- PASS: TestGetDateTrunc (0.00s)
    --- PASS: TestGetDateTrunc/1_hour_-_minute (0.00s)
    --- PASS: TestGetDateTrunc/6_hours_-_hour (0.00s)
    --- PASS: TestGetDateTrunc/24_hours_-_hour (0.00s)
    --- PASS: TestGetDateTrunc/7_days_-_hour (0.00s)
    --- PASS: TestGetDateTrunc/30_days_-_day (0.00s)
    --- PASS: TestGetDateTrunc/3_months_-_day (0.00s)
    --- PASS: TestGetDateTrunc/6_months_-_week (0.00s)
    --- PASS: TestGetDateTrunc/1_year_-_week (0.00s)
    --- PASS: TestGetDateTrunc/all_time_-_month (0.00s)
=== RUN   TestGetExpectedDataPoints
=== RUN   TestGetExpectedDataPoints/1_hour
=== RUN   TestGetExpectedDataPoints/6_hours
=== RUN   TestGetExpectedDataPoints/24_hours
=== RUN   TestGetExpectedDataPoints/7_days
=== RUN   TestGetExpectedDataPoints/30_days
=== RUN   TestGetExpectedDataPoints/3_months
=== RUN   TestGetExpectedDataPoints/6_months
=== RUN   TestGetExpectedDataPoints/1_year
=== RUN   TestGetExpectedDataPoints/all_time
--- PASS: TestGetExpectedDataPoints (0.00s)
    --- PASS: TestGetExpectedDataPoints/1_hour (0.00s)
    --- PASS: TestGetExpectedDataPoints/6_hours (0.00s)
    --- PASS: TestGetExpectedDataPoints/24_hours (0.00s)
    --- PASS: TestGetExpectedDataPoints/7_days (0.00s)
    --- PASS: TestGetExpectedDataPoints/30_days (0.00s)
    --- PASS: TestGetExpectedDataPoints/3_months (0.00s)
    --- PASS: TestGetExpectedDataPoints/6_months (0.00s)
    --- PASS: TestGetExpectedDataPoints/1_year (0.00s)
    --- PASS: TestGetExpectedDataPoints/all_time (0.00s)
PASS
ok  	github.com/chimera-pool/chimera-pool-core/internal/stats	(cached)
=== RUN   TestParseWorkerName
=== RUN   TestParseWorkerName/username.worker_format
=== RUN   TestParseWorkerName/username_only
=== RUN   TestParseWorkerName/username_with_multiple_dots
=== RUN   TestParseWorkerName/empty_string
=== RUN   TestParseWorkerName/single_character_username
=== RUN   TestParseWorkerName/whitespace_only
=== RUN   TestParseWorkerName/username_with_trailing_dot
--- PASS: TestParseWorkerName (0.00s)
    --- PASS: TestParseWorkerName/username.worker_format (0.00s)
    --- PASS: TestParseWorkerName/username_only (0.00s)
    --- PASS: TestParseWorkerName/username_with_multiple_dots (0.00s)
    --- PASS: TestParseWorkerName/empty_string (0.00s)
    --- PASS: TestParseWorkerName/single_character_username (0.00s)
    --- PASS: TestParseWorkerName/whitespace_only (0.00s)
    --- PASS: TestParseWorkerName/username_with_trailing_dot (0.00s)
=== RUN   TestMockAuthenticator_Authenticate
=== RUN   TestMockAuthenticator_Authenticate/AllowAll_mode_accepts_any_worker
=== RUN   TestMockAuthenticator_Authenticate/strict_mode_rejects_unknown_user
=== RUN   TestMockAuthenticator_Authenticate/strict_mode_accepts_known_user
=== RUN   TestMockAuthenticator_Authenticate/returns_existing_miner_info
=== RUN   TestMockAuthenticator_Authenticate/rejects_invalid_worker_name
--- PASS: TestMockAuthenticator_Authenticate (0.00s)
    --- PASS: TestMockAuthenticator_Authenticate/AllowAll_mode_accepts_any_worker (0.00s)
    --- PASS: TestMockAuthenticator_Authenticate/strict_mode_rejects_unknown_user (0.00s)
    --- PASS: TestMockAuthenticator_Authenticate/strict_mode_accepts_known_user (0.00s)
    --- PASS: TestMockAuthenticator_Authenticate/returns_existing_miner_info (0.00s)
    --- PASS: TestMockAuthenticator_Authenticate/rejects_invalid_worker_name (0.00s)
=== RUN   TestDefaultMinerPermissions
--- PASS: TestDefaultMinerPermissions (0.00s)
=== RUN   TestCachedAuthenticator_Config
--- PASS: TestCachedAuthenticator_Config (0.00s)
=== RUN   TestCachedAuthenticator_Authenticate
=== RUN   TestCachedAuthenticator_Authenticate/authenticates_valid_user_and_creates_miner
=== RUN   TestCachedAuthenticator_Authenticate/returns_existing_miner_without_registration
=== RUN   TestCachedAuthenticator_Authenticate/rejects_disabled_user
=== RUN   TestCachedAuthenticator_Authenticate/caches_user_lookups
--- PASS: TestCachedAuthenticator_Authenticate (0.00s)
    --- PASS: TestCachedAuthenticator_Authenticate/authenticates_valid_user_and_creates_miner (0.00s)
    --- PASS: TestCachedAuthenticator_Authenticate/returns_existing_miner_without_registration (0.00s)
    --- PASS: TestCachedAuthenticator_Authenticate/rejects_disabled_user (0.00s)
    --- PASS: TestCachedAuthenticator_Authenticate/caches_user_lookups (0.00s)
=== RUN   TestAuthResult_Permissions
--- PASS: TestAuthResult_Permissions (0.00s)
=== RUN   TestConnectionManager_AddRemove
--- PASS: TestConnectionManager_AddRemove (0.00s)
=== RUN   TestConnectionManager_IPLimit
--- PASS: TestConnectionManager_IPLimit (0.00s)
=== RUN   TestConnectionManager_MaxConnections
--- PASS: TestConnectionManager_MaxConnections (0.00s)
=== RUN   TestConnectionManager_Broadcast
--- PASS: TestConnectionManager_Broadcast (0.01s)
=== RUN   TestConnectionManager_BroadcastToAuthorized
--- PASS: TestConnectionManager_BroadcastToAuthorized (0.01s)
=== RUN   TestConnectionManager_Sharding
--- PASS: TestConnectionManager_Sharding (0.00s)
=== RUN   TestConnectionManager_ConcurrentAccess
    connection_manager_test.go:309: Added: 10000, Removed: 2500, Active: 7732
--- PASS: TestConnectionManager_ConcurrentAccess (0.02s)
=== RUN   TestConnectionManager_Callbacks
--- PASS: TestConnectionManager_Callbacks (0.00s)
=== RUN   TestConnectionManager_GetConnectionsByIP
--- PASS: TestConnectionManager_GetConnectionsByIP (0.00s)
=== RUN   TestConnectionManager_UpdateActivity
--- PASS: TestConnectionManager_UpdateActivity (0.01s)
=== RUN   TestConnectionManager_ForEach
--- PASS: TestConnectionManager_ForEach (0.00s)
=== RUN   TestIntegration_ProtocolDetection_V1vsV2
--- PASS: TestIntegration_ProtocolDetection_V1vsV2 (0.00s)
=== RUN   TestIntegration_RouterWithMixedProtocols
--- PASS: TestIntegration_RouterWithMixedProtocols (0.00s)
=== RUN   TestIntegration_V2MessageFlow
--- PASS: TestIntegration_V2MessageFlow (0.00s)
=== RUN   TestIntegration_NoiseSecureChannel
--- PASS: TestIntegration_NoiseSecureChannel (0.00s)
=== RUN   TestIntegration_BlockDAGMining
--- PASS: TestIntegration_BlockDAGMining (0.01s)
=== RUN   TestIntegration_DifficultyTargetConversion
--- PASS: TestIntegration_DifficultyTargetConversion (0.00s)
=== RUN   TestIntegration_HardwareClassification
--- PASS: TestIntegration_HardwareClassification (0.00s)
=== RUN   TestIntegration_VardiffAdjustment
--- PASS: TestIntegration_VardiffAdjustment (0.05s)
=== RUN   TestIntegration_V2MinerFullFlow
--- PASS: TestIntegration_V2MinerFullFlow (0.00s)
=== RUN   TestIntegration_MixedMinerPool
--- PASS: TestIntegration_MixedMinerPool (0.00s)
=== RUN   TestHardwareClass_String
=== RUN   TestHardwareClass_String/CPU_returns_cpu
=== RUN   TestHardwareClass_String/GPU_returns_gpu
=== RUN   TestHardwareClass_String/FPGA_returns_fpga
=== RUN   TestHardwareClass_String/ASIC_returns_asic
=== RUN   TestHardwareClass_String/Official_ASIC_returns_official_asic
=== RUN   TestHardwareClass_String/Unknown_returns_unknown
--- PASS: TestHardwareClass_String (0.00s)
    --- PASS: TestHardwareClass_String/CPU_returns_cpu (0.00s)
    --- PASS: TestHardwareClass_String/GPU_returns_gpu (0.00s)
    --- PASS: TestHardwareClass_String/FPGA_returns_fpga (0.00s)
    --- PASS: TestHardwareClass_String/ASIC_returns_asic (0.00s)
    --- PASS: TestHardwareClass_String/Official_ASIC_returns_official_asic (0.00s)
    --- PASS: TestHardwareClass_String/Unknown_returns_unknown (0.00s)
=== RUN   TestHardwareClass_BaseDifficulty
=== RUN   TestHardwareClass_BaseDifficulty/CPU_has_low_difficulty
=== RUN   TestHardwareClass_BaseDifficulty/GPU_has_medium_difficulty
=== RUN   TestHardwareClass_BaseDifficulty/FPGA_has_high_difficulty
=== RUN   TestHardwareClass_BaseDifficulty/ASIC_has_very_high_difficulty
=== RUN   TestHardwareClass_BaseDifficulty/Official_ASIC_has_highest_difficulty
--- PASS: TestHardwareClass_BaseDifficulty (0.00s)
    --- PASS: TestHardwareClass_BaseDifficulty/CPU_has_low_difficulty (0.00s)
    --- PASS: TestHardwareClass_BaseDifficulty/GPU_has_medium_difficulty (0.00s)
    --- PASS: TestHardwareClass_BaseDifficulty/FPGA_has_high_difficulty (0.00s)
    --- PASS: TestHardwareClass_BaseDifficulty/ASIC_has_very_high_difficulty (0.00s)
    --- PASS: TestHardwareClass_BaseDifficulty/Official_ASIC_has_highest_difficulty (0.00s)
=== RUN   TestHardwareClass_DifficultyOrdering
--- PASS: TestHardwareClass_DifficultyOrdering (0.00s)
=== RUN   TestMessageType_V1Types
--- PASS: TestMessageType_V1Types (0.00s)
=== RUN   TestMessageType_V2Types
--- PASS: TestMessageType_V2Types (0.00s)
=== RUN   TestMessageType_AllUnique
--- PASS: TestMessageType_AllUnique (0.00s)
=== RUN   TestProtocolVersion_Values
--- PASS: TestProtocolVersion_Values (0.00s)
=== RUN   TestShare_Creation
--- PASS: TestShare_Creation (0.00s)
=== RUN   TestJob_Creation
--- PASS: TestJob_Creation (0.00s)
=== RUN   TestShareSubmitter_Interface
--- PASS: TestShareSubmitter_Interface (0.00s)
=== RUN   TestShareValidator_Interface
--- PASS: TestShareValidator_Interface (0.00s)
=== RUN   TestJobDistributor_Interface
--- PASS: TestJobDistributor_Interface (0.00s)
=== RUN   TestDifficultyManager_Interface
--- PASS: TestDifficultyManager_Interface (0.00s)
=== RUN   TestVardiffManager_Interface
--- PASS: TestVardiffManager_Interface (0.00s)
=== RUN   TestMinerSession_Interface
--- PASS: TestMinerSession_Interface (0.00s)
=== RUN   TestSessionManager_Interface
--- PASS: TestSessionManager_Interface (0.00s)
=== RUN   TestProtocolHandler_Interface
--- PASS: TestProtocolHandler_Interface (0.00s)
=== RUN   TestProtocolDetector_Interface
--- PASS: TestProtocolDetector_Interface (0.00s)
=== RUN   TestProtocolRouter_Interface
--- PASS: TestProtocolRouter_Interface (0.00s)
=== RUN   TestHardwareClassifier_Interface
--- PASS: TestHardwareClassifier_Interface (0.00s)
=== RUN   TestHashAlgorithm_Interface
--- PASS: TestHashAlgorithm_Interface (0.00s)
=== RUN   TestMockShareSubmitter_AcceptsValidShare
--- PASS: TestMockShareSubmitter_AcceptsValidShare (0.00s)
=== RUN   TestMockShareSubmitter_RejectsInvalidShare
--- PASS: TestMockShareSubmitter_RejectsInvalidShare (0.00s)
=== RUN   TestMockDifficultyManager_GetAndSet
--- PASS: TestMockDifficultyManager_GetAndSet (0.00s)
=== RUN   TestMockDifficultyManager_DefaultDifficulty
--- PASS: TestMockDifficultyManager_DefaultDifficulty (0.00s)
=== RUN   TestMockVardiffManager_AdjustsDifficulty
--- PASS: TestMockVardiffManager_AdjustsDifficulty (0.00s)
=== RUN   TestMockJobDistributor_SubscribeToJobs
--- PASS: TestMockJobDistributor_SubscribeToJobs (0.00s)
=== RUN   TestMockProtocolDetector_DetectsV1
--- PASS: TestMockProtocolDetector_DetectsV1 (0.00s)
=== RUN   TestMockProtocolDetector_DetectsV2
--- PASS: TestMockProtocolDetector_DetectsV2 (0.00s)
=== RUN   TestMockHardwareClassifier_ClassifiesByHashrate
=== RUN   TestMockHardwareClassifier_ClassifiesByHashrate/Low_hashrate_is_CPU
=== RUN   TestMockHardwareClassifier_ClassifiesByHashrate/Medium_hashrate_is_GPU
=== RUN   TestMockHardwareClassifier_ClassifiesByHashrate/High_hashrate_is_FPGA
=== RUN   TestMockHardwareClassifier_ClassifiesByHashrate/Very_high_hashrate_is_ASIC
=== RUN   TestMockHardwareClassifier_ClassifiesByHashrate/Highest_hashrate_is_Official_ASIC
--- PASS: TestMockHardwareClassifier_ClassifiesByHashrate (0.00s)
    --- PASS: TestMockHardwareClassifier_ClassifiesByHashrate/Low_hashrate_is_CPU (0.00s)
    --- PASS: TestMockHardwareClassifier_ClassifiesByHashrate/Medium_hashrate_is_GPU (0.00s)
    --- PASS: TestMockHardwareClassifier_ClassifiesByHashrate/High_hashrate_is_FPGA (0.00s)
    --- PASS: TestMockHardwareClassifier_ClassifiesByHashrate/Very_high_hashrate_is_ASIC (0.00s)
    --- PASS: TestMockHardwareClassifier_ClassifiesByHashrate/Highest_hashrate_is_Official_ASIC (0.00s)
=== RUN   TestMockMinerSession_Authorization
--- PASS: TestMockMinerSession_Authorization (0.00s)
=== RUN   TestMockMinerSession_ShareTracking
--- PASS: TestMockMinerSession_ShareTracking (0.00s)
=== RUN   TestE2EStratumProtocolCompliance
    mock_miner_test.go:154: Skipping E2E test in short mode
--- SKIP: TestE2EStratumProtocolCompliance (0.00s)
=== RUN   TestE2EMultipleMinersConcurrent
    mock_miner_test.go:200: Skipping E2E test in short mode
--- SKIP: TestE2EMultipleMinersConcurrent (0.00s)
=== RUN   TestE2EProtocolErrorHandling
    mock_miner_test.go:259: Skipping E2E test in short mode
--- SKIP: TestE2EProtocolErrorHandling (0.00s)
=== RUN   TestE2EConnectionCleanup
    mock_miner_test.go:302: Skipping E2E test in short mode
--- SKIP: TestE2EConnectionCleanup (0.00s)
=== RUN   TestE2ESubmitWithoutAuthorization
    mock_miner_test.go:336: Skipping E2E test in short mode
--- SKIP: TestE2ESubmitWithoutAuthorization (0.00s)
=== RUN   TestPoolCoordinator_Creation
--- PASS: TestPoolCoordinator_Creation (0.00s)
=== RUN   TestPoolCoordinator_StartStop
--- PASS: TestPoolCoordinator_StartStop (0.05s)
=== RUN   TestPoolCoordinator_Stats
--- PASS: TestPoolCoordinator_Stats (0.00s)
=== RUN   TestPoolCoordinator_SetCurrentJob
--- PASS: TestPoolCoordinator_SetCurrentJob (0.00s)
=== RUN   TestPoolCoordinator_ClientConnection
--- PASS: TestPoolCoordinator_ClientConnection (0.05s)
=== RUN   TestPoolCoordinator_SubscribeFlow
--- PASS: TestPoolCoordinator_SubscribeFlow (0.00s)
=== RUN   TestPoolCoordinator_AuthorizeFlow
--- PASS: TestPoolCoordinator_AuthorizeFlow (0.05s)
=== RUN   TestPoolCoordinator_SubmitShare
    pool_coordinator_test.go:232: Skipping in short mode - network test
--- SKIP: TestPoolCoordinator_SubmitShare (0.00s)
=== RUN   TestPoolCoordinator_ConcurrentConnections
--- PASS: TestPoolCoordinator_ConcurrentConnections (0.21s)
=== RUN   TestPoolCoordinator_ShareLatencyTracking
--- PASS: TestPoolCoordinator_ShareLatencyTracking (0.00s)
=== RUN   TestDefaultPoolCoordinatorConfig
--- PASS: TestDefaultPoolCoordinatorConfig (0.00s)
=== RUN   TestStratumV1ProtocolCompliance
    protocol_validation_test.go:15: Skipping integration test in short mode
--- SKIP: TestStratumV1ProtocolCompliance (0.00s)
=== RUN   TestMessageFormatCompliance
=== RUN   TestMessageFormatCompliance/Request_Message_Format
=== RUN   TestMessageFormatCompliance/Response_Message_Format
=== RUN   TestMessageFormatCompliance/Notification_Message_Format
--- PASS: TestMessageFormatCompliance (0.00s)
    --- PASS: TestMessageFormatCompliance/Request_Message_Format (0.00s)
    --- PASS: TestMessageFormatCompliance/Response_Message_Format (0.00s)
    --- PASS: TestMessageFormatCompliance/Notification_Message_Format (0.00s)
=== RUN   TestConcurrentConnectionHandling
    protocol_validation_test.go:210: Skipping integration test in short mode
--- SKIP: TestConcurrentConnectionHandling (0.00s)
=== RUN   TestResourceCleanup
    protocol_validation_test.go:287: Skipping integration test in short mode
--- SKIP: TestResourceCleanup (0.00s)
=== RUN   TestStratumMessageParsing
=== RUN   TestStratumMessageParsing/valid_subscribe_message
=== RUN   TestStratumMessageParsing/valid_authorize_message
=== RUN   TestStratumMessageParsing/valid_submit_message
=== RUN   TestStratumMessageParsing/invalid_json
=== RUN   TestStratumMessageParsing/missing_required_fields
--- PASS: TestStratumMessageParsing (0.00s)
    --- PASS: TestStratumMessageParsing/valid_subscribe_message (0.00s)
    --- PASS: TestStratumMessageParsing/valid_authorize_message (0.00s)
    --- PASS: TestStratumMessageParsing/valid_submit_message (0.00s)
    --- PASS: TestStratumMessageParsing/invalid_json (0.00s)
    --- PASS: TestStratumMessageParsing/missing_required_fields (0.00s)
=== RUN   TestStratumResponseGeneration
=== RUN   TestStratumResponseGeneration/subscribe_response
=== RUN   TestStratumResponseGeneration/authorize_success_response
=== RUN   TestStratumResponseGeneration/error_response
--- PASS: TestStratumResponseGeneration (0.00s)
    --- PASS: TestStratumResponseGeneration/subscribe_response (0.00s)
    --- PASS: TestStratumResponseGeneration/authorize_success_response (0.00s)
    --- PASS: TestStratumResponseGeneration/error_response (0.00s)
=== RUN   TestStratumServerConnection
    stratum_test.go:132: Skipping integration test in short mode
--- SKIP: TestStratumServerConnection (0.00s)
=== RUN   TestStratumServerSubscribe
    stratum_test.go:169: Skipping integration test in short mode
--- SKIP: TestStratumServerSubscribe (0.00s)
=== RUN   TestStratumServerAuthorize
    stratum_test.go:210: Skipping integration test in short mode
--- SKIP: TestStratumServerAuthorize (0.00s)
=== RUN   TestStratumServerConcurrentConnections
    stratum_test.go:263: Skipping integration test in short mode
--- SKIP: TestStratumServerConcurrentConnections (0.00s)
=== RUN   TestStratumServerResourceCleanup
    stratum_test.go:321: Skipping integration test in short mode
--- SKIP: TestStratumServerResourceCleanup (0.00s)
=== RUN   TestStratumServerConnectionCount
    stratum_test.go:371: Skipping integration test in short mode
--- SKIP: TestStratumServerConnectionCount (0.00s)
=== RUN   TestStratumNotificationGeneration
=== RUN   TestStratumNotificationGeneration/Notify_Notification
=== RUN   TestStratumNotificationGeneration/Difficulty_Notification
--- PASS: TestStratumNotificationGeneration (0.00s)
    --- PASS: TestStratumNotificationGeneration/Notify_Notification (0.00s)
    --- PASS: TestStratumNotificationGeneration/Difficulty_Notification (0.00s)
=== RUN   TestNewSubscribeResponse
--- PASS: TestNewSubscribeResponse (0.00s)
=== RUN   TestNewAuthorizeResponse
=== RUN   TestNewAuthorizeResponse/Authorized
=== RUN   TestNewAuthorizeResponse/NotAuthorized
--- PASS: TestNewAuthorizeResponse (0.00s)
    --- PASS: TestNewAuthorizeResponse/Authorized (0.00s)
    --- PASS: TestNewAuthorizeResponse/NotAuthorized (0.00s)
=== RUN   TestNewSubmitResponse
=== RUN   TestNewSubmitResponse/Accepted
=== RUN   TestNewSubmitResponse/Rejected
--- PASS: TestNewSubmitResponse (0.00s)
    --- PASS: TestNewSubmitResponse/Accepted (0.00s)
    --- PASS: TestNewSubmitResponse/Rejected (0.00s)
=== RUN   TestNewErrorResponse
--- PASS: TestNewErrorResponse (0.00s)
=== RUN   TestParseStratumMessage_EdgeCases
=== RUN   TestParseStratumMessage_EdgeCases/EmptyParams
=== RUN   TestParseStratumMessage_EdgeCases/NullParams
=== RUN   TestParseStratumMessage_EdgeCases/NoParams
=== RUN   TestParseStratumMessage_EdgeCases/ZeroID
=== RUN   TestParseStratumMessage_EdgeCases/LargeID
=== RUN   TestParseStratumMessage_EdgeCases/EmptyMethod
=== RUN   TestParseStratumMessage_EdgeCases/ComplexParams
--- PASS: TestParseStratumMessage_EdgeCases (0.00s)
    --- PASS: TestParseStratumMessage_EdgeCases/EmptyParams (0.00s)
    --- PASS: TestParseStratumMessage_EdgeCases/NullParams (0.00s)
    --- PASS: TestParseStratumMessage_EdgeCases/NoParams (0.00s)
    --- PASS: TestParseStratumMessage_EdgeCases/ZeroID (0.00s)
    --- PASS: TestParseStratumMessage_EdgeCases/LargeID (0.00s)
    --- PASS: TestParseStratumMessage_EdgeCases/EmptyMethod (0.00s)
    --- PASS: TestParseStratumMessage_EdgeCases/ComplexParams (0.00s)
=== RUN   TestStratumServer_SetDifficulty
--- PASS: TestStratumServer_SetDifficulty (0.00s)
=== RUN   TestStratumServer_GetAddress
--- PASS: TestStratumServer_GetAddress (0.00s)
=== RUN   TestStratumServer_StartStop
    stratum_test.go:618: Skipping in short mode
--- SKIP: TestStratumServer_StartStop (0.00s)
=== RUN   TestStratumServer_MultipleConnections
    stratum_test.go:647: Skipping in short mode
--- SKIP: TestStratumServer_MultipleConnections (0.00s)
=== RUN   TestClientConnection_Fields
--- PASS: TestClientConnection_Fields (0.00s)
PASS
ok  	github.com/chimera-pool/chimera-pool-core/internal/stratum	(cached)
=== RUN   TestAlgorithmConstants
--- PASS: TestAlgorithmConstants (0.00s)
=== RUN   TestScrypyVariant_Name
--- PASS: TestScrypyVariant_Name (0.00s)
=== RUN   TestScrypyVariant_Hash
--- PASS: TestScrypyVariant_Hash (0.00s)
=== RUN   TestScrypyVariant_Hash_Deterministic
--- PASS: TestScrypyVariant_Hash_Deterministic (0.00s)
=== RUN   TestScrypyVariant_Hash_DifferentInputs
--- PASS: TestScrypyVariant_Hash_DifferentInputs (0.00s)
=== RUN   TestScrypyVariant_Hash_EmptyInput
--- PASS: TestScrypyVariant_Hash_EmptyInput (0.00s)
=== RUN   TestScrypyVariant_HashHeader
--- PASS: TestScrypyVariant_HashHeader (0.00s)
=== RUN   TestScrypyVariant_HashHeader_InvalidSize
--- PASS: TestScrypyVariant_HashHeader_InvalidSize (0.00s)
=== RUN   TestScrypyVariant_ValidateHash
=== RUN   TestScrypyVariant_ValidateHash/Hash_below_target_(valid)
=== RUN   TestScrypyVariant_ValidateHash/Hash_above_target_(invalid)
=== RUN   TestScrypyVariant_ValidateHash/Hash_equals_target_(valid)
--- PASS: TestScrypyVariant_ValidateHash (0.00s)
    --- PASS: TestScrypyVariant_ValidateHash/Hash_below_target_(valid) (0.00s)
    --- PASS: TestScrypyVariant_ValidateHash/Hash_above_target_(invalid) (0.00s)
    --- PASS: TestScrypyVariant_ValidateHash/Hash_equals_target_(valid) (0.00s)
=== RUN   TestScrypyVariant_ValidateHash_InvalidSizes
--- PASS: TestScrypyVariant_ValidateHash_InvalidSizes (0.00s)
=== RUN   TestScrypyVariant_ValidateWork
--- PASS: TestScrypyVariant_ValidateWork (0.00s)
=== RUN   TestDifficultyToTarget
=== RUN   TestDifficultyToTarget/#00
=== RUN   TestDifficultyToTarget/#01
=== RUN   TestDifficultyToTarget/#02
=== RUN   TestDifficultyToTarget/#03
--- PASS: TestDifficultyToTarget (0.00s)
    --- PASS: TestDifficultyToTarget/#00 (0.00s)
    --- PASS: TestDifficultyToTarget/#01 (0.00s)
    --- PASS: TestDifficultyToTarget/#02 (0.00s)
    --- PASS: TestDifficultyToTarget/#03 (0.00s)
=== RUN   TestDifficultyToTarget_Zero
--- PASS: TestDifficultyToTarget_Zero (0.00s)
=== RUN   TestTargetToDifficulty
--- PASS: TestTargetToDifficulty (0.00s)
=== RUN   TestTargetToDifficulty_InvalidSize
--- PASS: TestTargetToDifficulty_InvalidSize (0.00s)
=== RUN   TestTargetToDifficulty_ZeroTarget
--- PASS: TestTargetToDifficulty_ZeroTarget (0.00s)
=== RUN   TestCompactToTarget_And_TargetToCompact
--- PASS: TestCompactToTarget_And_TargetToCompact (0.00s)
=== RUN   TestNewBlockTemplate
--- PASS: TestNewBlockTemplate (0.00s)
=== RUN   TestBlockTemplate_SetBits
--- PASS: TestBlockTemplate_SetBits (0.00s)
=== RUN   TestBlockTemplate_BuildHeader
--- PASS: TestBlockTemplate_BuildHeader (0.00s)
=== RUN   TestBlockTemplate_BuildHeaderWithNonce
--- PASS: TestBlockTemplate_BuildHeaderWithNonce (0.00s)
=== RUN   TestNewShareValidator
--- PASS: TestNewShareValidator (0.00s)
=== RUN   TestShareValidator_ValidateShare
--- PASS: TestShareValidator_ValidateShare (0.00s)
=== RUN   TestShareValidator_ValidateShare_ShareOnly
--- PASS: TestShareValidator_ValidateShare_ShareOnly (0.00s)
=== RUN   TestShareValidator_QuickValidate
--- PASS: TestShareValidator_QuickValidate (0.00s)
=== RUN   TestComputeMerkleRoot_Empty
--- PASS: TestComputeMerkleRoot_Empty (0.00s)
=== RUN   TestComputeMerkleRoot_Single
--- PASS: TestComputeMerkleRoot_Single (0.00s)
=== RUN   TestComputeMerkleRoot_Multiple
--- PASS: TestComputeMerkleRoot_Multiple (0.00s)
=== RUN   TestComputeMerkleRoot_Deterministic
--- PASS: TestComputeMerkleRoot_Deterministic (0.00s)
=== RUN   TestReverseBytes
--- PASS: TestReverseBytes (0.00s)
=== RUN   TestReverseBytes_Empty
--- PASS: TestReverseBytes_Empty (0.00s)
=== RUN   TestReverseBytes_Single
--- PASS: TestReverseBytes_Single (0.00s)
=== RUN   TestCompareHashes
--- PASS: TestCompareHashes (0.00s)
PASS
ok  	github.com/chimera-pool/chimera-pool-core/internal/stratum/blockdag	(cached)
=== RUN   TestProtocolVersion_String
--- PASS: TestProtocolVersion_String (0.00s)
=== RUN   TestPeekableConn_Peek
--- PASS: TestPeekableConn_Peek (0.00s)
=== RUN   TestPeekableConn_PeekThenRead
--- PASS: TestPeekableConn_PeekThenRead (0.00s)
=== RUN   TestPeekableConn_ReadWithoutPeek
--- PASS: TestPeekableConn_ReadWithoutPeek (0.00s)
=== RUN   TestPeekableConn_PeekMoreThanAvailable
--- PASS: TestPeekableConn_PeekMoreThanAvailable (0.00s)
=== RUN   TestDetector_DetectV1_JSON
=== RUN   TestDetector_DetectV1_JSON/Standard_subscribe
=== RUN   TestDetector_DetectV1_JSON/With_spaces
=== RUN   TestDetector_DetectV1_JSON/Minified
--- PASS: TestDetector_DetectV1_JSON (0.00s)
    --- PASS: TestDetector_DetectV1_JSON/Standard_subscribe (0.00s)
    --- PASS: TestDetector_DetectV1_JSON/With_spaces (0.00s)
    --- PASS: TestDetector_DetectV1_JSON/Minified (0.00s)
=== RUN   TestDetector_DetectV2_Binary
=== RUN   TestDetector_DetectV2_Binary/SetupConnection_no_extensions
=== RUN   TestDetector_DetectV2_Binary/SetupConnection_with_version_rolling
=== RUN   TestDetector_DetectV2_Binary/NewMiningJob
--- PASS: TestDetector_DetectV2_Binary (0.00s)
    --- PASS: TestDetector_DetectV2_Binary/SetupConnection_no_extensions (0.00s)
    --- PASS: TestDetector_DetectV2_Binary/SetupConnection_with_version_rolling (0.00s)
    --- PASS: TestDetector_DetectV2_Binary/NewMiningJob (0.00s)
=== RUN   TestDetector_DetectFromBytes
=== RUN   TestDetector_DetectFromBytes/V1_JSON_start
=== RUN   TestDetector_DetectFromBytes/V2_binary_header
=== RUN   TestDetector_DetectFromBytes/Empty
=== RUN   TestDetector_DetectFromBytes/Random_binary
--- PASS: TestDetector_DetectFromBytes (0.00s)
    --- PASS: TestDetector_DetectFromBytes/V1_JSON_start (0.00s)
    --- PASS: TestDetector_DetectFromBytes/V2_binary_header (0.00s)
    --- PASS: TestDetector_DetectFromBytes/Empty (0.00s)
    --- PASS: TestDetector_DetectFromBytes/Random_binary (0.00s)
=== RUN   TestDetector_WithTimeout
--- PASS: TestDetector_WithTimeout (0.10s)
=== RUN   TestDetector_ConnectionClosed
--- PASS: TestDetector_ConnectionClosed (0.00s)
=== RUN   TestRouter_RegisterHandler
--- PASS: TestRouter_RegisterHandler (0.00s)
=== RUN   TestRouter_UnregisterHandler
--- PASS: TestRouter_UnregisterHandler (0.00s)
=== RUN   TestRouter_RouteV1
--- PASS: TestRouter_RouteV1 (0.00s)
=== RUN   TestRouter_RouteV2
--- PASS: TestRouter_RouteV2 (0.00s)
=== RUN   TestRouter_RouteMixed
--- PASS: TestRouter_RouteMixed (0.00s)
=== RUN   TestRouter_NoHandler
--- PASS: TestRouter_NoHandler (0.00s)
=== RUN   TestRouter_Close
--- PASS: TestRouter_Close (0.00s)
=== RUN   TestRouter_RouteAfterClose
--- PASS: TestRouter_RouteAfterClose (0.00s)
=== RUN   TestRouter_Metrics
--- PASS: TestRouter_Metrics (0.00s)
=== RUN   TestRouter_ConcurrentRouting
--- PASS: TestRouter_ConcurrentRouting (0.00s)
=== RUN   TestDetector_DetectAndInfo
--- PASS: TestDetector_DetectAndInfo (0.00s)
PASS
ok  	github.com/chimera-pool/chimera-pool-core/internal/stratum/detector	(cached)
=== RUN   TestHardwareClassConstants
--- PASS: TestHardwareClassConstants (0.00s)
=== RUN   TestDefaultDifficulties_Ordering
--- PASS: TestDefaultDifficulties_Ordering (0.00s)
=== RUN   TestHardwareClasses_BaseDifficulty
--- PASS: TestHardwareClasses_BaseDifficulty (0.00s)
=== RUN   TestNewHardwareClassifier
--- PASS: TestNewHardwareClassifier (0.00s)
=== RUN   TestHardwareClassifier_ClassifyByHashrate
=== RUN   TestHardwareClassifier_ClassifyByHashrate/Very_low_-_CPU
=== RUN   TestHardwareClassifier_ClassifyByHashrate/Low_-_CPU
=== RUN   TestHardwareClassifier_ClassifyByHashrate/Medium_-_GPU
=== RUN   TestHardwareClassifier_ClassifyByHashrate/High_-_FPGA
=== RUN   TestHardwareClassifier_ClassifyByHashrate/Very_High_-_ASIC_(X30)
=== RUN   TestHardwareClassifier_ClassifyByHashrate/Highest_-_Official_ASIC_(X100)
--- PASS: TestHardwareClassifier_ClassifyByHashrate (0.00s)
    --- PASS: TestHardwareClassifier_ClassifyByHashrate/Very_low_-_CPU (0.00s)
    --- PASS: TestHardwareClassifier_ClassifyByHashrate/Low_-_CPU (0.00s)
    --- PASS: TestHardwareClassifier_ClassifyByHashrate/Medium_-_GPU (0.00s)
    --- PASS: TestHardwareClassifier_ClassifyByHashrate/High_-_FPGA (0.00s)
    --- PASS: TestHardwareClassifier_ClassifyByHashrate/Very_High_-_ASIC_(X30) (0.00s)
    --- PASS: TestHardwareClassifier_ClassifyByHashrate/Highest_-_Official_ASIC_(X100) (0.00s)
=== RUN   TestHardwareClassifier_ClassifyByUserAgent
=== RUN   TestHardwareClassifier_ClassifyByUserAgent/BlockDAG-X100/1.0
=== RUN   TestHardwareClassifier_ClassifyByUserAgent/BDAG-X100_Miner
=== RUN   TestHardwareClassifier_ClassifyByUserAgent/BlockDAG-X30/1.0
=== RUN   TestHardwareClassifier_ClassifyByUserAgent/Antminer_S19
=== RUN   TestHardwareClassifier_ClassifyByUserAgent/FPGA_Miner_v2
=== RUN   TestHardwareClassifier_ClassifyByUserAgent/CUDA_Miner/1.0
=== RUN   TestHardwareClassifier_ClassifyByUserAgent/AMD_GPU_Miner
=== RUN   TestHardwareClassifier_ClassifyByUserAgent/cpuminer-multi/1.3
=== RUN   TestHardwareClassifier_ClassifyByUserAgent/Unknown_Miner
--- PASS: TestHardwareClassifier_ClassifyByUserAgent (0.00s)
    --- PASS: TestHardwareClassifier_ClassifyByUserAgent/BlockDAG-X100/1.0 (0.00s)
    --- PASS: TestHardwareClassifier_ClassifyByUserAgent/BDAG-X100_Miner (0.00s)
    --- PASS: TestHardwareClassifier_ClassifyByUserAgent/BlockDAG-X30/1.0 (0.00s)
    --- PASS: TestHardwareClassifier_ClassifyByUserAgent/Antminer_S19 (0.00s)
    --- PASS: TestHardwareClassifier_ClassifyByUserAgent/FPGA_Miner_v2 (0.00s)
    --- PASS: TestHardwareClassifier_ClassifyByUserAgent/CUDA_Miner/1.0 (0.00s)
    --- PASS: TestHardwareClassifier_ClassifyByUserAgent/AMD_GPU_Miner (0.00s)
    --- PASS: TestHardwareClassifier_ClassifyByUserAgent/cpuminer-multi/1.3 (0.00s)
    --- PASS: TestHardwareClassifier_ClassifyByUserAgent/Unknown_Miner (0.00s)
=== RUN   TestHardwareClassifier_ClassifyByCombined
--- PASS: TestHardwareClassifier_ClassifyByCombined (0.00s)
=== RUN   TestNewMinerState
--- PASS: TestNewMinerState (0.00s)
=== RUN   TestMinerState_RecordShare
--- PASS: TestMinerState_RecordShare (0.00s)
=== RUN   TestMinerState_ShareTimeTracking
--- PASS: TestMinerState_ShareTimeTracking (0.02s)
=== RUN   TestMinerState_GetCurrentDifficulty
--- PASS: TestMinerState_GetCurrentDifficulty (0.00s)
=== RUN   TestMinerState_SetDifficulty
--- PASS: TestMinerState_SetDifficulty (0.00s)
=== RUN   TestMinerState_GetStats
--- PASS: TestMinerState_GetStats (0.00s)
=== RUN   TestNewVardiffManager
--- PASS: TestNewVardiffManager (0.00s)
=== RUN   TestVardiffManager_RegisterMiner
--- PASS: TestVardiffManager_RegisterMiner (0.00s)
=== RUN   TestVardiffManager_GetMiner
--- PASS: TestVardiffManager_GetMiner (0.00s)
=== RUN   TestVardiffManager_GetOrCreateMiner
--- PASS: TestVardiffManager_GetOrCreateMiner (0.00s)
=== RUN   TestVardiffManager_RemoveMiner
--- PASS: TestVardiffManager_RemoveMiner (0.00s)
=== RUN   TestVardiffManager_RecordShare
--- PASS: TestVardiffManager_RecordShare (0.00s)
=== RUN   TestVardiffManager_GetDifficulty
--- PASS: TestVardiffManager_GetDifficulty (0.00s)
=== RUN   TestVardiffManager_SetDifficulty
--- PASS: TestVardiffManager_SetDifficulty (0.00s)
=== RUN   TestVardiffManager_GetMinerCount
--- PASS: TestVardiffManager_GetMinerCount (0.00s)
=== RUN   TestVardiffManager_GetAllStats
--- PASS: TestVardiffManager_GetAllStats (0.00s)
=== RUN   TestVardiffManager_GetPoolHashrate
--- PASS: TestVardiffManager_GetPoolHashrate (0.00s)
=== RUN   TestVardiffManager_ReclassifyMiner
--- PASS: TestVardiffManager_ReclassifyMiner (0.00s)
=== RUN   TestVardiffManager_AdjustmentTooFast
--- PASS: TestVardiffManager_AdjustmentTooFast (0.00s)
=== RUN   TestVardiffManager_AdjustmentTooSlow
--- PASS: TestVardiffManager_AdjustmentTooSlow (0.00s)
=== RUN   TestCalculateExpectedDifficulty
--- PASS: TestCalculateExpectedDifficulty (0.00s)
=== RUN   TestCalculateExpectedDifficulty_EdgeCases
--- PASS: TestCalculateExpectedDifficulty_EdgeCases (0.00s)
=== RUN   TestCalculateHashrateFromDifficulty
--- PASS: TestCalculateHashrateFromDifficulty (0.00s)
=== RUN   TestContainsAny
--- PASS: TestContainsAny (0.00s)
=== RUN   TestContainsIgnoreCase
--- PASS: TestContainsIgnoreCase (0.00s)
PASS
ok  	github.com/chimera-pool/chimera-pool-core/internal/stratum/difficulty	(cached)
=== RUN   TestCalculateHashrate
=== RUN   TestCalculateHashrate/basic_calculation
=== RUN   TestCalculateHashrate/low_difficulty_high_share_rate
=== RUN   TestCalculateHashrate/high_difficulty_low_share_rate
=== RUN   TestCalculateHashrate/zero_shares
=== RUN   TestCalculateHashrate/zero_duration
--- PASS: TestCalculateHashrate (0.00s)
    --- PASS: TestCalculateHashrate/basic_calculation (0.00s)
    --- PASS: TestCalculateHashrate/low_difficulty_high_share_rate (0.00s)
    --- PASS: TestCalculateHashrate/high_difficulty_low_share_rate (0.00s)
    --- PASS: TestCalculateHashrate/zero_shares (0.00s)
    --- PASS: TestCalculateHashrate/zero_duration (0.00s)
=== RUN   TestFormatHashrate
=== RUN   TestFormatHashrate/0.00_H/s
=== RUN   TestFormatHashrate/500.00_H/s
=== RUN   TestFormatHashrate/1.50_KH/s
=== RUN   TestFormatHashrate/1.50_MH/s
=== RUN   TestFormatHashrate/1.50_GH/s
=== RUN   TestFormatHashrate/1.50_TH/s
=== RUN   TestFormatHashrate/1.50_PH/s
--- PASS: TestFormatHashrate (0.00s)
    --- PASS: TestFormatHashrate/0.00_H/s (0.00s)
    --- PASS: TestFormatHashrate/500.00_H/s (0.00s)
    --- PASS: TestFormatHashrate/1.50_KH/s (0.00s)
    --- PASS: TestFormatHashrate/1.50_MH/s (0.00s)
    --- PASS: TestFormatHashrate/1.50_GH/s (0.00s)
    --- PASS: TestFormatHashrate/1.50_TH/s (0.00s)
    --- PASS: TestFormatHashrate/1.50_PH/s (0.00s)
=== RUN   TestHashrateWindow
--- PASS: TestHashrateWindow (0.00s)
=== RUN   TestHashrateWindowExpiry
--- PASS: TestHashrateWindowExpiry (0.00s)
=== RUN   TestHashrateWindowConcurrent
--- PASS: TestHashrateWindowConcurrent (0.09s)
PASS
ok  	github.com/chimera-pool/chimera-pool-core/internal/stratum/hashrate	(cached)
=== RUN   TestConfig_Validate
=== RUN   TestConfig_Validate/valid_config
=== RUN   TestConfig_Validate/invalid_-_zero_interval
=== RUN   TestConfig_Validate/invalid_-_negative_max_missed
--- PASS: TestConfig_Validate (0.00s)
    --- PASS: TestConfig_Validate/valid_config (0.00s)
    --- PASS: TestConfig_Validate/invalid_-_zero_interval (0.00s)
    --- PASS: TestConfig_Validate/invalid_-_negative_max_missed (0.00s)
=== RUN   TestManager_Start
--- PASS: TestManager_Start (0.00s)
=== RUN   TestManager_Stop
--- PASS: TestManager_Stop (0.00s)
=== RUN   TestManager_RecordActivity
--- PASS: TestManager_RecordActivity (0.15s)
=== RUN   TestManager_Timeout
--- PASS: TestManager_Timeout (0.10s)
=== RUN   TestManager_Concurrent
--- PASS: TestManager_Concurrent (0.05s)
=== RUN   TestManager_GetConfig
--- PASS: TestManager_GetConfig (0.00s)
=== RUN   TestManager_MultipleMiners
--- PASS: TestManager_MultipleMiners (0.00s)
PASS
ok  	github.com/chimera-pool/chimera-pool-core/internal/stratum/keepalive	(cached)
=== RUN   TestBuildBranch_Empty
--- PASS: TestBuildBranch_Empty (0.00s)
=== RUN   TestBuildBranch_SingleTx
--- PASS: TestBuildBranch_SingleTx (0.00s)
=== RUN   TestBuildBranch_TwoTx
--- PASS: TestBuildBranch_TwoTx (0.00s)
=== RUN   TestBuildBranch_FourTx
--- PASS: TestBuildBranch_FourTx (0.00s)
=== RUN   TestBuildBranch_OddTxCount
--- PASS: TestBuildBranch_OddTxCount (0.00s)
=== RUN   TestComputeRoot
--- PASS: TestComputeRoot (0.00s)
=== RUN   TestBuildBranch_LargeTxCount
--- PASS: TestBuildBranch_LargeTxCount (0.00s)
=== RUN   TestHexConversion
--- PASS: TestHexConversion (0.00s)
PASS
ok  	github.com/chimera-pool/chimera-pool-core/internal/stratum/merkle	(cached)
=== RUN   TestNewJobDeclaratorServer
--- PASS: TestNewJobDeclaratorServer (0.00s)
=== RUN   TestJobDeclaratorServer_StartStop
--- PASS: TestJobDeclaratorServer_StartStop (0.00s)
=== RUN   TestJobDeclaratorServer_StartDisabled
--- PASS: TestJobDeclaratorServer_StartDisabled (0.00s)
=== RUN   TestJobDeclaratorServer_HandleDeclaration_Success
--- PASS: TestJobDeclaratorServer_HandleDeclaration_Success (0.00s)
=== RUN   TestJobDeclaratorServer_HandleDeclaration_InvalidTemplate
--- PASS: TestJobDeclaratorServer_HandleDeclaration_InvalidTemplate (0.00s)
=== RUN   TestJobDeclaratorServer_HandleDeclaration_RateLimit
--- PASS: TestJobDeclaratorServer_HandleDeclaration_RateLimit (0.00s)
=== RUN   TestJobDeclaratorServer_HandleDeclaration_MinerNotAllowed
--- PASS: TestJobDeclaratorServer_HandleDeclaration_MinerNotAllowed (0.00s)
=== RUN   TestJobDeclaratorServer_GetActiveDeclarations
--- PASS: TestJobDeclaratorServer_GetActiveDeclarations (0.00s)
=== RUN   TestJobDeclaratorServer_GetDeclarationByMiner
--- PASS: TestJobDeclaratorServer_GetDeclarationByMiner (0.00s)
=== RUN   TestJobDeclaratorServer_SetTemplatePolicy
--- PASS: TestJobDeclaratorServer_SetTemplatePolicy (0.00s)
=== RUN   TestJobDeclaratorServer_GetStats
--- PASS: TestJobDeclaratorServer_GetStats (0.00s)
=== RUN   TestScryptTemplateValidator_ValidateTemplate_Valid
--- PASS: TestScryptTemplateValidator_ValidateTemplate_Valid (0.00s)
=== RUN   TestScryptTemplateValidator_ValidateTemplate_NullTemplate
--- PASS: TestScryptTemplateValidator_ValidateTemplate_NullTemplate (0.00s)
=== RUN   TestScryptTemplateValidator_ValidateTemplate_InvalidPrevHash
--- PASS: TestScryptTemplateValidator_ValidateTemplate_InvalidPrevHash (0.00s)
=== RUN   TestScryptTemplateValidator_ValidateCoinbase
=== RUN   TestScryptTemplateValidator_ValidateCoinbase/ValidCoinbase
=== RUN   TestScryptTemplateValidator_ValidateCoinbase/CoinbaseTooShort
=== RUN   TestScryptTemplateValidator_ValidateCoinbase/RewardTooHigh
--- PASS: TestScryptTemplateValidator_ValidateCoinbase (0.00s)
    --- PASS: TestScryptTemplateValidator_ValidateCoinbase/ValidCoinbase (0.00s)
    --- PASS: TestScryptTemplateValidator_ValidateCoinbase/CoinbaseTooShort (0.00s)
    --- PASS: TestScryptTemplateValidator_ValidateCoinbase/RewardTooHigh (0.00s)
=== RUN   TestScryptTemplateValidator_GetBlockReward
--- PASS: TestScryptTemplateValidator_GetBlockReward (0.00s)
=== RUN   TestScryptTemplateValidator_GetMaxBlockWeight
--- PASS: TestScryptTemplateValidator_GetMaxBlockWeight (0.00s)
=== RUN   TestDefaultJobNegotiationConfig
--- PASS: TestDefaultJobNegotiationConfig (0.00s)
=== RUN   TestJobNegotiation_FullFlow
    job_negotiation_test.go:377: Skipping integration test in short mode
--- SKIP: TestJobNegotiation_FullFlow (0.00s)
=== RUN   TestJobNegotiation_FallbackOnRejection
--- PASS: TestJobNegotiation_FallbackOnRejection (0.00s)
=== RUN   TestNewLitecoinRPCClient
--- PASS: TestNewLitecoinRPCClient (0.00s)
=== RUN   TestDefaultLitecoinRPCConfig
--- PASS: TestDefaultLitecoinRPCConfig (0.00s)
=== RUN   TestLitecoinRPCClient_GetBlockCount
--- PASS: TestLitecoinRPCClient_GetBlockCount (0.00s)
=== RUN   TestLitecoinRPCClient_GetBlockchainInfo
--- PASS: TestLitecoinRPCClient_GetBlockchainInfo (0.00s)
=== RUN   TestLitecoinRPCClient_GetNetworkDifficulty
--- PASS: TestLitecoinRPCClient_GetNetworkDifficulty (0.00s)
=== RUN   TestLitecoinRPCClient_GetBlockTemplate
--- PASS: TestLitecoinRPCClient_GetBlockTemplate (0.00s)
=== RUN   TestLitecoinRPCClient_SubmitBlock
--- PASS: TestLitecoinRPCClient_SubmitBlock (0.00s)
=== RUN   TestLitecoinRPCClient_RPCError
--- PASS: TestLitecoinRPCClient_RPCError (0.00s)
=== RUN   TestLitecoinRPCClient_ValidateAddress
--- PASS: TestLitecoinRPCClient_ValidateAddress (0.00s)
=== RUN   TestLitecoinRPCClient_GetMiningInfo
--- PASS: TestLitecoinRPCClient_GetMiningInfo (0.00s)
=== RUN   TestLitecoinRPCClient_ConnectionFailure
--- PASS: TestLitecoinRPCClient_ConnectionFailure (0.00s)
=== RUN   TestLitecoinRPCClient_TestConnection
--- PASS: TestLitecoinRPCClient_TestConnection (0.00s)
=== RUN   TestLitecoinRPCClient_GetBestBlockHash
--- PASS: TestLitecoinRPCClient_GetBestBlockHash (0.00s)
=== RUN   TestLitecoinRPCClient_EstimateSmartFee
--- PASS: TestLitecoinRPCClient_EstimateSmartFee (0.00s)
=== RUN   TestNewTemplateProvider
--- PASS: TestNewTemplateProvider (0.00s)
=== RUN   TestTemplateProvider_StartStop
--- PASS: TestTemplateProvider_StartStop (0.10s)
=== RUN   TestTemplateProvider_GetTemplate
--- PASS: TestTemplateProvider_GetTemplate (0.10s)
=== RUN   TestTemplateProvider_GetTemplate_NoTemplate
--- PASS: TestTemplateProvider_GetTemplate_NoTemplate (0.00s)
=== RUN   TestTemplateProvider_GetCurrentHeight
--- PASS: TestTemplateProvider_GetCurrentHeight (0.00s)
=== RUN   TestTemplateProvider_GetNetworkDifficulty
--- PASS: TestTemplateProvider_GetNetworkDifficulty (0.00s)
=== RUN   TestTemplateProvider_SubscribeTemplates
--- PASS: TestTemplateProvider_SubscribeTemplates (0.20s)
=== RUN   TestTemplateProvider_GetStats
--- PASS: TestTemplateProvider_GetStats (0.10s)
=== RUN   TestLitecoinConfig
--- PASS: TestLitecoinConfig (0.00s)
=== RUN   TestBlockDAGConfig
--- PASS: TestBlockDAGConfig (0.00s)
=== RUN   TestCopyBytes
--- PASS: TestCopyBytes (0.00s)
=== RUN   TestReverseBytes
--- PASS: TestReverseBytes (0.00s)
=== RUN   TestBytesEqual
--- PASS: TestBytesEqual (0.00s)
=== RUN   TestEncodeHeight
--- PASS: TestEncodeHeight (0.00s)
=== RUN   TestGenerateTemplateID
--- PASS: TestGenerateTemplateID (0.00s)
=== RUN   TestTemplateSubscription_Unsubscribe
--- PASS: TestTemplateSubscription_Unsubscribe (0.00s)
=== RUN   TestMockRPCClient
--- PASS: TestMockRPCClient (0.00s)
=== RUN   TestMockRPCClient_WithError
--- PASS: TestMockRPCClient_WithError (0.00s)
PASS
ok  	github.com/chimera-pool/chimera-pool-core/internal/stratum/v2	(cached)
=== RUN   TestSerializer_WriteBytes
--- PASS: TestSerializer_WriteBytes (0.00s)
=== RUN   TestSerializer_WriteBytes_Empty
--- PASS: TestSerializer_WriteBytes_Empty (0.00s)
=== RUN   TestSerializer_WriteFixedBytes_ExactSize
--- PASS: TestSerializer_WriteFixedBytes_ExactSize (0.00s)
=== RUN   TestSerializer_WriteFixedBytes_LargerThanN
--- PASS: TestSerializer_WriteFixedBytes_LargerThanN (0.00s)
=== RUN   TestSerializer_WriteSTR0_255_Truncation
--- PASS: TestSerializer_WriteSTR0_255_Truncation (0.00s)
=== RUN   TestSerializer_WriteSTR0_255_Empty
--- PASS: TestSerializer_WriteSTR0_255_Empty (0.00s)
=== RUN   TestSerializer_WriteHeader
--- PASS: TestSerializer_WriteHeader (0.00s)
=== RUN   TestSerializer_Len
--- PASS: TestSerializer_Len (0.00s)
=== RUN   TestSerializer_MultipleWrites
--- PASS: TestSerializer_MultipleWrites (0.00s)
=== RUN   TestDeserializer_Remaining
--- PASS: TestDeserializer_Remaining (0.00s)
=== RUN   TestDeserializer_Position
--- PASS: TestDeserializer_Position (0.00s)
=== RUN   TestDeserializer_ReadF32
--- PASS: TestDeserializer_ReadF32 (0.00s)
=== RUN   TestDeserializer_ReadF32_EOF
--- PASS: TestDeserializer_ReadF32_EOF (0.00s)
=== RUN   TestDeserializer_ReadBytes
--- PASS: TestDeserializer_ReadBytes (0.00s)
=== RUN   TestDeserializer_ReadBytes_EOF
--- PASS: TestDeserializer_ReadBytes_EOF (0.00s)
=== RUN   TestDeserializer_ReadFixedBytes32
--- PASS: TestDeserializer_ReadFixedBytes32 (0.00s)
=== RUN   TestDeserializer_ReadFixedBytes32_EOF
--- PASS: TestDeserializer_ReadFixedBytes32_EOF (0.00s)
=== RUN   TestDeserializer_ReadSTR0_255_EOF_Length
--- PASS: TestDeserializer_ReadSTR0_255_EOF_Length (0.00s)
=== RUN   TestDeserializer_ReadHeader_EOF
=== RUN   TestDeserializer_ReadHeader_EOF/empty
=== RUN   TestDeserializer_ReadHeader_EOF/partial_ext_type
=== RUN   TestDeserializer_ReadHeader_EOF/no_msg_type
=== RUN   TestDeserializer_ReadHeader_EOF/partial_length
=== RUN   TestDeserializer_ReadHeader_EOF/almost_complete
--- PASS: TestDeserializer_ReadHeader_EOF (0.00s)
    --- PASS: TestDeserializer_ReadHeader_EOF/empty (0.00s)
    --- PASS: TestDeserializer_ReadHeader_EOF/partial_ext_type (0.00s)
    --- PASS: TestDeserializer_ReadHeader_EOF/no_msg_type (0.00s)
    --- PASS: TestDeserializer_ReadHeader_EOF/partial_length (0.00s)
    --- PASS: TestDeserializer_ReadHeader_EOF/almost_complete (0.00s)
=== RUN   TestFrameHeader_Serialize_Comprehensive
--- PASS: TestFrameHeader_Serialize_Comprehensive (0.00s)
=== RUN   TestFrameHeader_Serialize_MaxLength
--- PASS: TestFrameHeader_Serialize_MaxLength (0.00s)
=== RUN   TestParseHeader_InvalidLength
--- PASS: TestParseHeader_InvalidLength (0.00s)
=== RUN   TestSTR0_255_Serialize_Comprehensive
--- PASS: TestSTR0_255_Serialize_Comprehensive (0.00s)
=== RUN   TestSTR0_255_Serialize_Truncation
--- PASS: TestSTR0_255_Serialize_Truncation (0.00s)
=== RUN   TestSTR0_255_Serialize_Empty
--- PASS: TestSTR0_255_Serialize_Empty (0.00s)
=== RUN   TestParseSTR0_255_Comprehensive
--- PASS: TestParseSTR0_255_Comprehensive (0.00s)
=== RUN   TestParseSTR0_255_Empty
--- PASS: TestParseSTR0_255_Empty (0.00s)
=== RUN   TestParseSTR0_255_TruncatedLength
--- PASS: TestParseSTR0_255_TruncatedLength (0.00s)
=== RUN   TestParseSTR0_255_TruncatedContent
--- PASS: TestParseSTR0_255_TruncatedContent (0.00s)
=== RUN   TestDeserializeSetupConnection_EOF
=== RUN   TestDeserializeSetupConnection_EOF/empty
=== RUN   TestDeserializeSetupConnection_EOF/only_protocol
=== RUN   TestDeserializeSetupConnection_EOF/partial_min_version
=== RUN   TestDeserializeSetupConnection_EOF/partial_max_version
--- PASS: TestDeserializeSetupConnection_EOF (0.00s)
    --- PASS: TestDeserializeSetupConnection_EOF/empty (0.00s)
    --- PASS: TestDeserializeSetupConnection_EOF/only_protocol (0.00s)
    --- PASS: TestDeserializeSetupConnection_EOF/partial_min_version (0.00s)
    --- PASS: TestDeserializeSetupConnection_EOF/partial_max_version (0.00s)
=== RUN   TestDeserializeSetupConnectionSuccess_EOF
--- PASS: TestDeserializeSetupConnectionSuccess_EOF (0.00s)
=== RUN   TestDeserializeSetupConnectionError_EOF
--- PASS: TestDeserializeSetupConnectionError_EOF (0.00s)
=== RUN   TestDeserializeOpenStandardMiningChannel_EOF
--- PASS: TestDeserializeOpenStandardMiningChannel_EOF (0.00s)
=== RUN   TestDeserializeOpenStandardMiningChannelSuccess_EOF
--- PASS: TestDeserializeOpenStandardMiningChannelSuccess_EOF (0.00s)
=== RUN   TestDeserializeOpenStandardMiningChannelError_EOF
--- PASS: TestDeserializeOpenStandardMiningChannelError_EOF (0.00s)
=== RUN   TestDeserializeNewMiningJob_EOF
--- PASS: TestDeserializeNewMiningJob_EOF (0.00s)
=== RUN   TestDeserializeSetNewPrevHash_EOF
--- PASS: TestDeserializeSetNewPrevHash_EOF (0.00s)
=== RUN   TestDeserializeSubmitSharesStandard_EOF
--- PASS: TestDeserializeSubmitSharesStandard_EOF (0.00s)
=== RUN   TestDeserializeSubmitSharesSuccess_EOF
--- PASS: TestDeserializeSubmitSharesSuccess_EOF (0.00s)
=== RUN   TestDeserializeSubmitSharesError_EOF
--- PASS: TestDeserializeSubmitSharesError_EOF (0.00s)
=== RUN   TestDeserializeSetTarget_EOF
--- PASS: TestDeserializeSetTarget_EOF (0.00s)
=== RUN   TestDeserializeReconnect_EOF
--- PASS: TestDeserializeReconnect_EOF (0.00s)
=== RUN   TestSerializer_WriteU24_MaxValue
--- PASS: TestSerializer_WriteU24_MaxValue (0.00s)
=== RUN   TestSerializer_WriteU24_Zero
--- PASS: TestSerializer_WriteU24_Zero (0.00s)
=== RUN   TestDeserializer_ReadU24_MaxValue
--- PASS: TestDeserializer_ReadU24_MaxValue (0.00s)
=== RUN   TestNewMiningJob_WithFuturePrevHash
--- PASS: TestNewMiningJob_WithFuturePrevHash (0.00s)
=== RUN   TestMessageTypeConstants
--- PASS: TestMessageTypeConstants (0.00s)
=== RUN   TestExtensionTypeConstants
--- PASS: TestExtensionTypeConstants (0.00s)
=== RUN   TestErrorCodeConstants
--- PASS: TestErrorCodeConstants (0.00s)
=== RUN   TestErrorVariables
--- PASS: TestErrorVariables (0.00s)
=== RUN   TestSerializer_WriteU8
--- PASS: TestSerializer_WriteU8 (0.00s)
=== RUN   TestSerializer_WriteU16
--- PASS: TestSerializer_WriteU16 (0.00s)
=== RUN   TestSerializer_WriteU24
--- PASS: TestSerializer_WriteU24 (0.00s)
=== RUN   TestSerializer_WriteU32
--- PASS: TestSerializer_WriteU32 (0.00s)
=== RUN   TestSerializer_WriteU64
--- PASS: TestSerializer_WriteU64 (0.00s)
=== RUN   TestSerializer_WriteF32
--- PASS: TestSerializer_WriteF32 (0.00s)
=== RUN   TestSerializer_WriteBool
--- PASS: TestSerializer_WriteBool (0.00s)
=== RUN   TestSerializer_WriteSTR0_255
--- PASS: TestSerializer_WriteSTR0_255 (0.00s)
=== RUN   TestSerializer_WriteFixedBytes
--- PASS: TestSerializer_WriteFixedBytes (0.00s)
=== RUN   TestSerializer_Reset
--- PASS: TestSerializer_Reset (0.00s)
=== RUN   TestDeserializer_ReadU8
--- PASS: TestDeserializer_ReadU8 (0.00s)
=== RUN   TestDeserializer_ReadU16
--- PASS: TestDeserializer_ReadU16 (0.00s)
=== RUN   TestDeserializer_ReadU24
--- PASS: TestDeserializer_ReadU24 (0.00s)
=== RUN   TestDeserializer_ReadU32
--- PASS: TestDeserializer_ReadU32 (0.00s)
=== RUN   TestDeserializer_ReadU64
--- PASS: TestDeserializer_ReadU64 (0.00s)
=== RUN   TestDeserializer_ReadBool
--- PASS: TestDeserializer_ReadBool (0.00s)
=== RUN   TestDeserializer_ReadSTR0_255
--- PASS: TestDeserializer_ReadSTR0_255 (0.00s)
=== RUN   TestDeserializer_ReadHeader
--- PASS: TestDeserializer_ReadHeader (0.00s)
=== RUN   TestDeserializer_EOF_Errors
=== RUN   TestDeserializer_EOF_Errors/U8_empty
=== RUN   TestDeserializer_EOF_Errors/U16_short
=== RUN   TestDeserializer_EOF_Errors/U24_short
=== RUN   TestDeserializer_EOF_Errors/U32_short
=== RUN   TestDeserializer_EOF_Errors/U64_short
=== RUN   TestDeserializer_EOF_Errors/STR0_255_short
--- PASS: TestDeserializer_EOF_Errors (0.00s)
    --- PASS: TestDeserializer_EOF_Errors/U8_empty (0.00s)
    --- PASS: TestDeserializer_EOF_Errors/U16_short (0.00s)
    --- PASS: TestDeserializer_EOF_Errors/U24_short (0.00s)
    --- PASS: TestDeserializer_EOF_Errors/U32_short (0.00s)
    --- PASS: TestDeserializer_EOF_Errors/U64_short (0.00s)
    --- PASS: TestDeserializer_EOF_Errors/STR0_255_short (0.00s)
=== RUN   TestSetupConnection_RoundTrip
--- PASS: TestSetupConnection_RoundTrip (0.00s)
=== RUN   TestSetupConnectionSuccess_RoundTrip
--- PASS: TestSetupConnectionSuccess_RoundTrip (0.00s)
=== RUN   TestSetupConnectionError_RoundTrip
--- PASS: TestSetupConnectionError_RoundTrip (0.00s)
=== RUN   TestOpenStandardMiningChannel_RoundTrip
--- PASS: TestOpenStandardMiningChannel_RoundTrip (0.00s)
=== RUN   TestOpenStandardMiningChannelSuccess_RoundTrip
--- PASS: TestOpenStandardMiningChannelSuccess_RoundTrip (0.00s)
=== RUN   TestOpenStandardMiningChannelError_RoundTrip
--- PASS: TestOpenStandardMiningChannelError_RoundTrip (0.00s)
=== RUN   TestNewMiningJob_RoundTrip
--- PASS: TestNewMiningJob_RoundTrip (0.00s)
=== RUN   TestSetNewPrevHash_RoundTrip
--- PASS: TestSetNewPrevHash_RoundTrip (0.00s)
=== RUN   TestSubmitSharesStandard_RoundTrip
--- PASS: TestSubmitSharesStandard_RoundTrip (0.00s)
=== RUN   TestSubmitSharesSuccess_RoundTrip
--- PASS: TestSubmitSharesSuccess_RoundTrip (0.00s)
=== RUN   TestSubmitSharesError_RoundTrip
--- PASS: TestSubmitSharesError_RoundTrip (0.00s)
=== RUN   TestSetTarget_RoundTrip
--- PASS: TestSetTarget_RoundTrip (0.00s)
=== RUN   TestReconnect_RoundTrip
--- PASS: TestReconnect_RoundTrip (0.00s)
=== RUN   TestSerializeFrame
--- PASS: TestSerializeFrame (0.00s)
=== RUN   TestFrameHeader_Serialize
=== RUN   TestFrameHeader_Serialize/SetupConnection_header
=== RUN   TestFrameHeader_Serialize/NewMiningJob_header_with_version_rolling
=== RUN   TestFrameHeader_Serialize/Large_message_length_(24-bit)
--- PASS: TestFrameHeader_Serialize (0.00s)
    --- PASS: TestFrameHeader_Serialize/SetupConnection_header (0.00s)
    --- PASS: TestFrameHeader_Serialize/NewMiningJob_header_with_version_rolling (0.00s)
    --- PASS: TestFrameHeader_Serialize/Large_message_length_(24-bit) (0.00s)
=== RUN   TestParseHeader
=== RUN   TestParseHeader/Valid_SetupConnection_header
=== RUN   TestParseHeader/Valid_NewMiningJob_with_extensions
=== RUN   TestParseHeader/Too_short_-_5_bytes
=== RUN   TestParseHeader/Empty_data
--- PASS: TestParseHeader (0.00s)
    --- PASS: TestParseHeader/Valid_SetupConnection_header (0.00s)
    --- PASS: TestParseHeader/Valid_NewMiningJob_with_extensions (0.00s)
    --- PASS: TestParseHeader/Too_short_-_5_bytes (0.00s)
    --- PASS: TestParseHeader/Empty_data (0.00s)
=== RUN   TestFrameHeader_RoundTrip
--- PASS: TestFrameHeader_RoundTrip (0.00s)
=== RUN   TestSTR0_255_Serialize
=== RUN   TestSTR0_255_Serialize/Empty_string
=== RUN   TestSTR0_255_Serialize/Short_string
=== RUN   TestSTR0_255_Serialize/Worker_identity
--- PASS: TestSTR0_255_Serialize (0.00s)
    --- PASS: TestSTR0_255_Serialize/Empty_string (0.00s)
    --- PASS: TestSTR0_255_Serialize/Short_string (0.00s)
    --- PASS: TestSTR0_255_Serialize/Worker_identity (0.00s)
=== RUN   TestSTR0_255_TruncatesLongStrings
--- PASS: TestSTR0_255_TruncatesLongStrings (0.00s)
=== RUN   TestParseSTR0_255
=== RUN   TestParseSTR0_255/Empty_string
=== RUN   TestParseSTR0_255/Short_string
=== RUN   TestParseSTR0_255/String_with_trailing_data
=== RUN   TestParseSTR0_255/Truncated_-_length_says_10_but_only_5_bytes
=== RUN   TestParseSTR0_255/Empty_data
--- PASS: TestParseSTR0_255 (0.00s)
    --- PASS: TestParseSTR0_255/Empty_string (0.00s)
    --- PASS: TestParseSTR0_255/Short_string (0.00s)
    --- PASS: TestParseSTR0_255/String_with_trailing_data (0.00s)
    --- PASS: TestParseSTR0_255/Truncated_-_length_says_10_but_only_5_bytes (0.00s)
    --- PASS: TestParseSTR0_255/Empty_data (0.00s)
=== RUN   TestSTR0_255_RoundTrip
--- PASS: TestSTR0_255_RoundTrip (0.00s)
=== RUN   TestMessageTypeConstants_Unique
--- PASS: TestMessageTypeConstants_Unique (0.00s)
=== RUN   TestMessageTypeRanges
--- PASS: TestMessageTypeRanges (0.00s)
=== RUN   TestErrorCodes_Unique
--- PASS: TestErrorCodes_Unique (0.00s)
=== RUN   TestExtensionTypes_Flags
--- PASS: TestExtensionTypes_Flags (0.00s)
=== RUN   TestHeaderSize
--- PASS: TestHeaderSize (0.00s)
PASS
ok  	github.com/chimera-pool/chimera-pool-core/internal/stratum/v2/binary	(cached)
=== RUN   TestGenerateKeyPair
--- PASS: TestGenerateKeyPair (0.00s)
=== RUN   TestGenerateKeyPair_Unique
--- PASS: TestGenerateKeyPair_Unique (0.00s)
=== RUN   TestKeyPair_DH
--- PASS: TestKeyPair_DH (0.00s)
=== RUN   TestKeyPair_DH_InvalidPublicKey
--- PASS: TestKeyPair_DH_InvalidPublicKey (0.00s)
=== RUN   TestCipherState_EncryptDecrypt
--- PASS: TestCipherState_EncryptDecrypt (0.00s)
=== RUN   TestCipherState_NonceIncrement
--- PASS: TestCipherState_NonceIncrement (0.00s)
=== RUN   TestCipherState_DecryptWrongAD
--- PASS: TestCipherState_DecryptWrongAD (0.00s)
=== RUN   TestSymmetricState_MixHash
--- PASS: TestSymmetricState_MixHash (0.00s)
=== RUN   TestSymmetricState_MixKey
--- PASS: TestSymmetricState_MixKey (0.00s)
=== RUN   TestSymmetricState_EncryptAndHash_BeforeKey
--- PASS: TestSymmetricState_EncryptAndHash_BeforeKey (0.00s)
=== RUN   TestSymmetricState_EncryptAndHash_AfterKey
--- PASS: TestSymmetricState_EncryptAndHash_AfterKey (0.00s)
=== RUN   TestSymmetricState_Split
--- PASS: TestSymmetricState_Split (0.00s)
=== RUN   TestNewInitiatorHandshake
--- PASS: TestNewInitiatorHandshake (0.00s)
=== RUN   TestNewResponderHandshake
--- PASS: TestNewResponderHandshake (0.00s)
=== RUN   TestNewResponderHandshake_NilStaticKey
--- PASS: TestNewResponderHandshake_NilStaticKey (0.00s)
=== RUN   TestHandshake_NX_FullExchange
--- PASS: TestHandshake_NX_FullExchange (0.00s)
=== RUN   TestHandshake_IsComplete
--- PASS: TestHandshake_IsComplete (0.00s)
=== RUN   TestHandshake_GetRemoteStatic
--- PASS: TestHandshake_GetRemoteStatic (0.00s)
=== RUN   TestSecureChannel_EncryptDecrypt
--- PASS: TestSecureChannel_EncryptDecrypt (0.00s)
=== RUN   TestSecureChannel_IsEstablished
--- PASS: TestSecureChannel_IsEstablished (0.00s)
=== RUN   TestSHA256Hash
--- PASS: TestSHA256Hash (0.00s)
=== RUN   TestSHA256Hash_Empty
--- PASS: TestSHA256Hash_Empty (0.00s)
PASS
ok  	github.com/chimera-pool/chimera-pool-core/internal/stratum/v2/noise	(cached)
=== RUN   TestVardiffConfig
=== RUN   TestVardiffConfig/valid_config
=== RUN   TestVardiffConfig/invalid_-_zero_target_time
=== RUN   TestVardiffConfig/invalid_-_min_>_max_difficulty
--- PASS: TestVardiffConfig (0.00s)
    --- PASS: TestVardiffConfig/valid_config (0.00s)
    --- PASS: TestVardiffConfig/invalid_-_zero_target_time (0.00s)
    --- PASS: TestVardiffConfig/invalid_-_min_>_max_difficulty (0.00s)
=== RUN   TestVardiffManager_InitialDifficulty
--- PASS: TestVardiffManager_InitialDifficulty (0.00s)
=== RUN   TestVardiffManager_SetDifficulty
--- PASS: TestVardiffManager_SetDifficulty (0.00s)
=== RUN   TestVardiffManager_SetDifficulty_Bounds
--- PASS: TestVardiffManager_SetDifficulty_Bounds (0.00s)
=== RUN   TestVardiffManager_AdjustDifficulty_TooFast
--- PASS: TestVardiffManager_AdjustDifficulty_TooFast (0.01s)
=== RUN   TestVardiffManager_AdjustDifficulty_TooSlow
--- PASS: TestVardiffManager_AdjustDifficulty_TooSlow (0.00s)
=== RUN   TestVardiffManager_AdjustDifficulty_WithinVariance
--- PASS: TestVardiffManager_AdjustDifficulty_WithinVariance (0.00s)
=== RUN   TestVardiffManager_GetTargetShareTime
--- PASS: TestVardiffManager_GetTargetShareTime (0.00s)
=== RUN   TestVardiffManager_Concurrent
--- PASS: TestVardiffManager_Concurrent (0.00s)
=== RUN   TestVardiffManager_RemoveMiner
--- PASS: TestVardiffManager_RemoveMiner (0.00s)
=== RUN   TestX100OptimizedConfig
=== RUN   TestX100OptimizedConfig/has_correct_target_share_time
=== RUN   TestX100OptimizedConfig/has_appropriate_initial_difficulty_for_X100_on_Scrypt
=== RUN   TestX100OptimizedConfig/has_stable_retarget_interval
=== RUN   TestX100OptimizedConfig/has_balanced_variance_for_stability
=== RUN   TestX100OptimizedConfig/has_larger_share_window_for_smoothing
=== RUN   TestX100OptimizedConfig/validates_successfully
--- PASS: TestX100OptimizedConfig (0.00s)
    --- PASS: TestX100OptimizedConfig/has_correct_target_share_time (0.00s)
    --- PASS: TestX100OptimizedConfig/has_appropriate_initial_difficulty_for_X100_on_Scrypt (0.00s)
    --- PASS: TestX100OptimizedConfig/has_stable_retarget_interval (0.00s)
    --- PASS: TestX100OptimizedConfig/has_balanced_variance_for_stability (0.00s)
    --- PASS: TestX100OptimizedConfig/has_larger_share_window_for_smoothing (0.00s)
    --- PASS: TestX100OptimizedConfig/validates_successfully (0.00s)
=== RUN   TestCalculateOptimalDifficulty
=== RUN   TestCalculateOptimalDifficulty/X100_on_Scrypt_(15_TH/s)
=== RUN   TestCalculateOptimalDifficulty/X100_on_BlockDAG_Scrpy_(70_TH/s)
=== RUN   TestCalculateOptimalDifficulty/Low_hashrate_GPU_(100_MH/s)
=== RUN   TestCalculateOptimalDifficulty/High_hashrate_ASIC_(500_TH/s)
--- PASS: TestCalculateOptimalDifficulty (0.00s)
    --- PASS: TestCalculateOptimalDifficulty/X100_on_Scrypt_(15_TH/s) (0.00s)
    --- PASS: TestCalculateOptimalDifficulty/X100_on_BlockDAG_Scrpy_(70_TH/s) (0.00s)
    --- PASS: TestCalculateOptimalDifficulty/Low_hashrate_GPU_(100_MH/s) (0.00s)
    --- PASS: TestCalculateOptimalDifficulty/High_hashrate_ASIC_(500_TH/s) (0.00s)
=== RUN   TestCalculateExpectedHashrate
=== RUN   TestCalculateExpectedHashrate/X100_difficulty_with_10s_shares
=== RUN   TestCalculateExpectedHashrate/High_difficulty_with_15s_shares
=== RUN   TestCalculateExpectedHashrate/Zero_share_time_returns_zero
--- PASS: TestCalculateExpectedHashrate (0.00s)
    --- PASS: TestCalculateExpectedHashrate/X100_difficulty_with_10s_shares (0.00s)
    --- PASS: TestCalculateExpectedHashrate/High_difficulty_with_15s_shares (0.00s)
    --- PASS: TestCalculateExpectedHashrate/Zero_share_time_returns_zero (0.00s)
=== RUN   TestHighHashrateASICConfig
=== RUN   TestHighHashrateASICConfig/validates_successfully
=== RUN   TestHighHashrateASICConfig/has_higher_initial_difficulty
=== RUN   TestHighHashrateASICConfig/has_longer_share_window
--- PASS: TestHighHashrateASICConfig (0.00s)
    --- PASS: TestHighHashrateASICConfig/validates_successfully (0.00s)
    --- PASS: TestHighHashrateASICConfig/has_higher_initial_difficulty (0.00s)
    --- PASS: TestHighHashrateASICConfig/has_longer_share_window (0.00s)
=== RUN   TestLowLatencyConfig
=== RUN   TestLowLatencyConfig/validates_successfully
=== RUN   TestLowLatencyConfig/has_shorter_target_share_time
=== RUN   TestLowLatencyConfig/has_more_variance_tolerance
--- PASS: TestLowLatencyConfig (0.00s)
    --- PASS: TestLowLatencyConfig/validates_successfully (0.00s)
    --- PASS: TestLowLatencyConfig/has_shorter_target_share_time (0.00s)
    --- PASS: TestLowLatencyConfig/has_more_variance_tolerance (0.00s)
=== RUN   TestVardiffStability
--- PASS: TestVardiffStability (0.00s)
PASS
ok  	github.com/chimera-pool/chimera-pool-core/internal/stratum/vardiff	(cached)
=== RUN   TestSetupTestDatabase
    testutil_test.go:14: Skipping integration test - set INTEGRATION_TEST=true to run
--- SKIP: TestSetupTestDatabase (0.00s)
=== RUN   TestSetupTestRedis
    testutil_test.go:14: Skipping integration test - set INTEGRATION_TEST=true to run
--- SKIP: TestSetupTestRedis (0.00s)
=== RUN   TestBenchmarkHelper
Benchmark test_benchmark: 1000 iterations in 0s (0.00 ns/op)
--- PASS: TestBenchmarkHelper (0.00s)
PASS
ok  	github.com/chimera-pool/chimera-pool-core/internal/testutil	(cached)
FAIL
